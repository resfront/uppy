(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports = dragDrop

var flatten = require('flatten')
var parallel = require('run-parallel')

function dragDrop (elem, listeners) {
  if (typeof elem === 'string') {
    elem = window.document.querySelector(elem)
  }

  if (typeof listeners === 'function') {
    listeners = { onDrop: listeners }
  }

  var timeout

  elem.addEventListener('dragenter', stopEvent, false)
  elem.addEventListener('dragover', onDragOver, false)
  elem.addEventListener('dragleave', onDragLeave, false)
  elem.addEventListener('drop', onDrop, false)

  // Function to remove drag-drop listeners
  return function remove () {
    removeDragClass()
    elem.removeEventListener('dragenter', stopEvent, false)
    elem.removeEventListener('dragover', onDragOver, false)
    elem.removeEventListener('dragleave', onDragLeave, false)
    elem.removeEventListener('drop', onDrop, false)
  }

  function onDragOver (e) {
    e.stopPropagation()
    e.preventDefault()
    if (e.dataTransfer.items) {
      // Only add "drag" class when `items` contains a file
      var items = toArray(e.dataTransfer.items).filter(function (item) {
        return item.kind === 'file'
      })
      if (items.length === 0) return
    }

    elem.classList.add('drag')
    clearTimeout(timeout)

    if (listeners.onDragOver) {
      listeners.onDragOver(e)
    }

    e.dataTransfer.dropEffect = 'copy'
    return false
  }

  function onDragLeave (e) {
    e.stopPropagation()
    e.preventDefault()

    if (listeners.onDragLeave) {
      listeners.onDragLeave(e)
    }

    clearTimeout(timeout)
    timeout = setTimeout(removeDragClass, 50)

    return false
  }

  function onDrop (e) {
    e.stopPropagation()
    e.preventDefault()

    if (listeners.onDragLeave) {
      listeners.onDragLeave(e)
    }

    clearTimeout(timeout)
    removeDragClass()

    var pos = {
      x: e.clientX,
      y: e.clientY
    }

    if (e.dataTransfer.items) {
      // Handle directories in Chrome using the proprietary FileSystem API
      var items = toArray(e.dataTransfer.items).filter(function (item) {
        return item.kind === 'file'
      })

      if (items.length === 0) return

      parallel(items.map(function (item) {
        return function (cb) {
          processEntry(item.webkitGetAsEntry(), cb)
        }
      }), function (err, results) {
        // This catches permission errors with file:// in Chrome. This should never
        // throw in production code, so the user does not need to use try-catch.
        if (err) throw err
        if (listeners.onDrop) {
          listeners.onDrop(flatten(results), pos)
        }
      })
    } else {
      var files = toArray(e.dataTransfer.files)

      if (files.length === 0) return

      files.forEach(function (file) {
        file.fullPath = '/' + file.name
      })

      if (listeners.onDrop) {
        listeners.onDrop(files, pos)
      }
    }

    return false
  }

  function removeDragClass () {
    elem.classList.remove('drag')
  }
}

function stopEvent (e) {
  e.stopPropagation()
  e.preventDefault()
  return false
}

function processEntry (entry, cb) {
  var entries = []

  if (entry.isFile) {
    entry.file(function (file) {
      file.fullPath = entry.fullPath  // preserve pathing for consumer
      cb(null, file)
    }, function (err) {
      cb(err)
    })
  } else if (entry.isDirectory) {
    var reader = entry.createReader()
    readEntries()
  }

  function readEntries () {
    reader.readEntries(function (entries_) {
      if (entries_.length > 0) {
        entries = entries.concat(toArray(entries_))
        readEntries() // continue reading entries until `readEntries` returns no more
      } else {
        doneEntries()
      }
    })
  }

  function doneEntries () {
    parallel(entries.map(function (entry) {
      return function (cb) {
        processEntry(entry, cb)
      }
    }), cb)
  }
}

function toArray (list) {
  return Array.prototype.slice.call(list || [], 0)
}

},{"flatten":2,"run-parallel":3}],2:[function(require,module,exports){
module.exports = function flatten(list, depth) {
  depth = (typeof depth == 'number') ? depth : Infinity;

  if (!depth) {
    if (Array.isArray(list)) {
      return list.map(function(i) { return i; });
    }
    return list;
  }

  return _flatten(list, 1);

  function _flatten(list, d) {
    return list.reduce(function (acc, item) {
      if (Array.isArray(item) && d < depth) {
        return acc.concat(_flatten(item, d + 1));
      }
      else {
        return acc.concat(item);
      }
    }, []);
  }
};

},{}],3:[function(require,module,exports){
(function (process){
module.exports = function (tasks, cb) {
  var results, pending, keys
  var isSync = true

  if (Array.isArray(tasks)) {
    results = []
    pending = tasks.length
  } else {
    keys = Object.keys(tasks)
    results = {}
    pending = keys.length
  }

  function done (err) {
    function end () {
      if (cb) cb(err, results)
      cb = null
    }
    if (isSync) process.nextTick(end)
    else end()
  }

  function each (i, err, result) {
    results[i] = result
    if (--pending === 0 || err) {
      done(err)
    }
  }

  if (!pending) {
    // empty
    done(null)
  } else if (keys) {
    // object
    keys.forEach(function (key) {
      tasks[key](function (err, result) { each(key, err, result) })
    })
  } else {
    // array
    tasks.forEach(function (task, i) {
      task(function (err, result) { each(i, err, result) })
    })
  }

  isSync = false
}

}).call(this,require('_process'))

},{"_process":74}],4:[function(require,module,exports){
(function (process,global){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.2.1
 */

(function() {
    "use strict";
    function lib$es6$promise$utils$$objectOrFunction(x) {
      return typeof x === 'function' || (typeof x === 'object' && x !== null);
    }

    function lib$es6$promise$utils$$isFunction(x) {
      return typeof x === 'function';
    }

    function lib$es6$promise$utils$$isMaybeThenable(x) {
      return typeof x === 'object' && x !== null;
    }

    var lib$es6$promise$utils$$_isArray;
    if (!Array.isArray) {
      lib$es6$promise$utils$$_isArray = function (x) {
        return Object.prototype.toString.call(x) === '[object Array]';
      };
    } else {
      lib$es6$promise$utils$$_isArray = Array.isArray;
    }

    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;
    var lib$es6$promise$asap$$len = 0;
    var lib$es6$promise$asap$$vertxNext;
    var lib$es6$promise$asap$$customSchedulerFn;

    var lib$es6$promise$asap$$asap = function asap(callback, arg) {
      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;
      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;
      lib$es6$promise$asap$$len += 2;
      if (lib$es6$promise$asap$$len === 2) {
        // If len is 2, that means that we need to schedule an async flush.
        // If additional callbacks are queued before the queue is flushed, they
        // will be processed by this flush that we are scheduling.
        if (lib$es6$promise$asap$$customSchedulerFn) {
          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);
        } else {
          lib$es6$promise$asap$$scheduleFlush();
        }
      }
    }

    function lib$es6$promise$asap$$setScheduler(scheduleFn) {
      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;
    }

    function lib$es6$promise$asap$$setAsap(asapFn) {
      lib$es6$promise$asap$$asap = asapFn;
    }

    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;
    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};
    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;
    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';

    // test for web worker but not in IE10
    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&
      typeof importScripts !== 'undefined' &&
      typeof MessageChannel !== 'undefined';

    // node
    function lib$es6$promise$asap$$useNextTick() {
      // node version 0.10.x displays a deprecation warning when nextTick is used recursively
      // see https://github.com/cujojs/when/issues/410 for details
      return function() {
        process.nextTick(lib$es6$promise$asap$$flush);
      };
    }

    // vertx
    function lib$es6$promise$asap$$useVertxTimer() {
      return function() {
        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);
      };
    }

    function lib$es6$promise$asap$$useMutationObserver() {
      var iterations = 0;
      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);
      var node = document.createTextNode('');
      observer.observe(node, { characterData: true });

      return function() {
        node.data = (iterations = ++iterations % 2);
      };
    }

    // web worker
    function lib$es6$promise$asap$$useMessageChannel() {
      var channel = new MessageChannel();
      channel.port1.onmessage = lib$es6$promise$asap$$flush;
      return function () {
        channel.port2.postMessage(0);
      };
    }

    function lib$es6$promise$asap$$useSetTimeout() {
      return function() {
        setTimeout(lib$es6$promise$asap$$flush, 1);
      };
    }

    var lib$es6$promise$asap$$queue = new Array(1000);
    function lib$es6$promise$asap$$flush() {
      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {
        var callback = lib$es6$promise$asap$$queue[i];
        var arg = lib$es6$promise$asap$$queue[i+1];

        callback(arg);

        lib$es6$promise$asap$$queue[i] = undefined;
        lib$es6$promise$asap$$queue[i+1] = undefined;
      }

      lib$es6$promise$asap$$len = 0;
    }

    function lib$es6$promise$asap$$attemptVertx() {
      try {
        var r = require;
        var vertx = r('vertx');
        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;
        return lib$es6$promise$asap$$useVertxTimer();
      } catch(e) {
        return lib$es6$promise$asap$$useSetTimeout();
      }
    }

    var lib$es6$promise$asap$$scheduleFlush;
    // Decide what async method to use to triggering processing of queued callbacks:
    if (lib$es6$promise$asap$$isNode) {
      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();
    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {
      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();
    } else if (lib$es6$promise$asap$$isWorker) {
      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();
    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {
      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();
    } else {
      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();
    }
    function lib$es6$promise$then$$then(onFulfillment, onRejection) {
      var parent = this;

      var child = new this.constructor(lib$es6$promise$$internal$$noop);

      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {
        lib$es6$promise$$internal$$makePromise(child);
      }

      var state = parent._state;

      if (state) {
        var callback = arguments[state - 1];
        lib$es6$promise$asap$$asap(function(){
          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);
        });
      } else {
        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);
      }

      return child;
    }
    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;
    function lib$es6$promise$promise$resolve$$resolve(object) {
      /*jshint validthis:true */
      var Constructor = this;

      if (object && typeof object === 'object' && object.constructor === Constructor) {
        return object;
      }

      var promise = new Constructor(lib$es6$promise$$internal$$noop);
      lib$es6$promise$$internal$$resolve(promise, object);
      return promise;
    }
    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;
    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);

    function lib$es6$promise$$internal$$noop() {}

    var lib$es6$promise$$internal$$PENDING   = void 0;
    var lib$es6$promise$$internal$$FULFILLED = 1;
    var lib$es6$promise$$internal$$REJECTED  = 2;

    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();

    function lib$es6$promise$$internal$$selfFulfillment() {
      return new TypeError("You cannot resolve a promise with itself");
    }

    function lib$es6$promise$$internal$$cannotReturnOwn() {
      return new TypeError('A promises callback cannot return that same promise.');
    }

    function lib$es6$promise$$internal$$getThen(promise) {
      try {
        return promise.then;
      } catch(error) {
        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;
        return lib$es6$promise$$internal$$GET_THEN_ERROR;
      }
    }

    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {
      try {
        then.call(value, fulfillmentHandler, rejectionHandler);
      } catch(e) {
        return e;
      }
    }

    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {
       lib$es6$promise$asap$$asap(function(promise) {
        var sealed = false;
        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {
          if (sealed) { return; }
          sealed = true;
          if (thenable !== value) {
            lib$es6$promise$$internal$$resolve(promise, value);
          } else {
            lib$es6$promise$$internal$$fulfill(promise, value);
          }
        }, function(reason) {
          if (sealed) { return; }
          sealed = true;

          lib$es6$promise$$internal$$reject(promise, reason);
        }, 'Settle: ' + (promise._label || ' unknown promise'));

        if (!sealed && error) {
          sealed = true;
          lib$es6$promise$$internal$$reject(promise, error);
        }
      }, promise);
    }

    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {
      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {
        lib$es6$promise$$internal$$fulfill(promise, thenable._result);
      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {
        lib$es6$promise$$internal$$reject(promise, thenable._result);
      } else {
        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {
          lib$es6$promise$$internal$$resolve(promise, value);
        }, function(reason) {
          lib$es6$promise$$internal$$reject(promise, reason);
        });
      }
    }

    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {
      if (maybeThenable.constructor === promise.constructor &&
          then === lib$es6$promise$then$$default &&
          constructor.resolve === lib$es6$promise$promise$resolve$$default) {
        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);
      } else {
        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {
          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);
        } else if (then === undefined) {
          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);
        } else if (lib$es6$promise$utils$$isFunction(then)) {
          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);
        } else {
          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);
        }
      }
    }

    function lib$es6$promise$$internal$$resolve(promise, value) {
      if (promise === value) {
        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());
      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {
        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));
      } else {
        lib$es6$promise$$internal$$fulfill(promise, value);
      }
    }

    function lib$es6$promise$$internal$$publishRejection(promise) {
      if (promise._onerror) {
        promise._onerror(promise._result);
      }

      lib$es6$promise$$internal$$publish(promise);
    }

    function lib$es6$promise$$internal$$fulfill(promise, value) {
      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }

      promise._result = value;
      promise._state = lib$es6$promise$$internal$$FULFILLED;

      if (promise._subscribers.length !== 0) {
        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);
      }
    }

    function lib$es6$promise$$internal$$reject(promise, reason) {
      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }
      promise._state = lib$es6$promise$$internal$$REJECTED;
      promise._result = reason;

      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);
    }

    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {
      var subscribers = parent._subscribers;
      var length = subscribers.length;

      parent._onerror = null;

      subscribers[length] = child;
      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;
      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;

      if (length === 0 && parent._state) {
        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);
      }
    }

    function lib$es6$promise$$internal$$publish(promise) {
      var subscribers = promise._subscribers;
      var settled = promise._state;

      if (subscribers.length === 0) { return; }

      var child, callback, detail = promise._result;

      for (var i = 0; i < subscribers.length; i += 3) {
        child = subscribers[i];
        callback = subscribers[i + settled];

        if (child) {
          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);
        } else {
          callback(detail);
        }
      }

      promise._subscribers.length = 0;
    }

    function lib$es6$promise$$internal$$ErrorObject() {
      this.error = null;
    }

    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();

    function lib$es6$promise$$internal$$tryCatch(callback, detail) {
      try {
        return callback(detail);
      } catch(e) {
        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;
        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;
      }
    }

    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {
      var hasCallback = lib$es6$promise$utils$$isFunction(callback),
          value, error, succeeded, failed;

      if (hasCallback) {
        value = lib$es6$promise$$internal$$tryCatch(callback, detail);

        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {
          failed = true;
          error = value.error;
          value = null;
        } else {
          succeeded = true;
        }

        if (promise === value) {
          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());
          return;
        }

      } else {
        value = detail;
        succeeded = true;
      }

      if (promise._state !== lib$es6$promise$$internal$$PENDING) {
        // noop
      } else if (hasCallback && succeeded) {
        lib$es6$promise$$internal$$resolve(promise, value);
      } else if (failed) {
        lib$es6$promise$$internal$$reject(promise, error);
      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {
        lib$es6$promise$$internal$$fulfill(promise, value);
      } else if (settled === lib$es6$promise$$internal$$REJECTED) {
        lib$es6$promise$$internal$$reject(promise, value);
      }
    }

    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {
      try {
        resolver(function resolvePromise(value){
          lib$es6$promise$$internal$$resolve(promise, value);
        }, function rejectPromise(reason) {
          lib$es6$promise$$internal$$reject(promise, reason);
        });
      } catch(e) {
        lib$es6$promise$$internal$$reject(promise, e);
      }
    }

    var lib$es6$promise$$internal$$id = 0;
    function lib$es6$promise$$internal$$nextId() {
      return lib$es6$promise$$internal$$id++;
    }

    function lib$es6$promise$$internal$$makePromise(promise) {
      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;
      promise._state = undefined;
      promise._result = undefined;
      promise._subscribers = [];
    }

    function lib$es6$promise$promise$all$$all(entries) {
      return new lib$es6$promise$enumerator$$default(this, entries).promise;
    }
    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;
    function lib$es6$promise$promise$race$$race(entries) {
      /*jshint validthis:true */
      var Constructor = this;

      if (!lib$es6$promise$utils$$isArray(entries)) {
        return new Constructor(function(resolve, reject) {
          reject(new TypeError('You must pass an array to race.'));
        });
      } else {
        return new Constructor(function(resolve, reject) {
          var length = entries.length;
          for (var i = 0; i < length; i++) {
            Constructor.resolve(entries[i]).then(resolve, reject);
          }
        });
      }
    }
    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;
    function lib$es6$promise$promise$reject$$reject(reason) {
      /*jshint validthis:true */
      var Constructor = this;
      var promise = new Constructor(lib$es6$promise$$internal$$noop);
      lib$es6$promise$$internal$$reject(promise, reason);
      return promise;
    }
    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;


    function lib$es6$promise$promise$$needsResolver() {
      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
    }

    function lib$es6$promise$promise$$needsNew() {
      throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
    }

    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;
    /**
      Promise objects represent the eventual result of an asynchronous operation. The
      primary way of interacting with a promise is through its `then` method, which
      registers callbacks to receive either a promise's eventual value or the reason
      why the promise cannot be fulfilled.

      Terminology
      -----------

      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
      - `thenable` is an object or function that defines a `then` method.
      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
      - `exception` is a value that is thrown using the throw statement.
      - `reason` is a value that indicates why a promise was rejected.
      - `settled` the final resting state of a promise, fulfilled or rejected.

      A promise can be in one of three states: pending, fulfilled, or rejected.

      Promises that are fulfilled have a fulfillment value and are in the fulfilled
      state.  Promises that are rejected have a rejection reason and are in the
      rejected state.  A fulfillment value is never a thenable.

      Promises can also be said to *resolve* a value.  If this value is also a
      promise, then the original promise's settled state will match the value's
      settled state.  So a promise that *resolves* a promise that rejects will
      itself reject, and a promise that *resolves* a promise that fulfills will
      itself fulfill.


      Basic Usage:
      ------------

      ```js
      var promise = new Promise(function(resolve, reject) {
        // on success
        resolve(value);

        // on failure
        reject(reason);
      });

      promise.then(function(value) {
        // on fulfillment
      }, function(reason) {
        // on rejection
      });
      ```

      Advanced Usage:
      ---------------

      Promises shine when abstracting away asynchronous interactions such as
      `XMLHttpRequest`s.

      ```js
      function getJSON(url) {
        return new Promise(function(resolve, reject){
          var xhr = new XMLHttpRequest();

          xhr.open('GET', url);
          xhr.onreadystatechange = handler;
          xhr.responseType = 'json';
          xhr.setRequestHeader('Accept', 'application/json');
          xhr.send();

          function handler() {
            if (this.readyState === this.DONE) {
              if (this.status === 200) {
                resolve(this.response);
              } else {
                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
              }
            }
          };
        });
      }

      getJSON('/posts.json').then(function(json) {
        // on fulfillment
      }, function(reason) {
        // on rejection
      });
      ```

      Unlike callbacks, promises are great composable primitives.

      ```js
      Promise.all([
        getJSON('/posts'),
        getJSON('/comments')
      ]).then(function(values){
        values[0] // => postsJSON
        values[1] // => commentsJSON

        return values;
      });
      ```

      @class Promise
      @param {function} resolver
      Useful for tooling.
      @constructor
    */
    function lib$es6$promise$promise$$Promise(resolver) {
      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();
      this._result = this._state = undefined;
      this._subscribers = [];

      if (lib$es6$promise$$internal$$noop !== resolver) {
        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();
        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();
      }
    }

    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;
    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;
    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;
    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;
    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;
    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;
    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;

    lib$es6$promise$promise$$Promise.prototype = {
      constructor: lib$es6$promise$promise$$Promise,

    /**
      The primary way of interacting with a promise is through its `then` method,
      which registers callbacks to receive either a promise's eventual value or the
      reason why the promise cannot be fulfilled.

      ```js
      findUser().then(function(user){
        // user is available
      }, function(reason){
        // user is unavailable, and you are given the reason why
      });
      ```

      Chaining
      --------

      The return value of `then` is itself a promise.  This second, 'downstream'
      promise is resolved with the return value of the first promise's fulfillment
      or rejection handler, or rejected if the handler throws an exception.

      ```js
      findUser().then(function (user) {
        return user.name;
      }, function (reason) {
        return 'default name';
      }).then(function (userName) {
        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
        // will be `'default name'`
      });

      findUser().then(function (user) {
        throw new Error('Found user, but still unhappy');
      }, function (reason) {
        throw new Error('`findUser` rejected and we're unhappy');
      }).then(function (value) {
        // never reached
      }, function (reason) {
        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
      });
      ```
      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.

      ```js
      findUser().then(function (user) {
        throw new PedagogicalException('Upstream error');
      }).then(function (value) {
        // never reached
      }).then(function (value) {
        // never reached
      }, function (reason) {
        // The `PedgagocialException` is propagated all the way down to here
      });
      ```

      Assimilation
      ------------

      Sometimes the value you want to propagate to a downstream promise can only be
      retrieved asynchronously. This can be achieved by returning a promise in the
      fulfillment or rejection handler. The downstream promise will then be pending
      until the returned promise is settled. This is called *assimilation*.

      ```js
      findUser().then(function (user) {
        return findCommentsByAuthor(user);
      }).then(function (comments) {
        // The user's comments are now available
      });
      ```

      If the assimliated promise rejects, then the downstream promise will also reject.

      ```js
      findUser().then(function (user) {
        return findCommentsByAuthor(user);
      }).then(function (comments) {
        // If `findCommentsByAuthor` fulfills, we'll have the value here
      }, function (reason) {
        // If `findCommentsByAuthor` rejects, we'll have the reason here
      });
      ```

      Simple Example
      --------------

      Synchronous Example

      ```javascript
      var result;

      try {
        result = findResult();
        // success
      } catch(reason) {
        // failure
      }
      ```

      Errback Example

      ```js
      findResult(function(result, err){
        if (err) {
          // failure
        } else {
          // success
        }
      });
      ```

      Promise Example;

      ```javascript
      findResult().then(function(result){
        // success
      }, function(reason){
        // failure
      });
      ```

      Advanced Example
      --------------

      Synchronous Example

      ```javascript
      var author, books;

      try {
        author = findAuthor();
        books  = findBooksByAuthor(author);
        // success
      } catch(reason) {
        // failure
      }
      ```

      Errback Example

      ```js

      function foundBooks(books) {

      }

      function failure(reason) {

      }

      findAuthor(function(author, err){
        if (err) {
          failure(err);
          // failure
        } else {
          try {
            findBoooksByAuthor(author, function(books, err) {
              if (err) {
                failure(err);
              } else {
                try {
                  foundBooks(books);
                } catch(reason) {
                  failure(reason);
                }
              }
            });
          } catch(error) {
            failure(err);
          }
          // success
        }
      });
      ```

      Promise Example;

      ```javascript
      findAuthor().
        then(findBooksByAuthor).
        then(function(books){
          // found books
      }).catch(function(reason){
        // something went wrong
      });
      ```

      @method then
      @param {Function} onFulfilled
      @param {Function} onRejected
      Useful for tooling.
      @return {Promise}
    */
      then: lib$es6$promise$then$$default,

    /**
      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
      as the catch block of a try/catch statement.

      ```js
      function findAuthor(){
        throw new Error('couldn't find that author');
      }

      // synchronous
      try {
        findAuthor();
      } catch(reason) {
        // something went wrong
      }

      // async with promises
      findAuthor().catch(function(reason){
        // something went wrong
      });
      ```

      @method catch
      @param {Function} onRejection
      Useful for tooling.
      @return {Promise}
    */
      'catch': function(onRejection) {
        return this.then(null, onRejection);
      }
    };
    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;
    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {
      this._instanceConstructor = Constructor;
      this.promise = new Constructor(lib$es6$promise$$internal$$noop);

      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {
        lib$es6$promise$$internal$$makePromise(this.promise);
      }

      if (lib$es6$promise$utils$$isArray(input)) {
        this._input     = input;
        this.length     = input.length;
        this._remaining = input.length;

        this._result = new Array(this.length);

        if (this.length === 0) {
          lib$es6$promise$$internal$$fulfill(this.promise, this._result);
        } else {
          this.length = this.length || 0;
          this._enumerate();
          if (this._remaining === 0) {
            lib$es6$promise$$internal$$fulfill(this.promise, this._result);
          }
        }
      } else {
        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());
      }
    }

    function lib$es6$promise$enumerator$$validationError() {
      return new Error('Array Methods must be provided an Array');
    }

    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {
      var length  = this.length;
      var input   = this._input;

      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {
        this._eachEntry(input[i], i);
      }
    };

    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {
      var c = this._instanceConstructor;
      var resolve = c.resolve;

      if (resolve === lib$es6$promise$promise$resolve$$default) {
        var then = lib$es6$promise$$internal$$getThen(entry);

        if (then === lib$es6$promise$then$$default &&
            entry._state !== lib$es6$promise$$internal$$PENDING) {
          this._settledAt(entry._state, i, entry._result);
        } else if (typeof then !== 'function') {
          this._remaining--;
          this._result[i] = entry;
        } else if (c === lib$es6$promise$promise$$default) {
          var promise = new c(lib$es6$promise$$internal$$noop);
          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);
          this._willSettleAt(promise, i);
        } else {
          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);
        }
      } else {
        this._willSettleAt(resolve(entry), i);
      }
    };

    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {
      var promise = this.promise;

      if (promise._state === lib$es6$promise$$internal$$PENDING) {
        this._remaining--;

        if (state === lib$es6$promise$$internal$$REJECTED) {
          lib$es6$promise$$internal$$reject(promise, value);
        } else {
          this._result[i] = value;
        }
      }

      if (this._remaining === 0) {
        lib$es6$promise$$internal$$fulfill(promise, this._result);
      }
    };

    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {
      var enumerator = this;

      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {
        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);
      }, function(reason) {
        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);
      });
    };
    function lib$es6$promise$polyfill$$polyfill() {
      var local;

      if (typeof global !== 'undefined') {
          local = global;
      } else if (typeof self !== 'undefined') {
          local = self;
      } else {
          try {
              local = Function('return this')();
          } catch (e) {
              throw new Error('polyfill failed because global object is unavailable in this environment');
          }
      }

      var P = local.Promise;

      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {
        return;
      }

      local.Promise = lib$es6$promise$promise$$default;
    }
    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;

    var lib$es6$promise$umd$$ES6Promise = {
      'Promise': lib$es6$promise$promise$$default,
      'polyfill': lib$es6$promise$polyfill$$default
    };

    /* global define:true module:true window: true */
    if (typeof define === 'function' && define['amd']) {
      define(function() { return lib$es6$promise$umd$$ES6Promise; });
    } else if (typeof module !== 'undefined' && module['exports']) {
      module['exports'] = lib$es6$promise$umd$$ES6Promise;
    } else if (typeof this !== 'undefined') {
      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;
    }

    lib$es6$promise$polyfill$$default();
}).call(this);


}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":74}],5:[function(require,module,exports){
/**
* Create an event emitter with namespaces
* @name createNamespaceEmitter
* @example
* var emitter = require('./index')()
*
* emitter.on('*', function () {
*   console.log('all events emitted', this.event)
* })
*
* emitter.on('example', function () {
*   console.log('example event emitted')
* })
*/
module.exports = function createNamespaceEmitter () {
  var emitter = { _fns: {} }

  /**
  * Emit an event. Optionally namespace the event. Separate the namespace and event with a `:`
  * @name emit
  * @param {String} event – the name of the event, with optional namespace
  * @param {...*} data – data variables that will be passed as arguments to the event listener
  * @example
  * emitter.emit('example')
  * emitter.emit('demo:test')
  * emitter.emit('data', { example: true}, 'a string', 1)
  */
  emitter.emit = function emit (event) {
    var args = [].slice.call(arguments, 1)
    var namespaced = namespaces(event)
    if (this._fns[event]) emitAll(event, this._fns[event], args)
    if (namespaced) emitAll(event, namespaced, args)
  }

  /**
  * Create en event listener.
  * @name on
  * @param {String} event
  * @param {Function} fn
  * @example
  * emitter.on('example', function () {})
  * emitter.on('demo', function () {})
  */
  emitter.on = function on (event, fn) {
    if (typeof fn !== 'function') { throw new Error('callback required') }
    (this._fns[event] = this._fns[event] || []).push(fn)
  }

  /**
  * Create en event listener that fires once.
  * @name once
  * @param {String} event
  * @param {Function} fn
  * @example
  * emitter.once('example', function () {})
  * emitter.once('demo', function () {})
  */
  emitter.once = function once (event, fn) {
    function one () {
      fn.apply(this, arguments)
      emitter.off(event, one)
    }
    this.on(event, one)
  }

  /**
  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.
  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener, 
  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener
  * @name off
  * @param {String} event
  * @param {Function} [fn] – the specific handler
  * @example
  * emitter.off('example')
  * emitter.off('demo', function () {})
  */
  emitter.off = function off (event, fn) {
    var keep = []

    if (event && fn) {
      for (var i = 0; i < this._fns.length; i++) {
        if (this._fns[i] !== fn) {
          keep.push(this._fns[i])
        }
      }
    }

    keep.length ? this._fns[event] = keep : delete this._fns[event]
  }

  function namespaces (e) {
    var out = []
    var args = e.split(':')
    var fns = emitter._fns
    Object.keys(fns).forEach(function (key) {
      if (key === '*') out = out.concat(fns[key])
      if (args.length === 2 && args[0] === key) out = out.concat(fns[key])
    })
    return out
  }

  function emitAll (e, fns, args) {
    for (var i = 0; i < fns.length; i++) {
      if (!fns[i]) break
      fns[i].event = e
      fns[i].apply(fns[i], args)
    }
  }

  return emitter
}

},{}],6:[function(require,module,exports){
'use strict';
var numberIsNan = require('number-is-nan');

module.exports = function (num) {
	if (typeof num !== 'number' || numberIsNan(num)) {
		throw new TypeError('Expected a number, got ' + typeof num);
	}

	var exponent;
	var unit;
	var neg = num < 0;
	var units = ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];

	if (neg) {
		num = -num;
	}

	if (num < 1) {
		return (neg ? '-' : '') + num + ' B';
	}

	exponent = Math.min(Math.floor(Math.log(num) / Math.log(1000)), units.length - 1);
	num = Number((num / Math.pow(1000, exponent)).toFixed(2));
	unit = units[exponent];

	return (neg ? '-' : '') + num + ' ' + unit;
};

},{"number-is-nan":7}],7:[function(require,module,exports){
'use strict';
module.exports = Number.isNaN || function (x) {
	return x !== x;
};

},{}],8:[function(require,module,exports){
// Generated by Babel
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.encode = encode;
/* global: window */

var _window = window;
var btoa = _window.btoa;
function encode(data) {
  return btoa(unescape(encodeURIComponent(data)));
}

var isSupported = exports.isSupported = "btoa" in window;
},{}],9:[function(require,module,exports){
// Generated by Babel
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.newRequest = newRequest;
exports.resolveUrl = resolveUrl;

var _resolveUrl = require("resolve-url");

var _resolveUrl2 = _interopRequireDefault(_resolveUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function newRequest() {
  return new window.XMLHttpRequest();
} /* global window */


function resolveUrl(origin, link) {
  return (0, _resolveUrl2.default)(origin, link);
}
},{"resolve-url":17}],10:[function(require,module,exports){
// Generated by Babel
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSource = getSource;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var FileSource = function () {
  function FileSource(file) {
    _classCallCheck(this, FileSource);

    this._file = file;
    this.size = file.size;
  }

  _createClass(FileSource, [{
    key: "slice",
    value: function slice(start, end) {
      return this._file.slice(start, end);
    }
  }, {
    key: "close",
    value: function close() {}
  }]);

  return FileSource;
}();

function getSource(input) {
  // Since we emulate the Blob type in our tests (not all target browsers
  // support it), we cannot use `instanceof` for testing whether the input value
  // can be handled. Instead, we simply check is the slice() function and the
  // size property are available.
  if (typeof input.slice === "function" && typeof input.size !== "undefined") {
    return new FileSource(input);
  }

  throw new Error("source object may only be an instance of File or Blob in this environment");
}
},{}],11:[function(require,module,exports){
// Generated by Babel
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setItem = setItem;
exports.getItem = getItem;
exports.removeItem = removeItem;
/* global window, localStorage */

var hasStorage = false;
try {
  hasStorage = "localStorage" in window;
  // Attempt to access localStorage
  localStorage.length;
} catch (e) {
  // If we try to access localStorage inside a sandboxed iframe, a SecurityError
  // is thrown.
  if (e.code === e.SECURITY_ERR) {
    hasStorage = false;
  } else {
    throw e;
  }
}

var canStoreURLs = exports.canStoreURLs = hasStorage;

function setItem(key, value) {
  if (!hasStorage) return;
  return localStorage.setItem(key, value);
}

function getItem(key) {
  if (!hasStorage) return;
  return localStorage.getItem(key);
}

function removeItem(key) {
  if (!hasStorage) return;
  return localStorage.removeItem(key);
}
},{}],12:[function(require,module,exports){
// Generated by Babel
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DetailedError = function (_Error) {
  _inherits(DetailedError, _Error);

  function DetailedError(error) {
    var causingErr = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
    var xhr = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

    _classCallCheck(this, DetailedError);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DetailedError).call(this, error.message));

    _this.originalRequest = xhr;
    _this.causingError = causingErr;

    var message = error.message;
    if (causingErr != null) {
      message += ", caused by " + causingErr.toString();
    }
    if (xhr != null) {
      message += ", originated from request (response code: " + xhr.status + ", response text: " + xhr.responseText + ")";
    }
    _this.message = message;
    return _this;
  }

  return DetailedError;
}(Error);

exports.default = DetailedError;
},{}],13:[function(require,module,exports){
// Generated by Babel
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = fingerprint;
/**
 * Generate a fingerprint for a file which will be used the store the endpoint
 *
 * @param {File} file
 * @return {String}
 */
function fingerprint(file) {
  return ["tus", file.name, file.type, file.size, file.lastModified].join("-");
}
},{}],14:[function(require,module,exports){
// Generated by Babel
"use strict";

var _upload = require("./upload");

var _upload2 = _interopRequireDefault(_upload);

var _storage = require("./node/storage");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* global window */
var defaultOptions = _upload2.default.defaultOptions;


if (typeof window !== "undefined") {
  // Browser environment using XMLHttpRequest
  var _window = window;
  var XMLHttpRequest = _window.XMLHttpRequest;
  var Blob = _window.Blob;


  var isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === "function";
} else {
  // Node.js environment using http module
  var isSupported = true;
}

// The usage of the commonjs exporting syntax instead of the new ECMAScript
// one is actually inteded and prevents weird behaviour if we are trying to
// import this module in another module using Babel.
module.exports = {
  Upload: _upload2.default,
  isSupported: isSupported,
  canStoreURLs: _storage.canStoreURLs,
  defaultOptions: defaultOptions
};
},{"./node/storage":11,"./upload":15}],15:[function(require,module,exports){
// Generated by Babel
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window */


// We import the files used inside the Node environment which are rewritten
// for browsers using the rules defined in the package.json


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _fingerprint = require("./fingerprint");

var _fingerprint2 = _interopRequireDefault(_fingerprint);

var _error = require("./error");

var _error2 = _interopRequireDefault(_error);

var _extend = require("extend");

var _extend2 = _interopRequireDefault(_extend);

var _request = require("./node/request");

var _source = require("./node/source");

var _base = require("./node/base64");

var Base64 = _interopRequireWildcard(_base);

var _storage = require("./node/storage");

var Storage = _interopRequireWildcard(_storage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var defaultOptions = {
  endpoint: "",
  fingerprint: _fingerprint2.default,
  resume: true,
  onProgress: null,
  onChunkComplete: null,
  onSuccess: null,
  onError: null,
  headers: {},
  chunkSize: Infinity,
  withCredentials: false,
  uploadUrl: null,
  uploadSize: null,
  overridePatchMethod: false,
  retryDelays: null
};

var Upload = function () {
  function Upload(file, options) {
    _classCallCheck(this, Upload);

    this.options = (0, _extend2.default)(true, {}, defaultOptions, options);

    // The underlying File/Blob object
    this.file = file;

    // The URL against which the file will be uploaded
    this.url = null;

    // The underlying XHR object for the current PATCH request
    this._xhr = null;

    // The fingerpinrt for the current file (set after start())
    this._fingerprint = null;

    // The offset used in the current PATCH request
    this._offset = null;

    // True if the current PATCH request has been aborted
    this._aborted = false;

    // The file's size in bytes
    this._size = null;

    // The Source object which will wrap around the given file and provides us
    // with a unified interface for getting its size and slice chunks from its
    // content allowing us to easily handle Files, Blobs, Buffers and Streams.
    this._source = null;

    // The current count of attempts which have been made. Null indicates none.
    this._retryAttempt = 0;

    // The timeout's ID which is used to delay the next retry
    this._retryTimeout = null;

    // The offset of the remote upload before the latest attempt was started.
    this._offsetBeforeRetry = 0;
  }

  _createClass(Upload, [{
    key: "start",
    value: function start() {
      var _this = this;

      var file = this.file;

      if (!file) {
        this._emitError(new Error("tus: no file or stream to upload provided"));
        return;
      }

      if (!this.options.endpoint) {
        this._emitError(new Error("tus: no endpoint provided"));
        return;
      }

      var source = this._source = (0, _source.getSource)(file, this.options.chunkSize);

      // Firstly, check if the caller has supplied a manual upload size or else
      // we will use the calculated size by the source object.
      if (this.options.uploadSize != null) {
        var size = +this.options.uploadSize;
        if (isNaN(size)) {
          throw new Error("tus: cannot convert `uploadSize` option into a number");
        }

        this._size = size;
      } else {
        var size = source.size;

        // The size property will be null if we cannot calculate the file's size,
        // for example if you handle a stream.
        if (size == null) {
          throw new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option");
        }

        this._size = size;
      }

      var retryDelays = this.options.retryDelays;
      if (retryDelays != null) {
        if (Object.prototype.toString.call(retryDelays) !== "[object Array]") {
          throw new Error("tus: the `retryDelays` option must either be an array or null");
        } else {
          (function () {
            var errorCallback = _this.options.onError;
            _this.options.onError = function (err) {
              // Restore the original error callback which may have been set.
              _this.options.onError = errorCallback;

              // We will reset the attempt counter if
              // - we were already able to connect to the server (offset != null) and
              // - we were able to upload a small chunk of data to the server
              var shouldResetDelays = _this._offset != null && _this._offset > _this._offsetBeforeRetry;
              if (shouldResetDelays) {
                _this._retryAttempt = 0;
              }

              var isOnline = true;
              if (typeof window !== "undefined" && "navigator" in window && window.navigator.onLine === false) {
                isOnline = false;
              }

              // We only attempt a retry if
              // - we didn't exceed the maxium number of retries, yet, and
              // - this error was caused by a request or it's response and
              // - the browser does not indicate that we are offline
              var shouldRetry = _this._retryAttempt < retryDelays.length && err.originalRequest != null && isOnline;

              if (!shouldRetry) {
                _this._emitError(err);
                return;
              }

              var delay = retryDelays[_this._retryAttempt++];

              _this._offsetBeforeRetry = _this._offset;
              _this.options.uploadUrl = _this.url;

              _this._retryTimeout = setTimeout(function () {
                _this.start();
              }, delay);
            };
          })();
        }
      }

      // A URL has manually been specified, so we try to resume
      if (this.options.uploadUrl != null) {
        this.url = this.options.uploadUrl;
        this._resumeUpload();
        return;
      }

      // Try to find the endpoint for the file in the storage
      if (this.options.resume) {
        this._fingerprint = this.options.fingerprint(file);
        var resumedUrl = Storage.getItem(this._fingerprint);

        if (resumedUrl != null) {
          this.url = resumedUrl;
          this._resumeUpload();
          return;
        }
      }

      // An upload has not started for the file yet, so we start a new one
      this._createUpload();
    }
  }, {
    key: "abort",
    value: function abort() {
      if (this._xhr !== null) {
        this._xhr.abort();
        this._source.close();
        this._aborted = true;
      }

      if (this._retryTimeout != null) {
        clearTimeout(this._retryTimeout);
        this._retryTimeout = null;
      }
    }
  }, {
    key: "_emitXhrError",
    value: function _emitXhrError(xhr, err, causingErr) {
      this._emitError(new _error2.default(err, causingErr, xhr));
    }
  }, {
    key: "_emitError",
    value: function _emitError(err) {
      if (typeof this.options.onError === "function") {
        this.options.onError(err);
      } else {
        throw err;
      }
    }
  }, {
    key: "_emitSuccess",
    value: function _emitSuccess() {
      if (typeof this.options.onSuccess === "function") {
        this.options.onSuccess();
      }
    }

    /**
     * Publishes notification when data has been sent to the server. This
     * data may not have been accepted by the server yet.
     * @param  {number} bytesSent  Number of bytes sent to the server.
     * @param  {number} bytesTotal Total number of bytes to be sent to the server.
     */

  }, {
    key: "_emitProgress",
    value: function _emitProgress(bytesSent, bytesTotal) {
      if (typeof this.options.onProgress === "function") {
        this.options.onProgress(bytesSent, bytesTotal);
      }
    }

    /**
     * Publishes notification when a chunk of data has been sent to the server
     * and accepted by the server.
     * @param  {number} chunkSize  Size of the chunk that was accepted by the
     *                             server.
     * @param  {number} bytesAccepted Total number of bytes that have been
     *                                accepted by the server.
     * @param  {number} bytesTotal Total number of bytes to be sent to the server.
     */

  }, {
    key: "_emitChunkComplete",
    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {
      if (typeof this.options.onChunkComplete === "function") {
        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);
      }
    }

    /**
     * Set the headers used in the request and the withCredentials property
     * as defined in the options
     *
     * @param {XMLHttpRequest} xhr
     */

  }, {
    key: "_setupXHR",
    value: function _setupXHR(xhr) {
      xhr.setRequestHeader("Tus-Resumable", "1.0.0");
      var headers = this.options.headers;

      for (var name in headers) {
        xhr.setRequestHeader(name, headers[name]);
      }

      xhr.withCredentials = this.options.withCredentials;
    }

    /**
     * Create a new upload using the creation extension by sending a POST
     * request to the endpoint. After successful creation the file will be
     * uploaded
     *
     * @api private
     */

  }, {
    key: "_createUpload",
    value: function _createUpload() {
      var _this2 = this;

      var xhr = (0, _request.newRequest)();
      xhr.open("POST", this.options.endpoint, true);

      xhr.onload = function () {
        if (!(xhr.status >= 200 && xhr.status < 300)) {
          _this2._emitXhrError(xhr, new Error("tus: unexpected response while creating upload"));
          return;
        }

        _this2.url = (0, _request.resolveUrl)(_this2.options.endpoint, xhr.getResponseHeader("Location"));

        if (_this2.options.resume) {
          Storage.setItem(_this2._fingerprint, _this2.url);
        }

        _this2._offset = 0;
        _this2._startUpload();
      };

      xhr.onerror = function (err) {
        _this2._emitXhrError(xhr, new Error("tus: failed to create upload"), err);
      };

      this._setupXHR(xhr);
      xhr.setRequestHeader("Upload-Length", this._size);

      // Add metadata if values have been added
      var metadata = encodeMetadata(this.options.metadata);
      if (metadata !== "") {
        xhr.setRequestHeader("Upload-Metadata", metadata);
      }

      xhr.send(null);
    }

    /*
     * Try to resume an existing upload. First a HEAD request will be sent
     * to retrieve the offset. If the request fails a new upload will be
     * created. In the case of a successful response the file will be uploaded.
     *
     * @api private
     */

  }, {
    key: "_resumeUpload",
    value: function _resumeUpload() {
      var _this3 = this;

      var xhr = (0, _request.newRequest)();
      xhr.open("HEAD", this.url, true);

      xhr.onload = function () {
        if (!(xhr.status >= 200 && xhr.status < 300)) {
          if (_this3.options.resume) {
            // Remove stored fingerprint and corresponding endpoint,
            // since the file can not be found
            Storage.removeItem(_this3._fingerprint);
          }

          // Try to create a new upload
          _this3.url = null;
          _this3._createUpload();
          return;
        }

        var offset = parseInt(xhr.getResponseHeader("Upload-Offset"), 10);
        if (isNaN(offset)) {
          _this3._emitXhrError(xhr, new Error("tus: invalid or missing offset value"));
          return;
        }

        var length = parseInt(xhr.getResponseHeader("Upload-Length"), 10);
        if (isNaN(length)) {
          _this3._emitXhrError(xhr, new Error("tus: invalid or missing length value"));
          return;
        }

        // Upload has already been completed and we do not need to send additional
        // data to the server
        if (offset === length) {
          _this3._emitProgress(length, length);
          _this3._emitSuccess();
          return;
        }

        _this3._offset = offset;
        _this3._startUpload();
      };

      xhr.onerror = function (err) {
        _this3._emitXhrError(xhr, new Error("tus: failed to resume upload"), err);
      };

      this._setupXHR(xhr);
      xhr.send(null);
    }

    /**
     * Start uploading the file using PATCH requests. The file will be divided
     * into chunks as specified in the chunkSize option. During the upload
     * the onProgress event handler may be invoked multiple times.
     *
     * @api private
     */

  }, {
    key: "_startUpload",
    value: function _startUpload() {
      var _this4 = this;

      var xhr = this._xhr = (0, _request.newRequest)();

      // Some browser and servers may not support the PATCH method. For those
      // cases, you can tell tus-js-client to use a POST request with the
      // X-HTTP-Method-Override header for simulating a PATCH request.
      if (this.options.overridePatchMethod) {
        xhr.open("POST", this.url, true);
        xhr.setRequestHeader("X-HTTP-Method-Override", "PATCH");
      } else {
        xhr.open("PATCH", this.url, true);
      }

      xhr.onload = function () {
        if (!(xhr.status >= 200 && xhr.status < 300)) {
          _this4._emitXhrError(xhr, new Error("tus: unexpected response while uploading chunk"));
          return;
        }

        var offset = parseInt(xhr.getResponseHeader("Upload-Offset"), 10);
        if (isNaN(offset)) {
          _this4._emitXhrError(xhr, new Error("tus: invalid or missing offset value"));
          return;
        }

        _this4._emitProgress(offset, _this4._size);
        _this4._emitChunkComplete(offset - _this4._offset, offset, _this4._size);

        _this4._offset = offset;

        if (offset == _this4._size) {
          // Yay, finally done :)
          _this4._emitSuccess();
          _this4._source.close();
          return;
        }

        _this4._startUpload();
      };

      xhr.onerror = function (err) {
        // Don't emit an error if the upload was aborted manually
        if (_this4._aborted) {
          return;
        }

        _this4._emitXhrError(xhr, new Error("tus: failed to upload chunk at offset " + _this4._offset), err);
      };

      // Test support for progress events before attaching an event listener
      if ("upload" in xhr) {
        xhr.upload.onprogress = function (e) {
          if (!e.lengthComputable) {
            return;
          }

          _this4._emitProgress(start + e.loaded, _this4._size);
        };
      }

      this._setupXHR(xhr);

      xhr.setRequestHeader("Upload-Offset", this._offset);
      xhr.setRequestHeader("Content-Type", "application/offset+octet-stream");

      var start = this._offset;
      var end = this._offset + this.options.chunkSize;

      // The specified chunkSize may be Infinity or the calcluated end position
      // may exceed the file's size. In both cases, we limit the end position to
      // the input's total size for simpler calculations and correctness.
      if (end === Infinity || end > this._size) {
        end = this._size;
      }

      xhr.send(this._source.slice(start, end));
    }
  }]);

  return Upload;
}();

function encodeMetadata(metadata) {
  if (!Base64.isSupported) {
    return "";
  }

  var encoded = [];

  for (var key in metadata) {
    encoded.push(key + " " + Base64.encode(metadata[key]));
  }

  return encoded.join(",");
}

Upload.defaultOptions = defaultOptions;

exports.default = Upload;
},{"./error":12,"./fingerprint":13,"./node/base64":8,"./node/request":9,"./node/source":10,"./node/storage":11,"extend":16}],16:[function(require,module,exports){
'use strict';

var hasOwn = Object.prototype.hasOwnProperty;
var toStr = Object.prototype.toString;

var isArray = function isArray(arr) {
	if (typeof Array.isArray === 'function') {
		return Array.isArray(arr);
	}

	return toStr.call(arr) === '[object Array]';
};

var isPlainObject = function isPlainObject(obj) {
	if (!obj || toStr.call(obj) !== '[object Object]') {
		return false;
	}

	var hasOwnConstructor = hasOwn.call(obj, 'constructor');
	var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');
	// Not own constructor property must be Object
	if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {
		return false;
	}

	// Own properties are enumerated firstly, so to speed up,
	// if last one is own, then all properties are own.
	var key;
	for (key in obj) {/**/}

	return typeof key === 'undefined' || hasOwn.call(obj, key);
};

module.exports = function extend() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0],
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if (typeof target === 'boolean') {
		deep = target;
		target = arguments[1] || {};
		// skip the boolean and the target
		i = 2;
	} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {
		target = {};
	}

	for (; i < length; ++i) {
		options = arguments[i];
		// Only deal with non-null/undefined values
		if (options != null) {
			// Extend the base object
			for (name in options) {
				src = target[name];
				copy = options[name];

				// Prevent never-ending loop
				if (target !== copy) {
					// Recurse if we're merging plain objects or arrays
					if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {
						if (copyIsArray) {
							copyIsArray = false;
							clone = src && isArray(src) ? src : [];
						} else {
							clone = src && isPlainObject(src) ? src : {};
						}

						// Never move original objects, clone them
						target[name] = extend(deep, clone, copy);

					// Don't bring in undefined values
					} else if (typeof copy !== 'undefined') {
						target[name] = copy;
					}
				}
			}
		}
	}

	// Return the modified object
	return target;
};


},{}],17:[function(require,module,exports){
// Copyright 2014 Simon Lydell
// X11 (“MIT”) Licensed. (See LICENSE.)

void (function(root, factory) {
  if (typeof define === "function" && define.amd) {
    define(factory)
  } else if (typeof exports === "object") {
    module.exports = factory()
  } else {
    root.resolveUrl = factory()
  }
}(this, function() {

  function resolveUrl(/* ...urls */) {
    var numUrls = arguments.length

    if (numUrls === 0) {
      throw new Error("resolveUrl requires at least one argument; got none.")
    }

    var base = document.createElement("base")
    base.href = arguments[0]

    if (numUrls === 1) {
      return base.href
    }

    var head = document.getElementsByTagName("head")[0]
    head.insertBefore(base, head.firstChild)

    var a = document.createElement("a")
    var resolved

    for (var index = 1; index < numUrls; index++) {
      a.href = arguments[index]
      resolved = a.href
      base.href = resolved
    }

    head.removeChild(base)

    return resolved
  }

  return resolveUrl

}));

},{}],18:[function(require,module,exports){
(function(self) {
  'use strict';

  if (self.fetch) {
    return
  }

  var support = {
    searchParams: 'URLSearchParams' in self,
    iterable: 'Symbol' in self && 'iterator' in Symbol,
    blob: 'FileReader' in self && 'Blob' in self && (function() {
      try {
        new Blob()
        return true
      } catch(e) {
        return false
      }
    })(),
    formData: 'FormData' in self,
    arrayBuffer: 'ArrayBuffer' in self
  }

  function normalizeName(name) {
    if (typeof name !== 'string') {
      name = String(name)
    }
    if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
      throw new TypeError('Invalid character in header field name')
    }
    return name.toLowerCase()
  }

  function normalizeValue(value) {
    if (typeof value !== 'string') {
      value = String(value)
    }
    return value
  }

  // Build a destructive iterator for the value list
  function iteratorFor(items) {
    var iterator = {
      next: function() {
        var value = items.shift()
        return {done: value === undefined, value: value}
      }
    }

    if (support.iterable) {
      iterator[Symbol.iterator] = function() {
        return iterator
      }
    }

    return iterator
  }

  function Headers(headers) {
    this.map = {}

    if (headers instanceof Headers) {
      headers.forEach(function(value, name) {
        this.append(name, value)
      }, this)

    } else if (headers) {
      Object.getOwnPropertyNames(headers).forEach(function(name) {
        this.append(name, headers[name])
      }, this)
    }
  }

  Headers.prototype.append = function(name, value) {
    name = normalizeName(name)
    value = normalizeValue(value)
    var list = this.map[name]
    if (!list) {
      list = []
      this.map[name] = list
    }
    list.push(value)
  }

  Headers.prototype['delete'] = function(name) {
    delete this.map[normalizeName(name)]
  }

  Headers.prototype.get = function(name) {
    var values = this.map[normalizeName(name)]
    return values ? values[0] : null
  }

  Headers.prototype.getAll = function(name) {
    return this.map[normalizeName(name)] || []
  }

  Headers.prototype.has = function(name) {
    return this.map.hasOwnProperty(normalizeName(name))
  }

  Headers.prototype.set = function(name, value) {
    this.map[normalizeName(name)] = [normalizeValue(value)]
  }

  Headers.prototype.forEach = function(callback, thisArg) {
    Object.getOwnPropertyNames(this.map).forEach(function(name) {
      this.map[name].forEach(function(value) {
        callback.call(thisArg, value, name, this)
      }, this)
    }, this)
  }

  Headers.prototype.keys = function() {
    var items = []
    this.forEach(function(value, name) { items.push(name) })
    return iteratorFor(items)
  }

  Headers.prototype.values = function() {
    var items = []
    this.forEach(function(value) { items.push(value) })
    return iteratorFor(items)
  }

  Headers.prototype.entries = function() {
    var items = []
    this.forEach(function(value, name) { items.push([name, value]) })
    return iteratorFor(items)
  }

  if (support.iterable) {
    Headers.prototype[Symbol.iterator] = Headers.prototype.entries
  }

  function consumed(body) {
    if (body.bodyUsed) {
      return Promise.reject(new TypeError('Already read'))
    }
    body.bodyUsed = true
  }

  function fileReaderReady(reader) {
    return new Promise(function(resolve, reject) {
      reader.onload = function() {
        resolve(reader.result)
      }
      reader.onerror = function() {
        reject(reader.error)
      }
    })
  }

  function readBlobAsArrayBuffer(blob) {
    var reader = new FileReader()
    reader.readAsArrayBuffer(blob)
    return fileReaderReady(reader)
  }

  function readBlobAsText(blob) {
    var reader = new FileReader()
    reader.readAsText(blob)
    return fileReaderReady(reader)
  }

  function Body() {
    this.bodyUsed = false

    this._initBody = function(body) {
      this._bodyInit = body
      if (typeof body === 'string') {
        this._bodyText = body
      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
        this._bodyBlob = body
      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
        this._bodyFormData = body
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this._bodyText = body.toString()
      } else if (!body) {
        this._bodyText = ''
      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {
        // Only support ArrayBuffers for POST method.
        // Receiving ArrayBuffers happens via Blobs, instead.
      } else {
        throw new Error('unsupported BodyInit type')
      }

      if (!this.headers.get('content-type')) {
        if (typeof body === 'string') {
          this.headers.set('content-type', 'text/plain;charset=UTF-8')
        } else if (this._bodyBlob && this._bodyBlob.type) {
          this.headers.set('content-type', this._bodyBlob.type)
        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')
        }
      }
    }

    if (support.blob) {
      this.blob = function() {
        var rejected = consumed(this)
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return Promise.resolve(this._bodyBlob)
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as blob')
        } else {
          return Promise.resolve(new Blob([this._bodyText]))
        }
      }

      this.arrayBuffer = function() {
        return this.blob().then(readBlobAsArrayBuffer)
      }

      this.text = function() {
        var rejected = consumed(this)
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return readBlobAsText(this._bodyBlob)
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as text')
        } else {
          return Promise.resolve(this._bodyText)
        }
      }
    } else {
      this.text = function() {
        var rejected = consumed(this)
        return rejected ? rejected : Promise.resolve(this._bodyText)
      }
    }

    if (support.formData) {
      this.formData = function() {
        return this.text().then(decode)
      }
    }

    this.json = function() {
      return this.text().then(JSON.parse)
    }

    return this
  }

  // HTTP methods whose capitalization should be normalized
  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

  function normalizeMethod(method) {
    var upcased = method.toUpperCase()
    return (methods.indexOf(upcased) > -1) ? upcased : method
  }

  function Request(input, options) {
    options = options || {}
    var body = options.body
    if (Request.prototype.isPrototypeOf(input)) {
      if (input.bodyUsed) {
        throw new TypeError('Already read')
      }
      this.url = input.url
      this.credentials = input.credentials
      if (!options.headers) {
        this.headers = new Headers(input.headers)
      }
      this.method = input.method
      this.mode = input.mode
      if (!body) {
        body = input._bodyInit
        input.bodyUsed = true
      }
    } else {
      this.url = input
    }

    this.credentials = options.credentials || this.credentials || 'omit'
    if (options.headers || !this.headers) {
      this.headers = new Headers(options.headers)
    }
    this.method = normalizeMethod(options.method || this.method || 'GET')
    this.mode = options.mode || this.mode || null
    this.referrer = null

    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
      throw new TypeError('Body not allowed for GET or HEAD requests')
    }
    this._initBody(body)
  }

  Request.prototype.clone = function() {
    return new Request(this)
  }

  function decode(body) {
    var form = new FormData()
    body.trim().split('&').forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
    return form
  }

  function headers(xhr) {
    var head = new Headers()
    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\n')
    pairs.forEach(function(header) {
      var split = header.trim().split(':')
      var key = split.shift().trim()
      var value = split.join(':').trim()
      head.append(key, value)
    })
    return head
  }

  Body.call(Request.prototype)

  function Response(bodyInit, options) {
    if (!options) {
      options = {}
    }

    this.type = 'default'
    this.status = options.status
    this.ok = this.status >= 200 && this.status < 300
    this.statusText = options.statusText
    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)
    this.url = options.url || ''
    this._initBody(bodyInit)
  }

  Body.call(Response.prototype)

  Response.prototype.clone = function() {
    return new Response(this._bodyInit, {
      status: this.status,
      statusText: this.statusText,
      headers: new Headers(this.headers),
      url: this.url
    })
  }

  Response.error = function() {
    var response = new Response(null, {status: 0, statusText: ''})
    response.type = 'error'
    return response
  }

  var redirectStatuses = [301, 302, 303, 307, 308]

  Response.redirect = function(url, status) {
    if (redirectStatuses.indexOf(status) === -1) {
      throw new RangeError('Invalid status code')
    }

    return new Response(null, {status: status, headers: {location: url}})
  }

  self.Headers = Headers
  self.Request = Request
  self.Response = Response

  self.fetch = function(input, init) {
    return new Promise(function(resolve, reject) {
      var request
      if (Request.prototype.isPrototypeOf(input) && !init) {
        request = input
      } else {
        request = new Request(input, init)
      }

      var xhr = new XMLHttpRequest()

      function responseURL() {
        if ('responseURL' in xhr) {
          return xhr.responseURL
        }

        // Avoid security warnings on getResponseHeader when not allowed by CORS
        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {
          return xhr.getResponseHeader('X-Request-URL')
        }

        return
      }

      xhr.onload = function() {
        var options = {
          status: xhr.status,
          statusText: xhr.statusText,
          headers: headers(xhr),
          url: responseURL()
        }
        var body = 'response' in xhr ? xhr.response : xhr.responseText
        resolve(new Response(body, options))
      }

      xhr.onerror = function() {
        reject(new TypeError('Network request failed'))
      }

      xhr.ontimeout = function() {
        reject(new TypeError('Network request failed'))
      }

      xhr.open(request.method, request.url, true)

      if (request.credentials === 'include') {
        xhr.withCredentials = true
      }

      if ('responseType' in xhr && support.blob) {
        xhr.responseType = 'blob'
      }

      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value)
      })

      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
    })
  }
  self.fetch.polyfill = true
})(typeof self !== 'undefined' ? self : this);

},{}],19:[function(require,module,exports){
var bel = require('bel') // turns template tag into DOM elements
var morphdom = require('morphdom') // efficiently diffs + morphs two DOM elements
var defaultEvents = require('./update-events.js') // default events to be copied when dom elements update

module.exports = bel

// TODO move this + defaultEvents to a new module once we receive more feedback
module.exports.update = function (fromNode, toNode, opts) {
  if (!opts) opts = {}
  if (opts.events !== false) {
    if (!opts.onBeforeElUpdated) opts.onBeforeElUpdated = copier
  }

  return morphdom(fromNode, toNode, opts)

  // morphdom only copies attributes. we decided we also wanted to copy events
  // that can be set via attributes
  function copier (f, t) {
    // copy events:
    var events = opts.events || defaultEvents
    for (var i = 0; i < events.length; i++) {
      var ev = events[i]
      if (t[ev]) { // if new element has a whitelisted attribute
        f[ev] = t[ev] // update existing element
      } else if (f[ev]) { // if existing element has it and new one doesnt
        f[ev] = undefined // remove it from existing element
      }
    }
    // copy values for form elements
    if ((f.nodeName === 'INPUT' && f.type !== 'file') || f.nodeName === 'SELECT') {
      if (t.getAttribute('value') === null) t.value = f.value
    } else if (f.nodeName === 'TEXTAREA') {
      if (t.getAttribute('value') === null) f.value = t.value
    }
  }
}

},{"./update-events.js":27,"bel":20,"morphdom":26}],20:[function(require,module,exports){
var document = require('global/document')
var hyperx = require('hyperx')
var onload = require('on-load')

var SVGNS = 'http://www.w3.org/2000/svg'
var XLINKNS = 'http://www.w3.org/1999/xlink'

var BOOL_PROPS = {
  autofocus: 1,
  checked: 1,
  defaultchecked: 1,
  disabled: 1,
  formnovalidate: 1,
  indeterminate: 1,
  readonly: 1,
  required: 1,
  selected: 1,
  willvalidate: 1
}
var SVG_TAGS = [
  'svg',
  'altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor',
  'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile',
  'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix',
  'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting',
  'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB',
  'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode',
  'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting',
  'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font', 'font-face',
  'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri',
  'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line',
  'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath',
  'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect',
  'set', 'stop', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref',
  'tspan', 'use', 'view', 'vkern'
]

function belCreateElement (tag, props, children) {
  var el

  // If an svg tag, it needs a namespace
  if (SVG_TAGS.indexOf(tag) !== -1) {
    props.namespace = SVGNS
  }

  // If we are using a namespace
  var ns = false
  if (props.namespace) {
    ns = props.namespace
    delete props.namespace
  }

  // Create the element
  if (ns) {
    el = document.createElementNS(ns, tag)
  } else {
    el = document.createElement(tag)
  }

  // If adding onload events
  if (props.onload || props.onunload) {
    var load = props.onload || function () {}
    var unload = props.onunload || function () {}
    onload(el, function belOnload () {
      load(el)
    }, function belOnunload () {
      unload(el)
    },
    // We have to use non-standard `caller` to find who invokes `belCreateElement`
    belCreateElement.caller.caller.caller)
    delete props.onload
    delete props.onunload
  }

  // Create the properties
  for (var p in props) {
    if (props.hasOwnProperty(p)) {
      var key = p.toLowerCase()
      var val = props[p]
      // Normalize className
      if (key === 'classname') {
        key = 'class'
        p = 'class'
      }
      // The for attribute gets transformed to htmlFor, but we just set as for
      if (p === 'htmlFor') {
        p = 'for'
      }
      // If a property is boolean, set itself to the key
      if (BOOL_PROPS[key]) {
        if (val === 'true') val = key
        else if (val === 'false') continue
      }
      // If a property prefers being set directly vs setAttribute
      if (key.slice(0, 2) === 'on') {
        el[p] = val
      } else {
        if (ns) {
          if (p === 'xlink:href') {
            el.setAttributeNS(XLINKNS, p, val)
          } else {
            el.setAttributeNS(null, p, val)
          }
        } else {
          el.setAttribute(p, val)
        }
      }
    }
  }

  function appendChild (childs) {
    if (!Array.isArray(childs)) return
    for (var i = 0; i < childs.length; i++) {
      var node = childs[i]
      if (Array.isArray(node)) {
        appendChild(node)
        continue
      }

      if (typeof node === 'number' ||
        typeof node === 'boolean' ||
        node instanceof Date ||
        node instanceof RegExp) {
        node = node.toString()
      }

      if (typeof node === 'string') {
        if (el.lastChild && el.lastChild.nodeName === '#text') {
          el.lastChild.nodeValue += node
          continue
        }
        node = document.createTextNode(node)
      }

      if (node && node.nodeType) {
        el.appendChild(node)
      }
    }
  }
  appendChild(children)

  return el
}

module.exports = hyperx(belCreateElement)
module.exports.createElement = belCreateElement

},{"global/document":21,"hyperx":23,"on-load":25}],21:[function(require,module,exports){
(function (global){
var topLevel = typeof global !== 'undefined' ? global :
    typeof window !== 'undefined' ? window : {}
var minDoc = require('min-document');

if (typeof document !== 'undefined') {
    module.exports = document;
} else {
    var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];

    if (!doccy) {
        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;
    }

    module.exports = doccy;
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"min-document":73}],22:[function(require,module,exports){
(function (global){
if (typeof window !== "undefined") {
    module.exports = window;
} else if (typeof global !== "undefined") {
    module.exports = global;
} else if (typeof self !== "undefined"){
    module.exports = self;
} else {
    module.exports = {};
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],23:[function(require,module,exports){
var attrToProp = require('hyperscript-attribute-to-property')

var VAR = 0, TEXT = 1, OPEN = 2, CLOSE = 3, ATTR = 4
var ATTR_KEY = 5, ATTR_KEY_W = 6
var ATTR_VALUE_W = 7, ATTR_VALUE = 8
var ATTR_VALUE_SQ = 9, ATTR_VALUE_DQ = 10
var ATTR_EQ = 11, ATTR_BREAK = 12

module.exports = function (h, opts) {
  h = attrToProp(h)
  if (!opts) opts = {}
  var concat = opts.concat || function (a, b) {
    return String(a) + String(b)
  }

  return function (strings) {
    var state = TEXT, reg = ''
    var arglen = arguments.length
    var parts = []

    for (var i = 0; i < strings.length; i++) {
      if (i < arglen - 1) {
        var arg = arguments[i+1]
        var p = parse(strings[i])
        var xstate = state
        if (xstate === ATTR_VALUE_DQ) xstate = ATTR_VALUE
        if (xstate === ATTR_VALUE_SQ) xstate = ATTR_VALUE
        if (xstate === ATTR_VALUE_W) xstate = ATTR_VALUE
        if (xstate === ATTR) xstate = ATTR_KEY
        p.push([ VAR, xstate, arg ])
        parts.push.apply(parts, p)
      } else parts.push.apply(parts, parse(strings[i]))
    }

    var tree = [null,{},[]]
    var stack = [[tree,-1]]
    for (var i = 0; i < parts.length; i++) {
      var cur = stack[stack.length-1][0]
      var p = parts[i], s = p[0]
      if (s === OPEN && /^\//.test(p[1])) {
        var ix = stack[stack.length-1][1]
        if (stack.length > 1) {
          stack.pop()
          stack[stack.length-1][0][2][ix] = h(
            cur[0], cur[1], cur[2].length ? cur[2] : undefined
          )
        }
      } else if (s === OPEN) {
        var c = [p[1],{},[]]
        cur[2].push(c)
        stack.push([c,cur[2].length-1])
      } else if (s === ATTR_KEY || (s === VAR && p[1] === ATTR_KEY)) {
        var key = ''
        var copyKey
        for (; i < parts.length; i++) {
          if (parts[i][0] === ATTR_KEY) {
            key = concat(key, parts[i][1])
          } else if (parts[i][0] === VAR && parts[i][1] === ATTR_KEY) {
            if (typeof parts[i][2] === 'object' && !key) {
              for (copyKey in parts[i][2]) {
                if (parts[i][2].hasOwnProperty(copyKey) && !cur[1][copyKey]) {
                  cur[1][copyKey] = parts[i][2][copyKey]
                }
              }
            } else {
              key = concat(key, parts[i][2])
            }
          } else break
        }
        if (parts[i][0] === ATTR_EQ) i++
        var j = i
        for (; i < parts.length; i++) {
          if (parts[i][0] === ATTR_VALUE || parts[i][0] === ATTR_KEY) {
            if (!cur[1][key]) cur[1][key] = strfn(parts[i][1])
            else cur[1][key] = concat(cur[1][key], parts[i][1])
          } else if (parts[i][0] === VAR
          && (parts[i][1] === ATTR_VALUE || parts[i][1] === ATTR_KEY)) {
            if (!cur[1][key]) cur[1][key] = strfn(parts[i][2])
            else cur[1][key] = concat(cur[1][key], parts[i][2])
          } else {
            if (key.length && !cur[1][key] && i === j
            && (parts[i][0] === CLOSE || parts[i][0] === ATTR_BREAK)) {
              // https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes
              // empty string is falsy, not well behaved value in browser
              cur[1][key] = key.toLowerCase()
            }
            break
          }
        }
      } else if (s === ATTR_KEY) {
        cur[1][p[1]] = true
      } else if (s === VAR && p[1] === ATTR_KEY) {
        cur[1][p[2]] = true
      } else if (s === CLOSE) {
        if (selfClosing(cur[0]) && stack.length) {
          var ix = stack[stack.length-1][1]
          stack.pop()
          stack[stack.length-1][0][2][ix] = h(
            cur[0], cur[1], cur[2].length ? cur[2] : undefined
          )
        }
      } else if (s === VAR && p[1] === TEXT) {
        if (p[2] === undefined || p[2] === null) p[2] = ''
        else if (!p[2]) p[2] = concat('', p[2])
        if (Array.isArray(p[2][0])) {
          cur[2].push.apply(cur[2], p[2])
        } else {
          cur[2].push(p[2])
        }
      } else if (s === TEXT) {
        cur[2].push(p[1])
      } else if (s === ATTR_EQ || s === ATTR_BREAK) {
        // no-op
      } else {
        throw new Error('unhandled: ' + s)
      }
    }

    if (tree[2].length > 1 && /^\s*$/.test(tree[2][0])) {
      tree[2].shift()
    }

    if (tree[2].length > 2
    || (tree[2].length === 2 && /\S/.test(tree[2][1]))) {
      throw new Error(
        'multiple root elements must be wrapped in an enclosing tag'
      )
    }
    if (Array.isArray(tree[2][0]) && typeof tree[2][0][0] === 'string'
    && Array.isArray(tree[2][0][2])) {
      tree[2][0] = h(tree[2][0][0], tree[2][0][1], tree[2][0][2])
    }
    return tree[2][0]

    function parse (str) {
      var res = []
      if (state === ATTR_VALUE_W) state = ATTR
      for (var i = 0; i < str.length; i++) {
        var c = str.charAt(i)
        if (state === TEXT && c === '<') {
          if (reg.length) res.push([TEXT, reg])
          reg = ''
          state = OPEN
        } else if (c === '>' && !quot(state)) {
          if (state === OPEN) {
            res.push([OPEN,reg])
          } else if (state === ATTR_KEY) {
            res.push([ATTR_KEY,reg])
          } else if (state === ATTR_VALUE && reg.length) {
            res.push([ATTR_VALUE,reg])
          }
          res.push([CLOSE])
          reg = ''
          state = TEXT
        } else if (state === TEXT) {
          reg += c
        } else if (state === OPEN && /\s/.test(c)) {
          res.push([OPEN, reg])
          reg = ''
          state = ATTR
        } else if (state === OPEN) {
          reg += c
        } else if (state === ATTR && /[\w-]/.test(c)) {
          state = ATTR_KEY
          reg = c
        } else if (state === ATTR && /\s/.test(c)) {
          if (reg.length) res.push([ATTR_KEY,reg])
          res.push([ATTR_BREAK])
        } else if (state === ATTR_KEY && /\s/.test(c)) {
          res.push([ATTR_KEY,reg])
          reg = ''
          state = ATTR_KEY_W
        } else if (state === ATTR_KEY && c === '=') {
          res.push([ATTR_KEY,reg],[ATTR_EQ])
          reg = ''
          state = ATTR_VALUE_W
        } else if (state === ATTR_KEY) {
          reg += c
        } else if ((state === ATTR_KEY_W || state === ATTR) && c === '=') {
          res.push([ATTR_EQ])
          state = ATTR_VALUE_W
        } else if ((state === ATTR_KEY_W || state === ATTR) && !/\s/.test(c)) {
          res.push([ATTR_BREAK])
          if (/[\w-]/.test(c)) {
            reg += c
            state = ATTR_KEY
          } else state = ATTR
        } else if (state === ATTR_VALUE_W && c === '"') {
          state = ATTR_VALUE_DQ
        } else if (state === ATTR_VALUE_W && c === "'") {
          state = ATTR_VALUE_SQ
        } else if (state === ATTR_VALUE_DQ && c === '"') {
          res.push([ATTR_VALUE,reg],[ATTR_BREAK])
          reg = ''
          state = ATTR
        } else if (state === ATTR_VALUE_SQ && c === "'") {
          res.push([ATTR_VALUE,reg],[ATTR_BREAK])
          reg = ''
          state = ATTR
        } else if (state === ATTR_VALUE_W && !/\s/.test(c)) {
          state = ATTR_VALUE
          i--
        } else if (state === ATTR_VALUE && /\s/.test(c)) {
          res.push([ATTR_VALUE,reg],[ATTR_BREAK])
          reg = ''
          state = ATTR
        } else if (state === ATTR_VALUE || state === ATTR_VALUE_SQ
        || state === ATTR_VALUE_DQ) {
          reg += c
        }
      }
      if (state === TEXT && reg.length) {
        res.push([TEXT,reg])
        reg = ''
      } else if (state === ATTR_VALUE && reg.length) {
        res.push([ATTR_VALUE,reg])
        reg = ''
      } else if (state === ATTR_VALUE_DQ && reg.length) {
        res.push([ATTR_VALUE,reg])
        reg = ''
      } else if (state === ATTR_VALUE_SQ && reg.length) {
        res.push([ATTR_VALUE,reg])
        reg = ''
      } else if (state === ATTR_KEY) {
        res.push([ATTR_KEY,reg])
        reg = ''
      }
      return res
    }
  }

  function strfn (x) {
    if (typeof x === 'function') return x
    else if (typeof x === 'string') return x
    else if (x && typeof x === 'object') return x
    else return concat('', x)
  }
}

function quot (state) {
  return state === ATTR_VALUE_SQ || state === ATTR_VALUE_DQ
}

var hasOwn = Object.prototype.hasOwnProperty
function has (obj, key) { return hasOwn.call(obj, key) }

var closeRE = RegExp('^(' + [
  'area', 'base', 'basefont', 'bgsound', 'br', 'col', 'command', 'embed',
  'frame', 'hr', 'img', 'input', 'isindex', 'keygen', 'link', 'meta', 'param',
  'source', 'track', 'wbr',
  // SVG TAGS
  'animate', 'animateTransform', 'circle', 'cursor', 'desc', 'ellipse',
  'feBlend', 'feColorMatrix', 'feComposite',
  'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap',
  'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR',
  'feGaussianBlur', 'feImage', 'feMergeNode', 'feMorphology',
  'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile',
  'feTurbulence', 'font-face-format', 'font-face-name', 'font-face-uri',
  'glyph', 'glyphRef', 'hkern', 'image', 'line', 'missing-glyph', 'mpath',
  'path', 'polygon', 'polyline', 'rect', 'set', 'stop', 'tref', 'use', 'view',
  'vkern'
].join('|') + ')(?:[\.#][a-zA-Z0-9\u007F-\uFFFF_:-]+)*$')
function selfClosing (tag) { return closeRE.test(tag) }

},{"hyperscript-attribute-to-property":24}],24:[function(require,module,exports){
module.exports = attributeToProperty

var transform = {
  'class': 'className',
  'for': 'htmlFor',
  'http-equiv': 'httpEquiv'
}

function attributeToProperty (h) {
  return function (tagName, attrs, children) {
    for (var attr in attrs) {
      if (attr in transform) {
        attrs[transform[attr]] = attrs[attr]
        delete attrs[attr]
      }
    }
    return h(tagName, attrs, children)
  }
}

},{}],25:[function(require,module,exports){
/* global MutationObserver */
var document = require('global/document')
var window = require('global/window')
var watch = Object.create(null)
var KEY_ID = 'onloadid' + (new Date() % 9e6).toString(36)
var KEY_ATTR = 'data-' + KEY_ID
var INDEX = 0

if (window && window.MutationObserver) {
  var observer = new MutationObserver(function (mutations) {
    if (Object.keys(watch).length < 1) return
    for (var i = 0; i < mutations.length; i++) {
      if (mutations[i].attributeName === KEY_ATTR) {
        eachAttr(mutations[i], turnon, turnoff)
        continue
      }
      eachMutation(mutations[i].removedNodes, turnoff)
      eachMutation(mutations[i].addedNodes, turnon)
    }
  })
  observer.observe(document.body, {
    childList: true,
    subtree: true,
    attributes: true,
    attributeOldValue: true,
    attributeFilter: [KEY_ATTR]
  })
}

module.exports = function onload (el, on, off, caller) {
  on = on || function () {}
  off = off || function () {}
  el.setAttribute(KEY_ATTR, 'o' + INDEX)
  watch['o' + INDEX] = [on, off, 0, caller || onload.caller]
  INDEX += 1
  return el
}

function turnon (index, el) {
  if (watch[index][0] && watch[index][2] === 0) {
    watch[index][0](el)
    watch[index][2] = 1
  }
}

function turnoff (index, el) {
  if (watch[index][1] && watch[index][2] === 1) {
    watch[index][1](el)
    watch[index][2] = 0
  }
}

function eachAttr (mutation, on, off) {
  var newValue = mutation.target.getAttribute(KEY_ATTR)
  if (sameOrigin(mutation.oldValue, newValue)) {
    watch[newValue] = watch[mutation.oldValue]
    return
  }
  if (watch[mutation.oldValue]) {
    off(mutation.oldValue, mutation.target)
  }
  if (watch[newValue]) {
    on(newValue, mutation.target)
  }
}

function sameOrigin (oldValue, newValue) {
  if (!oldValue || !newValue) return false
  return watch[oldValue][3] === watch[newValue][3]
}

function eachMutation (nodes, fn) {
  var keys = Object.keys(watch)
  for (var i = 0; i < nodes.length; i++) {
    if (nodes[i] && nodes[i].getAttribute && nodes[i].getAttribute(KEY_ATTR)) {
      var onloadid = nodes[i].getAttribute(KEY_ATTR)
      keys.forEach(function (k) {
        if (onloadid === k) {
          fn(k, nodes[i])
        }
      })
    }
    if (nodes[i].childNodes.length > 0) {
      eachMutation(nodes[i].childNodes, fn)
    }
  }
}

},{"global/document":21,"global/window":22}],26:[function(require,module,exports){
'use strict';
// Create a range object for efficently rendering strings to elements.
var range;

var doc = typeof document !== 'undefined' && document;

var testEl = doc ?
    doc.body || doc.createElement('div') :
    {};

var NS_XHTML = 'http://www.w3.org/1999/xhtml';

var ELEMENT_NODE = 1;
var TEXT_NODE = 3;
var COMMENT_NODE = 8;

// Fixes <https://github.com/patrick-steele-idem/morphdom/issues/32>
// (IE7+ support) <=IE7 does not support el.hasAttribute(name)
var hasAttributeNS;

if (testEl.hasAttributeNS) {
    hasAttributeNS = function(el, namespaceURI, name) {
        return el.hasAttributeNS(namespaceURI, name);
    };
} else if (testEl.hasAttribute) {
    hasAttributeNS = function(el, namespaceURI, name) {
        return el.hasAttribute(name);
    };
} else {
    hasAttributeNS = function(el, namespaceURI, name) {
        return !!el.getAttributeNode(name);
    };
}

function toElement(str) {
    if (!range && doc.createRange) {
        range = doc.createRange();
        range.selectNode(doc.body);
    }

    var fragment;
    if (range && range.createContextualFragment) {
        fragment = range.createContextualFragment(str);
    } else {
        fragment = doc.createElement('body');
        fragment.innerHTML = str;
    }
    return fragment.childNodes[0];
}

function syncBooleanAttrProp(fromEl, toEl, name) {
    if (fromEl[name] !== toEl[name]) {
        fromEl[name] = toEl[name];
        if (fromEl[name]) {
            fromEl.setAttribute(name, '');
        } else {
            fromEl.removeAttribute(name, '');
        }
    }
}

var specialElHandlers = {
    /**
     * Needed for IE. Apparently IE doesn't think that "selected" is an
     * attribute when reading over the attributes using selectEl.attributes
     */
    OPTION: function(fromEl, toEl) {
        syncBooleanAttrProp(fromEl, toEl, 'selected');
    },
    /**
     * The "value" attribute is special for the <input> element since it sets
     * the initial value. Changing the "value" attribute without changing the
     * "value" property will have no effect since it is only used to the set the
     * initial value.  Similar for the "checked" attribute, and "disabled".
     */
    INPUT: function(fromEl, toEl) {
        syncBooleanAttrProp(fromEl, toEl, 'checked');
        syncBooleanAttrProp(fromEl, toEl, 'disabled');

        if (fromEl.value !== toEl.value) {
            fromEl.value = toEl.value;
        }

        if (!hasAttributeNS(toEl, null, 'value')) {
            fromEl.removeAttribute('value');
        }
    },

    TEXTAREA: function(fromEl, toEl) {
        var newValue = toEl.value;
        if (fromEl.value !== newValue) {
            fromEl.value = newValue;
        }

        if (fromEl.firstChild) {
            fromEl.firstChild.nodeValue = newValue;
        }
    }
};

function noop() {}

/**
 * Returns true if two node's names are the same.
 *
 * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same
 *       nodeName and different namespace URIs.
 *
 * @param {Element} a
 * @param {Element} b The target element
 * @return {boolean}
 */
function compareNodeNames(fromEl, toEl) {
    var fromNodeName = fromEl.nodeName;
    var toNodeName = toEl.nodeName;

    if (fromNodeName === toNodeName) {
        return true;
    }

    if (toEl.actualize &&
        fromNodeName.charCodeAt(0) < 91 && /* from tag name is upper case */
        toNodeName.charCodeAt(0) > 90 /* target tag name is lower case */) {
        // If the target element is a virtual DOM node then we may need to normalize the tag name
        // before comparing. Normal HTML elements that are in the "http://www.w3.org/1999/xhtml"
        // are converted to upper case
        return fromNodeName === toNodeName.toUpperCase();
    } else {
        return false;
    }
}

/**
 * Create an element, optionally with a known namespace URI.
 *
 * @param {string} name the element name, e.g. 'div' or 'svg'
 * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of
 * its `xmlns` attribute or its inferred namespace.
 *
 * @return {Element}
 */
function createElementNS(name, namespaceURI) {
    return !namespaceURI || namespaceURI === NS_XHTML ?
        doc.createElement(name) :
        doc.createElementNS(namespaceURI, name);
}

/**
 * Loop over all of the attributes on the target node and make sure the original
 * DOM node has the same attributes. If an attribute found on the original node
 * is not on the new node then remove it from the original node.
 *
 * @param  {Element} fromNode
 * @param  {Element} toNode
 */
function morphAttrs(fromNode, toNode) {
    var attrs = toNode.attributes;
    var i;
    var attr;
    var attrName;
    var attrNamespaceURI;
    var attrValue;
    var fromValue;

    if (toNode.assignAttributes) {
        toNode.assignAttributes(fromNode);
    } else {
        for (i = attrs.length - 1; i >= 0; --i) {
            attr = attrs[i];
            attrName = attr.name;
            attrNamespaceURI = attr.namespaceURI;
            attrValue = attr.value;

            if (attrNamespaceURI) {
                attrName = attr.localName || attrName;
                fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);

                if (fromValue !== attrValue) {
                    fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);
                }
            } else {
                fromValue = fromNode.getAttribute(attrName);

                if (fromValue !== attrValue) {
                    fromNode.setAttribute(attrName, attrValue);
                }
            }
        }
    }

    // Remove any extra attributes found on the original DOM element that
    // weren't found on the target element.
    attrs = fromNode.attributes;

    for (i = attrs.length - 1; i >= 0; --i) {
        attr = attrs[i];
        if (attr.specified !== false) {
            attrName = attr.name;
            attrNamespaceURI = attr.namespaceURI;

            if (attrNamespaceURI) {
                attrName = attr.localName || attrName;

                if (!hasAttributeNS(toNode, attrNamespaceURI, attrName)) {
                    fromNode.removeAttributeNS(attrNamespaceURI, attrName);
                }
            } else {
                if (!hasAttributeNS(toNode, null, attrName)) {
                    fromNode.removeAttribute(attrName);
                }
            }
        }
    }
}

/**
 * Copies the children of one DOM element to another DOM element
 */
function moveChildren(fromEl, toEl) {
    var curChild = fromEl.firstChild;
    while (curChild) {
        var nextChild = curChild.nextSibling;
        toEl.appendChild(curChild);
        curChild = nextChild;
    }
    return toEl;
}

function defaultGetNodeKey(node) {
    return node.id;
}

function morphdom(fromNode, toNode, options) {
    if (!options) {
        options = {};
    }

    if (typeof toNode === 'string') {
        if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML') {
            var toNodeHtml = toNode;
            toNode = doc.createElement('html');
            toNode.innerHTML = toNodeHtml;
        } else {
            toNode = toElement(toNode);
        }
    }

    var getNodeKey = options.getNodeKey || defaultGetNodeKey;
    var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;
    var onNodeAdded = options.onNodeAdded || noop;
    var onBeforeElUpdated = options.onBeforeElUpdated || noop;
    var onElUpdated = options.onElUpdated || noop;
    var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;
    var onNodeDiscarded = options.onNodeDiscarded || noop;
    var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;
    var childrenOnly = options.childrenOnly === true;

    // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.
    var fromNodesLookup = {};
    var keyedRemovalList;

    function addKeyedRemoval(key) {
        if (keyedRemovalList) {
            keyedRemovalList.push(key);
        } else {
            keyedRemovalList = [key];
        }
    }

    function walkDiscardedChildNodes(node, skipKeyedNodes) {
        if (node.nodeType === ELEMENT_NODE) {
            var curChild = node.firstChild;
            while (curChild) {

                var key = undefined;

                if (skipKeyedNodes && (key = getNodeKey(curChild))) {
                    // If we are skipping keyed nodes then we add the key
                    // to a list so that it can be handled at the very end.
                    addKeyedRemoval(key);
                } else {
                    // Only report the node as discarded if it is not keyed. We do this because
                    // at the end we loop through all keyed elements that were unmatched
                    // and then discard them in one final pass.
                    onNodeDiscarded(curChild);
                    if (curChild.firstChild) {
                        walkDiscardedChildNodes(curChild, skipKeyedNodes);
                    }
                }

                curChild = curChild.nextSibling;
            }
        }
    }

    /**
     * Removes a DOM node out of the original DOM
     *
     * @param  {Node} node The node to remove
     * @param  {Node} parentNode The nodes parent
     * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.
     * @return {undefined}
     */
    function removeNode(node, parentNode, skipKeyedNodes) {
        if (onBeforeNodeDiscarded(node) === false) {
            return;
        }

        if (parentNode) {
            parentNode.removeChild(node);
        }

        onNodeDiscarded(node);
        walkDiscardedChildNodes(node, skipKeyedNodes);
    }

    // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future
    // function indexTree(root) {
    //     var treeWalker = document.createTreeWalker(
    //         root,
    //         NodeFilter.SHOW_ELEMENT);
    //
    //     var el;
    //     while((el = treeWalker.nextNode())) {
    //         var key = getNodeKey(el);
    //         if (key) {
    //             fromNodesLookup[key] = el;
    //         }
    //     }
    // }

    // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future
    //
    // function indexTree(node) {
    //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);
    //     var el;
    //     while((el = nodeIterator.nextNode())) {
    //         var key = getNodeKey(el);
    //         if (key) {
    //             fromNodesLookup[key] = el;
    //         }
    //     }
    // }

    function indexTree(node) {
        if (node.nodeType === ELEMENT_NODE) {
            var curChild = node.firstChild;
            while (curChild) {
                var key = getNodeKey(curChild);
                if (key) {
                    fromNodesLookup[key] = curChild;
                }

                // Walk recursively
                indexTree(curChild);

                curChild = curChild.nextSibling;
            }
        }
    }

    indexTree(fromNode);

    function handleNodeAdded(el) {
        onNodeAdded(el);

        var curChild = el.firstChild;
        while (curChild) {
            var nextSibling = curChild.nextSibling;

            var key = getNodeKey(curChild);
            if (key) {
                var unmatchedFromEl = fromNodesLookup[key];
                if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {
                    curChild.parentNode.replaceChild(unmatchedFromEl, curChild);
                    morphEl(unmatchedFromEl, curChild);
                }
            }

            handleNodeAdded(curChild);
            curChild = nextSibling;
        }
    }

    function morphEl(fromEl, toEl, childrenOnly) {
        var toElKey = getNodeKey(toEl);
        var curFromNodeKey;

        if (toElKey) {
            // If an element with an ID is being morphed then it is will be in the final
            // DOM so clear it out of the saved elements collection
            delete fromNodesLookup[toElKey];
        }

        if (toNode.isSameNode && toNode.isSameNode(fromNode)) {
            return;
        }

        if (!childrenOnly) {
            if (onBeforeElUpdated(fromEl, toEl) === false) {
                return;
            }

            morphAttrs(fromEl, toEl);
            onElUpdated(fromEl);

            if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {
                return;
            }
        }

        if (fromEl.nodeName !== 'TEXTAREA') {
            var curToNodeChild = toEl.firstChild;
            var curFromNodeChild = fromEl.firstChild;
            var curToNodeKey;

            var fromNextSibling;
            var toNextSibling;
            var matchingFromEl;

            outer: while (curToNodeChild) {
                toNextSibling = curToNodeChild.nextSibling;
                curToNodeKey = getNodeKey(curToNodeChild);

                while (curFromNodeChild) {
                    fromNextSibling = curFromNodeChild.nextSibling;

                    if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {
                        curToNodeChild = toNextSibling;
                        curFromNodeChild = fromNextSibling;
                        continue outer;
                    }

                    curFromNodeKey = getNodeKey(curFromNodeChild);

                    var curFromNodeType = curFromNodeChild.nodeType;

                    var isCompatible = undefined;

                    if (curFromNodeType === curToNodeChild.nodeType) {
                        if (curFromNodeType === ELEMENT_NODE) {
                            // Both nodes being compared are Element nodes

                            if (curToNodeKey) {
                                // The target node has a key so we want to match it up with the correct element
                                // in the original DOM tree
                                if (curToNodeKey !== curFromNodeKey) {
                                    // The current element in the original DOM tree does not have a matching key so
                                    // let's check our lookup to see if there is a matching element in the original
                                    // DOM tree
                                    if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {
                                        if (curFromNodeChild.nextSibling === matchingFromEl) {
                                            // Special case for single element removals. To avoid removing the original
                                            // DOM node out of the tree (since that can break CSS transitions, etc.),
                                            // we will instead discard the current node and wait until the next
                                            // iteration to properly match up the keyed target element with its matching
                                            // element in the original tree
                                            isCompatible = false;
                                        } else {
                                            // We found a matching keyed element somewhere in the original DOM tree.
                                            // Let's moving the original DOM node into the current position and morph
                                            // it.

                                            // NOTE: We use insertBefore instead of replaceChild because we want to go through
                                            // the `removeNode()` function for the node that is being discarded so that
                                            // all lifecycle hooks are correctly invoked
                                            fromEl.insertBefore(matchingFromEl, curFromNodeChild);

                                            if (curFromNodeKey) {
                                                // Since the node is keyed it might be matched up later so we defer
                                                // the actual removal to later
                                                addKeyedRemoval(curFromNodeKey);
                                            } else {
                                                // NOTE: we skip nested keyed nodes from being removed since there is
                                                //       still a chance they will be matched up later
                                                removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);

                                            }
                                            fromNextSibling = curFromNodeChild.nextSibling;
                                            curFromNodeChild = matchingFromEl;
                                        }
                                    } else {
                                        // The nodes are not compatible since the "to" node has a key and there
                                        // is no matching keyed node in the source tree
                                        isCompatible = false;
                                    }
                                }
                            } else if (curFromNodeKey) {
                                // The original has a key
                                isCompatible = false;
                            }

                            isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);
                            if (isCompatible) {
                                // We found compatible DOM elements so transform
                                // the current "from" node to match the current
                                // target DOM node.
                                morphEl(curFromNodeChild, curToNodeChild);
                            }

                        } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {
                            // Both nodes being compared are Text or Comment nodes
                            isCompatible = true;
                            // Simply update nodeValue on the original node to
                            // change the text value
                            curFromNodeChild.nodeValue = curToNodeChild.nodeValue;
                        }
                    }

                    if (isCompatible) {
                        // Advance both the "to" child and the "from" child since we found a match
                        curToNodeChild = toNextSibling;
                        curFromNodeChild = fromNextSibling;
                        continue outer;
                    }

                    // No compatible match so remove the old node from the DOM and continue trying to find a
                    // match in the original DOM. However, we only do this if the from node is not keyed
                    // since it is possible that a keyed node might match up with a node somewhere else in the
                    // target tree and we don't want to discard it just yet since it still might find a
                    // home in the final DOM tree. After everything is done we will remove any keyed nodes
                    // that didn't find a home
                    if (curFromNodeKey) {
                        // Since the node is keyed it might be matched up later so we defer
                        // the actual removal to later
                        addKeyedRemoval(curFromNodeKey);
                    } else {
                        // NOTE: we skip nested keyed nodes from being removed since there is
                        //       still a chance they will be matched up later
                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);
                    }

                    curFromNodeChild = fromNextSibling;
                }

                // If we got this far then we did not find a candidate match for
                // our "to node" and we exhausted all of the children "from"
                // nodes. Therefore, we will just append the current "to" node
                // to the end
                if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {
                    fromEl.appendChild(matchingFromEl);
                    morphEl(matchingFromEl, curToNodeChild);
                } else {
                    var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);
                    if (onBeforeNodeAddedResult !== false) {
                        if (onBeforeNodeAddedResult) {
                            curToNodeChild = onBeforeNodeAddedResult;
                        }

                        if (curToNodeChild.actualize) {
                            curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);
                        }
                        fromEl.appendChild(curToNodeChild);
                        handleNodeAdded(curToNodeChild);
                    }
                }

                curToNodeChild = toNextSibling;
                curFromNodeChild = fromNextSibling;
            }

            // We have processed all of the "to nodes". If curFromNodeChild is
            // non-null then we still have some from nodes left over that need
            // to be removed
            while (curFromNodeChild) {
                fromNextSibling = curFromNodeChild.nextSibling;
                if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {
                    // Since the node is keyed it might be matched up later so we defer
                    // the actual removal to later
                    addKeyedRemoval(curFromNodeKey);
                } else {
                    // NOTE: we skip nested keyed nodes from being removed since there is
                    //       still a chance they will be matched up later
                    removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);
                }
                curFromNodeChild = fromNextSibling;
            }
        }

        var specialElHandler = specialElHandlers[fromEl.nodeName];
        if (specialElHandler) {
            specialElHandler(fromEl, toEl);
        }
    } // END: morphEl(...)

    var morphedNode = fromNode;
    var morphedNodeType = morphedNode.nodeType;
    var toNodeType = toNode.nodeType;

    if (!childrenOnly) {
        // Handle the case where we are given two DOM nodes that are not
        // compatible (e.g. <div> --> <span> or <div> --> TEXT)
        if (morphedNodeType === ELEMENT_NODE) {
            if (toNodeType === ELEMENT_NODE) {
                if (!compareNodeNames(fromNode, toNode)) {
                    onNodeDiscarded(fromNode);
                    morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));
                }
            } else {
                // Going from an element node to a text node
                morphedNode = toNode;
            }
        } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node
            if (toNodeType === morphedNodeType) {
                morphedNode.nodeValue = toNode.nodeValue;
                return morphedNode;
            } else {
                // Text node to something else
                morphedNode = toNode;
            }
        }
    }

    if (morphedNode === toNode) {
        // The "to node" was not compatible with the "from node" so we had to
        // toss out the "from node" and use the "to node"
        onNodeDiscarded(fromNode);
    } else {
        morphEl(morphedNode, toNode, childrenOnly);

        // We now need to loop over any keyed nodes that might need to be
        // removed. We only do the removal if we know that the keyed node
        // never found a match. When a keyed node is matched up we remove
        // it out of fromNodesLookup and we use fromNodesLookup to determine
        // if a keyed node has been matched up or not
        if (keyedRemovalList) {
            for (var i=0, len=keyedRemovalList.length; i<len; i++) {
                var elToRemove = fromNodesLookup[keyedRemovalList[i]];
                if (elToRemove) {
                    removeNode(elToRemove, elToRemove.parentNode, false);
                }
            }
        }
    }

    if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {
        if (morphedNode.actualize) {
            morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);
        }
        // If we had to swap out the from node with a new node because the old
        // node was not compatible with the target node then we need to
        // replace the old DOM node in the original DOM tree. This is only
        // possible if the original DOM node was part of a DOM tree which
        // we know is the case if it has a parent node.
        fromNode.parentNode.replaceChild(morphedNode, fromNode);
    }

    return morphedNode;
}

module.exports = morphdom;

},{}],27:[function(require,module,exports){
module.exports = [
  // attribute events (can be set with attributes)
  'onclick',
  'ondblclick',
  'onmousedown',
  'onmouseup',
  'onmouseover',
  'onmousemove',
  'onmouseout',
  'ondragstart',
  'ondrag',
  'ondragenter',
  'ondragleave',
  'ondragover',
  'ondrop',
  'ondragend',
  'onkeydown',
  'onkeypress',
  'onkeyup',
  'onunload',
  'onabort',
  'onerror',
  'onresize',
  'onscroll',
  'onselect',
  'onchange',
  'onsubmit',
  'onreset',
  'onfocus',
  'onblur',
  'oninput',
  // other common events
  'oncontextmenu',
  'onfocusin',
  'onfocusout'
]

},{}],28:[function(require,module,exports){
module.exports = function yoyoifyAppendChild (el, childs) {
  for (var i = 0; i < childs.length; i++) {
    var node = childs[i]
    if (Array.isArray(node)) {
      yoyoifyAppendChild(el, node)
      continue
    }
    if (typeof node === 'number' ||
      typeof node === 'boolean' ||
      node instanceof Date ||
      node instanceof RegExp) {
      node = node.toString()
    }
    if (typeof node === 'string') {
      if (el.lastChild && el.lastChild.nodeName === '#text') {
        el.lastChild.nodeValue += node
        continue
      }
      node = document.createTextNode(node)
    }
    if (node && node.nodeType) {
      el.appendChild(node)
    }
  }
}

},{}],29:[function(require,module,exports){
arguments[4][25][0].apply(exports,arguments)
},{"dup":25,"global/document":30,"global/window":31}],30:[function(require,module,exports){
(function (global){
var topLevel = typeof global !== 'undefined' ? global :
    typeof window !== 'undefined' ? window : {}
var minDoc = require('min-document');

if (typeof document !== 'undefined') {
    module.exports = document;
} else {
    var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];

    if (!doccy) {
        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;
    }

    module.exports = doccy;
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"min-document":73}],31:[function(require,module,exports){
(function (global){
if (typeof window !== "undefined") {
    module.exports = window;
} else if (typeof global !== "undefined") {
    module.exports = global;
} else if (typeof self !== "undefined"){
    module.exports = self;
} else {
    module.exports = {};
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],32:[function(require,module,exports){
(function (global){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Utils = require('../core/Utils');
var Translator = require('../core/Translator');
var ee = require('namespace-emitter');
var UppySocket = require('./UppySocket');
// const en_US = require('../locales/en_US')
// import deepFreeze from 'deep-freeze-strict'

/**
 * Main Uppy core
 *
 * @param {object} opts general options, like locales, to show modal or not to show
 */

var Uppy = function () {
  function Uppy(opts) {
    _classCallCheck(this, Uppy);

    // set default options
    var defaultOptions = {
      // load English as the default locale
      // locale: en_US,
      autoProceed: true,
      debug: false
    };

    // Merge default options with the ones set by user
    this.opts = _extends({}, defaultOptions, opts);

    // // Dictates in what order different plugin types are ran:
    // this.types = [ 'presetter', 'orchestrator', 'progressindicator',
    //                 'acquirer', 'modifier', 'uploader', 'presenter', 'debugger']

    // Container for different types of plugins
    this.plugins = {};

    this.translator = new Translator({ locale: this.opts.locale });
    this.i18n = this.translator.translate.bind(this.translator);
    this.getState = this.getState.bind(this);
    this.updateMeta = this.updateMeta.bind(this);
    this.initSocket = this.initSocket.bind(this);
    this.log = this.log.bind(this);
    this.addFile = this.addFile.bind(this);

    this.bus = this.emitter = ee();
    this.on = this.bus.on.bind(this.bus);
    this.emit = this.bus.emit.bind(this.bus);

    this.state = {
      files: {},
      capabilities: {
        resumableUploads: false
      },
      totalProgress: 0
    };

    // for debugging and testing
    if (this.opts.debug) {
      global.UppyState = this.state;
      global.uppyLog = '';
      global.UppyAddFile = this.addFile.bind(this);
      global._Uppy = this;
    }
  }

  /**
   * Iterate on all plugins and run `update` on them. Called each time state changes
   *
   */


  Uppy.prototype.updateAll = function updateAll(state) {
    var _this = this;

    Object.keys(this.plugins).forEach(function (pluginType) {
      _this.plugins[pluginType].forEach(function (plugin) {
        plugin.update(state);
      });
    });
  };

  /**
   * Updates state
   *
   * @param {newState} object
   */


  Uppy.prototype.setState = function setState(stateUpdate) {
    var newState = _extends({}, this.state, stateUpdate);
    this.emit('core:state-update', this.state, newState, stateUpdate);

    this.state = newState;
    this.updateAll(this.state);
  };

  /**
   * Returns current state
   *
   */


  Uppy.prototype.getState = function getState() {
    // use deepFreeze for debugging
    // return deepFreeze(this.state)
    return this.state;
  };

  Uppy.prototype.updateMeta = function updateMeta(data, fileID) {
    var updatedFiles = _extends({}, this.getState().files);
    var newMeta = _extends({}, updatedFiles[fileID].meta, data);
    updatedFiles[fileID] = _extends({}, updatedFiles[fileID], {
      meta: newMeta
    });
    this.setState({ files: updatedFiles });
  };

  Uppy.prototype.addFile = function addFile(file) {
    var updatedFiles = _extends({}, this.state.files);

    var fileName = file.name || 'noname';
    var fileType = Utils.getFileType(file) ? Utils.getFileType(file).split('/') : ['', ''];
    var fileTypeGeneral = fileType[0];
    var fileTypeSpecific = fileType[1];
    var fileExtension = Utils.getFileNameAndExtension(fileName)[1];
    var isRemote = file.isRemote || false;

    var fileID = Utils.generateFileID(fileName);

    var newFile = {
      source: file.source || '',
      id: fileID,
      name: fileName,
      extension: fileExtension || '',
      meta: {
        name: fileName
      },
      type: {
        general: fileTypeGeneral,
        specific: fileTypeSpecific
      },
      data: file.data,
      progress: {
        percentage: 0,
        uploadComplete: false,
        uploadStarted: false
      },
      size: file.data.size || 'N/A',
      isRemote: isRemote,
      remote: file.remote || ''
    };

    updatedFiles[fileID] = newFile;
    this.setState({ files: updatedFiles });

    this.bus.emit('file-added', fileID);
    this.log('Added file: ' + fileName + ', ' + fileID + ', mime type: ' + fileType);

    if (fileTypeGeneral === 'image' && !isRemote) {
      this.addThumbnail(newFile.id);
    }

    if (this.opts.autoProceed) {
      this.bus.emit('core:upload');
    }
  };

  Uppy.prototype.removeFile = function removeFile(fileID) {
    var updatedFiles = _extends({}, this.getState().files);
    delete updatedFiles[fileID];
    this.setState({ files: updatedFiles });
    this.log('Removed file: ' + fileID);
  };

  Uppy.prototype.addThumbnail = function addThumbnail(fileID) {
    var _this2 = this;

    var file = this.getState().files[fileID];

    Utils.readFile(file.data).then(function (imgDataURI) {
      return Utils.createImageThumbnail(imgDataURI, 200);
    }).then(function (thumbnail) {
      var updatedFiles = _extends({}, _this2.getState().files);
      var updatedFile = _extends({}, updatedFiles[fileID], {
        preview: thumbnail
      });
      updatedFiles[fileID] = updatedFile;
      _this2.setState({ files: updatedFiles });
    });
  };

  Uppy.prototype.startUpload = function startUpload() {
    this.emit('core:upload');
  };

  Uppy.prototype.calculateProgress = function calculateProgress(data) {
    var fileID = data.id;
    var updatedFiles = _extends({}, this.getState().files);
    if (!updatedFiles[fileID]) {
      console.error('Trying to set progress for a file that’s not with us anymore: ', fileID);
      return;
    }

    var updatedFile = _extends({}, updatedFiles[fileID], _extends({}, {
      progress: _extends({}, updatedFiles[fileID].progress, {
        bytesUploaded: data.bytesUploaded,
        bytesTotal: data.bytesTotal,
        percentage: Math.round((data.bytesUploaded / data.bytesTotal * 100).toFixed(2))
      })
    }));
    updatedFiles[data.id] = updatedFile;

    // calculate total progress, using the number of files currently uploading,
    // multiplied by 100 and the summ of individual progress of each file
    var inProgress = Object.keys(updatedFiles).filter(function (file) {
      return updatedFiles[file].progress.uploadStarted;
    });
    var progressMax = inProgress.length * 100;
    var progressAll = 0;
    inProgress.forEach(function (file) {
      progressAll = progressAll + updatedFiles[file].progress.percentage;
    });

    var totalProgress = Math.round((progressAll * 100 / progressMax).toFixed(2));

    // if (totalProgress === 100) {
    //   const completeFiles = Object.keys(updatedFiles).filter((file) => {
    //     // this should be `uploadComplete`
    //     return updatedFiles[file].progress.percentage === 100
    //   })
    //   this.emit('core:success', completeFiles.length)
    // }

    this.setState({
      totalProgress: totalProgress,
      files: updatedFiles
    });
  };

  /**
   * Registers listeners for all global actions, like:
   * `file-add`, `file-remove`, `upload-progress`, `reset`
   *
   */


  Uppy.prototype.actions = function actions() {
    var _this3 = this;

    // this.bus.on('*', (payload) => {
    //   console.log('emitted: ', this.event)
    //   console.log('with payload: ', payload)
    // })

    // const bus = this.bus

    this.on('core:file-add', function (data) {
      _this3.addFile(data);
    });

    // `remove-file` removes a file from `state.files`, for example when
    // a user decides not to upload particular file and clicks a button to remove it
    this.on('core:file-remove', function (fileID) {
      _this3.removeFile(fileID);
    });

    this.on('core:cancel-all', function () {
      var files = _this3.getState().files;
      Object.keys(files).forEach(function (file) {
        _this3.removeFile(files[file].id);
      });
    });

    this.on('core:upload-started', function (fileID, upload) {
      var updatedFiles = _extends({}, _this3.getState().files);
      var updatedFile = _extends({}, updatedFiles[fileID], _extends({}, {
        progress: _extends({}, updatedFiles[fileID].progress, {
          uploadStarted: Date.now()
        })
      }));
      updatedFiles[fileID] = updatedFile;

      _this3.setState({ files: updatedFiles });
    });

    // const throttledCalculateProgress = throttle(1000, (data) => this.calculateProgress(data))

    this.on('core:upload-progress', function (data) {
      _this3.calculateProgress(data);
      // throttledCalculateProgress(data)
    });

    this.on('core:upload-success', function (fileID, uploadURL) {
      var updatedFiles = _extends({}, _this3.getState().files);
      var updatedFile = _extends({}, updatedFiles[fileID], {
        progress: _extends({}, updatedFiles[fileID].progress, {
          uploadComplete: true
        }),
        uploadURL: uploadURL
      });
      updatedFiles[fileID] = updatedFile;

      // console.log(this.getState().totalProgress)

      if (_this3.getState().totalProgress === 100) {
        var completeFiles = Object.keys(updatedFiles).filter(function (file) {
          // this should be `uploadComplete`
          return updatedFiles[file].progress.uploadComplete;
        });
        _this3.emit('core:success', completeFiles.length);
      }

      _this3.setState({
        files: updatedFiles
      });
    });

    this.on('core:update-meta', function (data, fileID) {
      _this3.updateMeta(data, fileID);
    });

    // show informer if offline
    if (typeof window !== 'undefined') {
      window.addEventListener('online', function () {
        return _this3.isOnline(true);
      });
      window.addEventListener('offline', function () {
        return _this3.isOnline(false);
      });
      setTimeout(function () {
        return _this3.isOnline();
      }, 3000);
    }
  };

  Uppy.prototype.isOnline = function isOnline(status) {
    var online = status || window.navigator.onLine;
    if (!online) {
      this.emit('is-offline');
      this.emit('informer', 'No internet connection', 'error', 0);
      this.wasOffline = true;
    } else {
      this.emit('is-online');
      if (this.wasOffline) {
        this.emit('informer', 'Connected!', 'success', 3000);
        this.wasOffline = false;
      }
    }
  };

  /**
   * Registers a plugin with Core
   *
   * @param {Class} Plugin object
   * @param {Object} options object that will be passed to Plugin later
   * @return {Object} self for chaining
   */


  Uppy.prototype.use = function use(Plugin, opts) {
    // Prepare props to pass to plugins
    // const props = {
    //   getState: this.getState.bind(this),
    //   setState: this.setState.bind(this),
    //   updateMeta: this.updateMeta.bind(this),
    //   addFile: this.addFile.bind(this),
    //   i18n: this.i18n.bind(this),
    //   bus: this.ee,
    //   log: this.log.bind(this)
    // }

    // Instantiate
    var plugin = new Plugin(this, opts);
    var pluginName = plugin.id;
    this.plugins[plugin.type] = this.plugins[plugin.type] || [];

    if (!pluginName) {
      throw new Error('Your plugin must have a name');
    }

    if (!plugin.type) {
      throw new Error('Your plugin must have a type');
    }

    var existsPluginAlready = this.getPlugin(pluginName);
    if (existsPluginAlready) {
      var msg = 'Already found a plugin named \'' + existsPluginAlready.name + '\'.\n        Tried to use: \'' + pluginName + '\'.\n        Uppy is currently limited to running one of every plugin.\n        Share your use case with us over at\n        https://github.com/transloadit/uppy/issues/\n        if you want us to reconsider.';
      throw new Error(msg);
    }

    this.plugins[plugin.type].push(plugin);
    plugin.install();

    return this;
  };

  /**
   * Find one Plugin by name
   *
   * @param string name description
   */


  Uppy.prototype.getPlugin = function getPlugin(name) {
    var foundPlugin = false;
    this.iteratePlugins(function (plugin) {
      var pluginName = plugin.id;
      if (pluginName === name) {
        foundPlugin = plugin;
        return false;
      }
    });
    return foundPlugin;
  };

  /**
   * Iterate through all `use`d plugins
   *
   * @param function method description
   */


  Uppy.prototype.iteratePlugins = function iteratePlugins(method) {
    var _this4 = this;

    Object.keys(this.plugins).forEach(function (pluginType) {
      _this4.plugins[pluginType].forEach(method);
    });
  };

  /**
   * Logs stuff to console, only if `debug` is set to true. Silent in production.
   *
   * @return {String|Object} to log
   */


  Uppy.prototype.log = function log(msg, type) {
    if (!this.opts.debug) {
      return;
    }
    if (msg === '' + msg) {
      console.log('LOG: ' + msg);
    } else {
      console.dir(msg);
    }

    if (type === 'error') {
      console.error('LOG: ' + msg);
    }

    global.uppyLog = global.uppyLog + '\n' + 'DEBUG LOG: ' + msg;
  };

  Uppy.prototype.initSocket = function initSocket(opts) {
    if (!this.socket) {
      this.socket = new UppySocket(opts);
    }

    return this.socket;
  };

  // installAll () {
  //   Object.keys(this.plugins).forEach((pluginType) => {
  //     this.plugins[pluginType].forEach((plugin) => {
  //       plugin.install(this)
  //     })
  //   })
  // }

  /**
   * Initializes actions, installs all plugins (by iterating on them and calling `install`), sets options
   *
   */


  Uppy.prototype.run = function run() {
    this.log('Core is run, initializing actions...');

    this.actions();

    // Forse set `autoProceed` option to false if there are multiple selector Plugins active
    // if (this.plugins.acquirer && this.plugins.acquirer.length > 1) {
    //   this.opts.autoProceed = false
    // }

    // Install all plugins
    // this.installAll()

    return;
  };

  return Uppy;
}();

// module.exports = function (opts) {
//   if (!(this instanceof Uppy)) {
//     return new Uppy(opts)
//   }
// }

module.exports = function (opts) {
  if (!(this instanceof Uppy)) {
    return new Uppy(opts);
  }
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../core/Translator":33,"../core/Utils":35,"./UppySocket":34,"namespace-emitter":5}],33:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Translates strings with interpolation & pluralization support.
 * Extensible with custom dictionaries and pluralization functions.
 *
 * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,
 * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded
 * and can be easily added among with dictionaries, nested objects are used for pluralization
 * as opposed to `||||` delimeter
 *
 * Usage example: `translator.translate('files_chosen', {smart_count: 3})`
 *
 * @param {object} opts
 */
module.exports = function () {
  function Translator(opts) {
    _classCallCheck(this, Translator);

    var defaultOptions = {
      locale: {
        strings: {},
        pluralize: function pluralize(n) {
          if (n === 1) {
            return 0;
          }
          return 1;
        }
      }
    };

    this.opts = _extends({}, defaultOptions, opts);
    this.locale = _extends({}, defaultOptions.locale, opts.locale);

    console.log(this.opts.locale);

    // this.locale.pluralize = this.locale ? this.locale.pluralize : defaultPluralize
    // this.locale.strings = Object.assign({}, en_US.strings, this.opts.locale.strings)
  }

  /**
   * Takes a string with placeholder variables like `%{smart_count} file selected`
   * and replaces it with values from options `{smart_count: 5}`
   *
   * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
   * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
   *
   * @param {string} phrase that needs interpolation, with placeholders
   * @param {object} options with values that will be used to replace placeholders
   * @return {string} interpolated
   */


  Translator.prototype.interpolate = function interpolate(phrase, options) {
    var replace = String.prototype.replace;
    var dollarRegex = /\$/g;
    var dollarBillsYall = '$$$$';

    for (var arg in options) {
      if (arg !== '_' && options.hasOwnProperty(arg)) {
        // Ensure replacement value is escaped to prevent special $-prefixed
        // regex replace tokens. the "$$$$" is needed because each "$" needs to
        // be escaped with "$" itself, and we need two in the resulting output.
        var replacement = options[arg];
        if (typeof replacement === 'string') {
          replacement = replace.call(options[arg], dollarRegex, dollarBillsYall);
        }
        // We create a new `RegExp` each time instead of using a more-efficient
        // string replace so that the same argument can be replaced multiple times
        // in the same phrase.
        phrase = replace.call(phrase, new RegExp('%\\{' + arg + '\\}', 'g'), replacement);
      }
    }
    return phrase;
  };

  /**
   * Public translate method
   *
   * @param {string} key
   * @param {object} options with values that will be used later to replace placeholders in string
   * @return {string} translated (and interpolated)
   */


  Translator.prototype.translate = function translate(key, options) {
    if (options && options.smart_count) {
      var plural = this.locale.pluralize(options.smart_count);
      return this.interpolate(this.opts.locale.strings[key][plural], options);
    }

    return this.interpolate(this.opts.locale.strings[key], options);
  };

  return Translator;
}();

},{}],34:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ee = require('namespace-emitter');

module.exports = function () {
  function UppySocket(opts) {
    var _this = this;

    _classCallCheck(this, UppySocket);

    this.queued = [];
    this.isOpen = false;
    this.socket = new WebSocket(opts.target);
    this.emitter = ee();

    this.socket.onopen = function (e) {
      _this.isOpen = true;

      while (_this.queued.length > 0 && _this.isOpen) {
        var first = _this.queued[0];
        _this.send(first.action, first.payload);
        _this.queued = _this.queued.slice(1);
      }
    };

    this.socket.onclose = function (e) {
      _this.isOpen = false;
    };

    this._handleMessage = this._handleMessage.bind(this);

    this.socket.onmessage = this._handleMessage;

    this.close = this.close.bind(this);
    this.emit = this.emit.bind(this);
    this.on = this.on.bind(this);
    this.once = this.once.bind(this);
    this.send = this.send.bind(this);
  }

  UppySocket.prototype.close = function close() {
    return this.socket.close();
  };

  UppySocket.prototype.send = function send(action, payload) {
    // attach uuid

    if (!this.isOpen) {
      this.queued.push({ action: action, payload: payload });
      return;
    }

    this.socket.send(JSON.stringify({
      action: action,
      payload: payload
    }));
  };

  UppySocket.prototype.on = function on(action, handler) {
    console.log(action);
    this.emitter.on(action, handler);
  };

  UppySocket.prototype.emit = function emit(action, payload) {
    console.log(action);
    this.emitter.emit(action, payload);
  };

  UppySocket.prototype.once = function once(action, handler) {
    this.emitter.once(action, handler);
  };

  UppySocket.prototype._handleMessage = function _handleMessage(e) {
    try {
      var message = JSON.parse(e.data);
      console.log(message);
      this.emit(message.action, message.payload);
    } catch (err) {
      console.log(err);
    }
  };

  return UppySocket;
}();

},{"namespace-emitter":5}],35:[function(require,module,exports){
'use strict';

var _Promise = typeof Promise === 'undefined' ? require('es6-promise').Promise : Promise;

// import mime from 'mime-types'
// import pica from 'pica'

/**
 * A collection of small utility functions that help with dom manipulation, adding listeners,
 * promises and other good things.
 *
 * @module Utils
 */

/**
 * Shallow flatten nested arrays.
 */
function flatten(arr) {
  return [].concat.apply([], arr);
}

function isTouchDevice() {
  return 'ontouchstart' in window || // works on most browsers
  navigator.maxTouchPoints; // works on IE10/11 and Surface
}

// /**
//  * Shorter and fast way to select a single node in the DOM
//  * @param   { String } selector - unique dom selector
//  * @param   { Object } ctx - DOM node where the target of our search will is located
//  * @returns { Object } dom node found
//  */
// function $ (selector, ctx) {
//   return (ctx || document).querySelector(selector)
// }

// /**
//  * Shorter and fast way to select multiple nodes in the DOM
//  * @param   { String|Array } selector - DOM selector or nodes list
//  * @param   { Object } ctx - DOM node where the targets of our search will is located
//  * @returns { Object } dom nodes found
//  */
// function $$ (selector, ctx) {
//   var els
//   if (typeof selector === 'string') {
//     els = (ctx || document).querySelectorAll(selector)
//   } else {
//     els = selector
//     return Array.prototype.slice.call(els)
//   }
// }

function truncateString(str, length) {
  if (str.length > length) {
    return str.substr(0, length / 2) + '...' + str.substr(str.length - length / 4, str.length);
  }
  return str;

  // more precise version if needed
  // http://stackoverflow.com/a/831583
}

function secondsToTime(rawSeconds) {
  var hours = Math.floor(rawSeconds / 3600) % 24;
  var minutes = Math.floor(rawSeconds / 60) % 60;
  var seconds = Math.floor(rawSeconds % 60);

  return { hours: hours, minutes: minutes, seconds: seconds };
}

/**
 * Partition array by a grouping function.
 * @param  {[type]} array      Input array
 * @param  {[type]} groupingFn Grouping function
 * @return {[type]}            Array of arrays
 */
function groupBy(array, groupingFn) {
  return array.reduce(function (result, item) {
    var key = groupingFn(item);
    var xs = result.get(key) || [];
    xs.push(item);
    result.set(key, xs);
    return result;
  }, new Map());
}

/**
 * Tests if every array element passes predicate
 * @param  {Array}  array       Input array
 * @param  {Object} predicateFn Predicate
 * @return {bool}               Every element pass
 */
function every(array, predicateFn) {
  return array.reduce(function (result, item) {
    if (!result) {
      return false;
    }

    return predicateFn(item);
  }, true);
}

/**
 * Converts list into array
*/
function toArray(list) {
  return Array.prototype.slice.call(list || [], 0);
}

/**
 * Takes a fileName and turns it into fileID, by converting to lowercase,
 * removing extra characters and adding unix timestamp
 *
 * @param {String} fileName
 *
 */
function generateFileID(fileName) {
  var fileID = fileName.toLowerCase();
  fileID = fileID.replace(/[^A-Z0-9]/ig, '');
  fileID = fileID + Date.now();
  return fileID;
}

function extend() {
  for (var _len = arguments.length, objs = Array(_len), _key = 0; _key < _len; _key++) {
    objs[_key] = arguments[_key];
  }

  return Object.assign.apply(this, [{}].concat(objs));
}

/**
 * Takes function or class, returns its name.
 * Because IE doesn’t support `constructor.name`.
 * https://gist.github.com/dfkaye/6384439, http://stackoverflow.com/a/15714445
 *
 * @param {Object} fn — function
 *
 */
// function getFnName (fn) {
//   var f = typeof fn === 'function'
//   var s = f && ((fn.name && ['', fn.name]) || fn.toString().match(/function ([^\(]+)/))
//   return (!f && 'not a function') || (s && s[1] || 'anonymous')
// }

function getProportionalImageHeight(img, newWidth) {
  var aspect = img.width / img.height;
  var newHeight = Math.round(newWidth / aspect);
  return newHeight;
}

function getFileType(file) {
  if (file.type) {
    return file.type;
  }
  return '';
  // return mime.lookup(file.name)
}

// returns [fileName, fileExt]
function getFileNameAndExtension(fullFileName) {
  var re = /(?:\.([^.]+))?$/;
  var fileExt = re.exec(fullFileName)[1];
  var fileName = fullFileName.replace('.' + fileExt, '');
  return [fileName, fileExt];
}

/**
 * Reads file as data URI from file object,
 * the one you get from input[type=file] or drag & drop.
 *
 * @param {Object} file object
 * @return {Promise} dataURL of the file
 *
 */
function readFile(fileObj) {
  return new _Promise(function (resolve, reject) {
    var reader = new FileReader();
    reader.addEventListener('load', function (ev) {
      return resolve(ev.target.result);
    });
    reader.readAsDataURL(fileObj);

    // function workerScript () {
    //   self.addEventListener('message', (e) => {
    //     const file = e.data.file
    //     try {
    //       const reader = new FileReaderSync()
    //       postMessage({
    //         file: reader.readAsDataURL(file)
    //       })
    //     } catch (err) {
    //       console.log(err)
    //     }
    //   })
    // }
    //
    // const worker = makeWorker(workerScript)
    // worker.postMessage({file: fileObj})
    // worker.addEventListener('message', (e) => {
    //   const fileDataURL = e.data.file
    //   console.log('FILE _ DATA _ URL')
    //   return resolve(fileDataURL)
    // })
  });
}

/**
 * Resizes an image to specified width and proportional height, using canvas
 * See https://davidwalsh.name/resize-image-canvas,
 * http://babalan.com/resizing-images-with-javascript/
 * @TODO see if we need https://github.com/stomita/ios-imagefile-megapixel for iOS
 *
 * @param {String} Data URI of the original image
 * @param {String} width of the resulting image
 * @return {String} Data URI of the resized image
 */
function createImageThumbnail(imgDataURI, newWidth) {
  return new _Promise(function (resolve, reject) {
    var img = new Image();
    img.addEventListener('load', function () {
      var newImageWidth = newWidth;
      var newImageHeight = getProportionalImageHeight(img, newImageWidth);

      // create an off-screen canvas
      var canvas = document.createElement('canvas');
      var ctx = canvas.getContext('2d');

      // set its dimension to target size
      canvas.width = newImageWidth;
      canvas.height = newImageHeight;

      // draw source image into the off-screen canvas:
      // ctx.clearRect(0, 0, width, height)
      ctx.drawImage(img, 0, 0, newImageWidth, newImageHeight);

      // pica.resizeCanvas(img, canvas, (err) => {
      //   if (err) console.log(err)
      //   const thumbnail = canvas.toDataURL('image/png')
      //   return resolve(thumbnail)
      // })

      // encode image to data-uri with base64 version of compressed image
      // canvas.toDataURL('image/jpeg', quality);  // quality = [0.0, 1.0]
      var thumbnail = canvas.toDataURL('image/png');
      return resolve(thumbnail);
    });
    img.src = imgDataURI;
  });
}

function dataURItoBlob(dataURI, opts, toFile) {
  // get the base64 data
  var data = dataURI.split(',')[1];

  // user may provide mime type, if not get it from data URI
  var mimeType = opts.mimeType || dataURI.split(',')[0].split(':')[1].split(';')[0];

  // default to plain/text if data URI has no mimeType
  if (mimeType == null) {
    mimeType = 'plain/text';
  }

  var binary = atob(data);
  var array = [];
  for (var i = 0; i < binary.length; i++) {
    array.push(binary.charCodeAt(i));
  }

  // Convert to a File?
  if (toFile) {
    return new File([new Uint8Array(array)], opts.name || '', { type: mimeType });
  }

  return new Blob([new Uint8Array(array)], { type: mimeType });
}

function dataURItoFile(dataURI, opts) {
  return dataURItoBlob(dataURI, opts, true);
}

/**
 * Copies text to clipboard by creating an almost invisible textarea,
 * adding text there, then running execCommand('copy').
 * Falls back to prompt() when the easy way fails (hello, Safari!)
 * From http://stackoverflow.com/a/30810322
 *
 * @param {String} textToCopy
 * @param {String} fallbackString
 * @return {Promise}
 */
function copyToClipboard(textToCopy, fallbackString) {
  fallbackString = fallbackString || 'Copy the URL below';

  return new _Promise(function (resolve, reject) {
    var textArea = document.createElement('textarea');
    textArea.setAttribute('style', {
      position: 'fixed',
      top: 0,
      left: 0,
      width: '2em',
      height: '2em',
      padding: 0,
      border: 'none',
      outline: 'none',
      boxShadow: 'none',
      background: 'transparent'
    });

    textArea.value = textToCopy;
    document.body.appendChild(textArea);
    textArea.select();

    var magicCopyFailed = function magicCopyFailed(err) {
      document.body.removeChild(textArea);
      window.prompt(fallbackString, textToCopy);
      return reject('Oops, unable to copy displayed fallback prompt: ' + err);
    };

    try {
      var successful = document.execCommand('copy');
      if (!successful) {
        return magicCopyFailed('copy command unavailable');
      }
      document.body.removeChild(textArea);
      return resolve();
    } catch (err) {
      document.body.removeChild(textArea);
      return magicCopyFailed(err);
    }
  });
}

// function createInlineWorker (workerFunction) {
//   let code = workerFunction.toString()
//   code = code.substring(code.indexOf('{') + 1, code.lastIndexOf('}'))
//
//   const blob = new Blob([code], {type: 'application/javascript'})
//   const worker = new Worker(URL.createObjectURL(blob))
//
//   return worker
// }

// function makeWorker (script) {
//   var URL = window.URL || window.webkitURL
//   var Blob = window.Blob
//   var Worker = window.Worker
//
//   if (!URL || !Blob || !Worker || !script) {
//     return null
//   }
//
//   let code = script.toString()
//   code = code.substring(code.indexOf('{') + 1, code.lastIndexOf('}'))
//
//   var blob = new Blob([code])
//   var worker = new Worker(URL.createObjectURL(blob))
//   return worker
// }

function getSpeed(fileProgress) {
  if (!fileProgress.bytesUploaded) return 0;

  var timeElapsed = new Date() - fileProgress.uploadStarted;
  var uploadSpeed = fileProgress.bytesUploaded / (timeElapsed / 1000);
  return uploadSpeed;
}

function getETA(fileProgress) {
  if (!fileProgress.bytesUploaded) return 0;

  var uploadSpeed = getSpeed(fileProgress);
  var bytesRemaining = fileProgress.bytesTotal - fileProgress.bytesUploaded;
  var secondsRemaining = Math.round(bytesRemaining / uploadSpeed * 10) / 10;

  return secondsRemaining;
}

function prettyETA(seconds) {
  var time = secondsToTime(seconds);

  // Only display hours and minutes if they are greater than 0 but always
  // display minutes if hours is being displayed
  // Display a leading zero if the there is a preceding unit: 1m 05s, but 5s
  var hoursStr = time.hours ? time.hours + 'h ' : '';
  var minutesVal = time.hours ? ('0' + time.minutes).substr(-2) : time.minutes;
  var minutesStr = minutesVal ? minutesVal + 'm ' : '';
  var secondsVal = minutesVal ? ('0' + time.seconds).substr(-2) : time.seconds;
  var secondsStr = secondsVal + 's';

  return '' + hoursStr + minutesStr + secondsStr;
}

// function makeCachingFunction () {
//   let cachedEl = null
//   let lastUpdate = Date.now()
//
//   return function cacheElement (el, time) {
//     if (Date.now() - lastUpdate < time) {
//       return cachedEl
//     }
//
//     cachedEl = el
//     lastUpdate = Date.now()
//
//     return el
//   }
// }

module.exports = {
  generateFileID: generateFileID,
  toArray: toArray,
  every: every,
  flatten: flatten,
  groupBy: groupBy,
  // $,
  // $$,
  extend: extend,
  readFile: readFile,
  createImageThumbnail: createImageThumbnail,
  getProportionalImageHeight: getProportionalImageHeight,
  isTouchDevice: isTouchDevice,
  getFileNameAndExtension: getFileNameAndExtension,
  truncateString: truncateString,
  getFileType: getFileType,
  secondsToTime: secondsToTime,
  dataURItoBlob: dataURItoBlob,
  dataURItoFile: dataURItoFile,
  getSpeed: getSpeed,
  getETA: getETA,
  // makeWorker,
  // makeCachingFunction,
  copyToClipboard: copyToClipboard,
  prettyETA: prettyETA
};

},{"es6-promise":4}],36:[function(require,module,exports){
'use strict';

var Core = require('./Core');
module.exports = Core;

},{"./Core":32}],37:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
  var demoLink = props.demo ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("button");
    bel0["onclick"] = arguments[0];
    bel0.setAttribute("class", "UppyProvider-authBtnDemo");
    ac(bel0, ["Proceed with Demo Account"]);
    return bel0;
  }(props.handleDemoAuth) : null;
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel4 = document.createElement("div");
    bel4.setAttribute("class", "UppyProvider-auth");
    var bel2 = document.createElement("h1");
    bel2.setAttribute("class", "UppyProvider-authTitle");
    var bel0 = document.createElement("span");
    bel0.setAttribute("class", "UppyProvider-authTitleName");
    ac(bel0, [arguments[0]]);
    var bel1 = document.createElement("br");
    ac(bel2, ["\n        Please authenticate with ", bel0, bel1, " to select files\n      "]);
    var bel3 = document.createElement("button");
    bel3["onclick"] = arguments[1];
    bel3.setAttribute("class", "UppyProvider-authBtn");
    ac(bel3, ["Authenticate"]);
    ac(bel4, ["\n      ", bel2, "\n      ", bel3, "\n      ", arguments[2], "\n    "]);
    return bel4;
  }(props.pluginName, props.handleAuth, demoLink);
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],38:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel1 = document.createElement("div");
        var bel0 = document.createElement("span");
        ac(bel0, ["\n        Something went wrong.  Probably our fault. ", arguments[0], "\n      "]);
        ac(bel1, ["\n      ", bel0, "\n    "]);
        return bel1;
    }(props.error);
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],39:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var AuthView = require('./AuthView');
var Browser = require('./new/Browser');
var ErrorView = require('./Error');

/**
 * Class to easily generate generic views for plugins
 *
 * This class expects the plugin using to have the following attributes
 *
 * stateId {String} object key of which the plugin state is stored
 *
 * This class also expects the plugin instance using it to have the following
 * accessor methods.
 * Each method takes the item whose property is to be accessed
 * as a param
 *
 * isFolder
 *    @return {Boolean} for if the item is a folder or not
 * getItemData
 *    @return {Object} that is format ready for uppy upload/download
 * getItemIcon
 *    @return {Object} html instance of the item's icon
 * getItemSubList
 *    @return {Array} sub-items in the item. e.g a folder may contain sub-items
 * getItemName
 *    @return {String} display friendly name of the item
 * getMimeType
 *    @return {String} mime type of the item
 * getItemId
 *    @return {String} unique id of the item
 * getItemRequestPath
 *    @return {String} unique request path of the item when making calls to uppy server
 * getItemModifiedDate
 *    @return {object} or {String} date of when last the item was modified
 */
module.exports = function () {
  /**
   * @param {object} instance of the plugin
   */
  function View(plugin) {
    _classCallCheck(this, View);

    this.plugin = plugin;
    this.Provider = plugin[plugin.id];

    // Logic
    this.addFile = this.addFile.bind(this);
    this.filterItems = this.filterItems.bind(this);
    this.filterQuery = this.filterQuery.bind(this);
    this.getFolder = this.getFolder.bind(this);
    this.getNextFolder = this.getNextFolder.bind(this);
    this.handleRowClick = this.handleRowClick.bind(this);
    this.logout = this.logout.bind(this);
    this.handleAuth = this.handleAuth.bind(this);
    this.handleDemoAuth = this.handleDemoAuth.bind(this);
    this.sortByTitle = this.sortByTitle.bind(this);
    this.sortByDate = this.sortByDate.bind(this);
    this.isActiveRow = this.isActiveRow.bind(this);

    // Visual
    this.render = this.render.bind(this);
  }

  /**
   * Little shorthand to update the state with the plugin's state
   */


  View.prototype.updateState = function updateState(newState) {
    var _plugin$core$setState;

    var stateId = this.plugin.stateId;
    var state = this.plugin.core.state;


    this.plugin.core.setState((_plugin$core$setState = {}, _plugin$core$setState[stateId] = _extends({}, state[stateId], newState), _plugin$core$setState));
  };

  /**
   * Based on folder ID, fetch a new folder and update it to state
   * @param  {String} id Folder id
   * @return {Promise}   Folders/files in folder
   */


  View.prototype.getFolder = function getFolder(id, name) {
    var _this = this;

    return this.Provider.list(id).then(function (res) {
      var folders = [];
      var files = [];
      var updatedDirectories = void 0;

      var state = _this.plugin.core.getState()[_this.plugin.stateId];
      var index = state.directories.findIndex(function (dir) {
        return id === dir.id;
      });

      if (index !== -1) {
        updatedDirectories = state.directories.slice(0, index + 1);
      } else {
        updatedDirectories = state.directories.concat([{ id: id, title: name || _this.plugin.getItemName(res) }]);
      }

      _this.plugin.getItemSubList(res).forEach(function (item) {
        if (_this.plugin.isFolder(item)) {
          folders.push(item);
        } else {
          files.push(item);
        }
      });

      var data = { folders: folders, files: files, directories: updatedDirectories };
      _this.updateState(data);

      return data;
    }).catch(function (err) {
      return err;
    });
  };

  /**
   * Fetches new folder
   * @param  {Object} Folder
   * @param  {String} title Folder title
   */


  View.prototype.getNextFolder = function getNextFolder(folder) {
    var id = this.plugin.getItemRequestPath(folder);
    this.getFolder(id, this.plugin.getItemName(folder));
  };

  View.prototype.addFile = function addFile(file) {
    var tagFile = {
      source: this.plugin.id,
      data: this.plugin.getItemData(file),
      name: this.plugin.getItemName(file),
      type: this.plugin.getMimeType(file),
      isRemote: true,
      body: {
        fileId: this.plugin.getItemId(file)
      },
      remote: {
        host: this.plugin.opts.host,
        url: this.plugin.opts.host + '/' + this.Provider.id + '/get/' + this.plugin.getItemRequestPath(file),
        body: {
          fileId: this.plugin.getItemId(file)
        }
      }
    };
    console.log('adding file');
    this.plugin.core.emitter.emit('core:file-add', tagFile);
  };

  /**
   * Removes session token on client side.
   */


  View.prototype.logout = function logout() {
    var _this2 = this;

    this.Provider.logout(location.href).then(function (res) {
      return res.json();
    }).then(function (res) {
      if (res.ok) {
        var newState = {
          authenticated: false,
          files: [],
          folders: [],
          directories: []
        };
        _this2.updateState(newState);
      }
    });
  };

  /**
   * Used to set active file/folder.
   * @param  {Object} file   Active file/folder
   */


  View.prototype.handleRowClick = function handleRowClick(file) {
    var state = this.plugin.core.getState()[this.plugin.stateId];
    var newState = _extends({}, state, {
      activeRow: this.plugin.getItemId(file)
    });

    this.updateState(newState);
  };

  View.prototype.filterQuery = function filterQuery(e) {
    var state = this.plugin.core.getState()[this.plugin.stateId];
    this.updateState(_extends({}, state, {
      filterInput: e.target.value
    }));
  };

  View.prototype.filterItems = function filterItems(items) {
    var _this3 = this;

    var state = this.plugin.core.getState()[this.plugin.stateId];
    return items.filter(function (folder) {
      return _this3.plugin.getItemName(folder).toLowerCase().indexOf(state.filterInput.toLowerCase()) !== -1;
    });
  };

  View.prototype.sortByTitle = function sortByTitle() {
    var _this4 = this;

    var state = _extends({}, this.plugin.core.getState()[this.plugin.stateId]);
    var files = state.files;
    var folders = state.folders;
    var sorting = state.sorting;


    var sortedFiles = files.sort(function (fileA, fileB) {
      if (sorting === 'titleDescending') {
        return _this4.plugin.getItemName(fileB).localeCompare(_this4.plugin.getItemName(fileA));
      }
      return _this4.plugin.getItemName(fileA).localeCompare(_this4.plugin.getItemName(fileB));
    });

    var sortedFolders = folders.sort(function (folderA, folderB) {
      if (sorting === 'titleDescending') {
        return _this4.plugin.getItemName(folderB).localeCompare(_this4.plugin.getItemName(folderA));
      }
      return _this4.plugin.getItemName(folderA).localeCompare(_this4.plugin.getItemName(folderB));
    });

    this.updateState(_extends({}, state, {
      files: sortedFiles,
      folders: sortedFolders,
      sorting: sorting === 'titleDescending' ? 'titleAscending' : 'titleDescending'
    }));
  };

  View.prototype.sortByDate = function sortByDate() {
    var _this5 = this;

    var state = _extends({}, this.plugin.core.getState()[this.plugin.stateId]);
    var files = state.files;
    var folders = state.folders;
    var sorting = state.sorting;


    var sortedFiles = files.sort(function (fileA, fileB) {
      var a = new Date(_this5.plugin.getItemModifiedDate(fileA));
      var b = new Date(_this5.plugin.getItemModifiedDate(fileB));

      if (sorting === 'dateDescending') {
        return a > b ? -1 : a < b ? 1 : 0;
      }
      return a > b ? 1 : a < b ? -1 : 0;
    });

    var sortedFolders = folders.sort(function (folderA, folderB) {
      var a = new Date(_this5.plugin.getItemModifiedDate(folderA));
      var b = new Date(_this5.plugin.getItemModifiedDate(folderB));

      if (sorting === 'dateDescending') {
        return a > b ? -1 : a < b ? 1 : 0;
      }

      return a > b ? 1 : a < b ? -1 : 0;
    });

    this.updateState(_extends({}, state, {
      files: sortedFiles,
      folders: sortedFolders,
      sorting: sorting === 'dateDescending' ? 'dateAscending' : 'dateDescending'
    }));
  };

  View.prototype.isActiveRow = function isActiveRow(file) {
    return this.plugin.core.getState()[this.plugin.stateId].activeRow === this.plugin.getItemId(file);
  };

  View.prototype.handleDemoAuth = function handleDemoAuth() {
    var state = this.plugin.core.getState()[this.plugin.stateId];
    this.updateState({}, state, {
      authenticated: true
    });
  };

  View.prototype.handleAuth = function handleAuth() {
    var _this6 = this;

    var urlId = Math.floor(Math.random() * 999999) + 1;
    var redirect = '' + location.href + (location.search ? '&' : '?') + 'id=' + urlId;

    var authState = btoa(JSON.stringify({ redirect: redirect }));
    var link = this.plugin.opts.host + '/connect/' + this.Provider.authProvider + '?state=' + authState;

    var authWindow = window.open(link, '_blank');
    var checkAuth = function checkAuth() {
      var authWindowUrl = void 0;

      try {
        authWindowUrl = authWindow.location.href;
      } catch (e) {
        if (e instanceof DOMException || e instanceof TypeError) {
          return setTimeout(checkAuth, 100);
        } else throw e;
      }

      // split url because chrome adds '#' to redirects
      if (authWindowUrl.split('#')[0] === redirect) {
        authWindow.close();
        _this6.Provider.auth().then(_this6.plugin.onAuth);
      } else {
        setTimeout(checkAuth, 100);
      }
    };

    checkAuth();
  };

  View.prototype.render = function render(state) {
    var _state$plugin$stateId = state[this.plugin.stateId];
    var authenticated = _state$plugin$stateId.authenticated;
    var error = _state$plugin$stateId.error;


    if (error) {
      return ErrorView({ error: error });
    }

    if (!authenticated) {
      return AuthView({
        pluginName: this.plugin.title,
        demo: this.plugin.opts.demo,
        handleAuth: this.handleAuth,
        handleDemoAuth: this.handleDemoAuth
      });
    }

    var browserProps = _extends({}, state[this.plugin.stateId], {
      getNextFolder: this.getNextFolder,
      getFolder: this.getFolder,
      addFile: this.addFile,
      filterItems: this.filterItems,
      filterQuery: this.filterQuery,
      handleRowClick: this.handleRowClick,
      sortByTitle: this.sortByTitle,
      sortByDate: this.sortByDate,
      logout: this.logout,
      demo: this.plugin.opts.demo,
      isActiveRow: this.isActiveRow,
      getItemName: this.plugin.getItemName,
      getItemIcon: this.plugin.getItemIcon
    });

    return Browser(browserProps);
  };

  return View;
}();

},{"./AuthView":37,"./Error":38,"./new/Browser":42}],40:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel1 = document.createElement("li");
        var bel0 = document.createElement("button");
        bel0["onclick"] = arguments[0];
        ac(bel0, [arguments[1]]);
        ac(bel1, ["\n      ", bel0, "\n    "]);
        return bel1;
    }(props.getFolder, props.title);
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],41:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var Breadcrumb = require('./Breadcrumb');

module.exports = function (props) {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("ul");
    bel0.setAttribute("class", "UppyProvider-breadcrumbs");
    ac(bel0, ["\n      ", arguments[0], "\n    "]);
    return bel0;
  }(props.directories.map(function (directory) {
    return Breadcrumb({
      getFolder: function getFolder() {
        return props.getFolder(directory.id);
      },
      title: directory.title
    });
  }));
};

},{"./Breadcrumb":40,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],42:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var Breadcrumbs = require('./Breadcrumbs');
var Table = require('./Table');

module.exports = function (props) {
  var filteredFolders = props.folders;
  var filteredFiles = props.files;

  if (props.filterInput !== '') {
    filteredFolders = props.filterItems(props.folders);
    filteredFiles = props.filterItems(props.files);
  }

  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel5 = document.createElement("div");
    bel5.setAttribute("class", "Browser");
    var bel1 = document.createElement("header");
    var bel0 = document.createElement("input");
    bel0.setAttribute("type", "text");
    bel0.setAttribute("placeholder", "Search Drive");
    bel0["onkeyup"] = arguments[0];
    bel0.setAttribute("value", arguments[1]);
    bel0.setAttribute("class", "Browser-search");
    ac(bel1, ["\n        ", bel0, "\n      "]);
    var bel2 = document.createElement("div");
    bel2.setAttribute("class", "Browser-subHeader");
    ac(bel2, ["\n        ", arguments[2], "\n      "]);
    var bel4 = document.createElement("div");
    bel4.setAttribute("class", "Browser-body");
    var bel3 = document.createElement("main");
    bel3.setAttribute("class", "Browser-content");
    ac(bel3, ["\n          ", arguments[3], "\n        "]);
    ac(bel4, ["\n        ", bel3, "\n      "]);
    ac(bel5, ["\n      ", bel1, "\n      ", bel2, "\n      ", bel4, "\n    "]);
    return bel5;
  }(props.filterQuery, props.filterInput, Breadcrumbs({
    getFolder: props.getFolder,
    directories: props.directories
  }), Table({
    columns: [{
      name: 'Name',
      key: 'title'
    }],
    folders: filteredFolders,
    files: filteredFiles,
    activeRow: props.isActiveRow,
    sortByTitle: props.sortByTitle,
    sortByDate: props.sortByDate,
    handleRowClick: props.handleRowClick,
    handleFileDoubleClick: props.addFile,
    handleFolderDoubleClick: props.getNextFolder,
    getItemName: props.getItemName,
    getItemIcon: props.getItemIcon
  }));
};

},{"./Breadcrumbs":41,"./Table":43,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],43:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var Row = require('./TableRow');

module.exports = function (props) {
  var headers = props.columns.map(function (column) {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel0 = document.createElement("th");
      bel0["onclick"] = arguments[0];
      bel0.setAttribute("class", "BrowserTable-headerColumn BrowserTable-column");
      ac(bel0, ["\n        ", arguments[1], "\n      "]);
      return bel0;
    }(props.sortByTitle, column.name);
  });

  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel3 = document.createElement("table");
    bel3.setAttribute("class", "BrowserTable");
    var bel1 = document.createElement("thead");
    bel1.setAttribute("class", "BrowserTable-header");
    var bel0 = document.createElement("tr");
    ac(bel0, ["\n          ", arguments[0], "\n        "]);
    ac(bel1, ["\n        ", bel0, "\n      "]);
    var bel2 = document.createElement("tbody");
    ac(bel2, ["\n        ", arguments[1], "\n        ", arguments[2], "\n      "]);
    ac(bel3, ["\n      ", bel1, "\n      ", bel2, "\n    "]);
    return bel3;
  }(headers, props.folders.map(function (folder) {
    return Row({
      title: props.getItemName(folder),
      active: props.activeRow(folder),
      getItemIcon: function getItemIcon() {
        return props.getItemIcon(folder);
      },
      handleClick: function handleClick() {
        return props.handleRowClick(folder);
      },
      handleDoubleClick: function handleDoubleClick() {
        return props.handleFolderDoubleClick(folder);
      },
      columns: props.columns
    });
  }), props.files.map(function (file) {
    return Row({
      title: props.getItemName(file),
      active: props.activeRow(file),
      getItemIcon: function getItemIcon() {
        return props.getItemIcon(file);
      },
      handleClick: function handleClick() {
        return props.handleRowClick(file);
      },
      handleDoubleClick: function handleDoubleClick() {
        return props.handleFileDoubleClick(file);
      },
      columns: props.columns
    });
  }));
};

},{"./TableRow":45,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],44:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel0 = document.createElement("td");
        bel0.setAttribute("class", "BrowserTable-rowColumn BrowserTable-column");
        ac(bel0, ["\n      ", arguments[0], " ", arguments[1], "\n    "]);
        return bel0;
    }(props.getItemIcon(), props.value);
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],45:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var Column = require('./TableColumn');

module.exports = function (props) {
  var classes = props.active ? 'BrowserTable-row is-active' : 'BrowserTable-row';
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("tr");
    bel0["onclick"] = arguments[0];
    bel0["ondblclick"] = arguments[1];
    bel0.setAttribute("class", arguments[2]);
    ac(bel0, ["\n      ", arguments[3], "\n    "]);
    return bel0;
  }(props.handleClick, props.handleDoubleClick, classes, Column({
    getItemIcon: props.getItemIcon,
    value: props.title
  }));
};

},{"./TableColumn":44,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],46:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElement("span");
    var bel0 = document.createElement("button");
    bel0.setAttribute("type", "button");
    bel0["onclick"] = arguments[0];
    bel0.setAttribute("class", "UppyDashboard-browse");
    ac(bel0, [arguments[1]]);
    var bel1 = document.createElement("input");
    bel1.setAttribute("type", "file");
    bel1.setAttribute("name", "files[]");
    bel1.setAttribute("multiple", "true");
    bel1["onchange"] = arguments[2];
    bel1.setAttribute("class", "UppyDashboard-input");
    ac(bel2, ["\n      ", arguments[3], "\n      ", bel0, "\n      ", bel1, "\n    "]);
    return bel2;
  }(function (ev) {
    var input = document.querySelector(props.container + ' .UppyDashboard-input');
    input.click();
  }, props.i18n('browse'), props.handleInputChange, props.acquirers.length === 0 ? props.i18n('dropPaste') : props.i18n('dropPasteImport'));
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],47:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var FileList = require('./FileList');
var Tabs = require('./Tabs');
var FileCard = require('./FileCard');
var UploadBtn = require('./UploadBtn');
var StatusBar = require('./StatusBar');

var _require = require('../../core/Utils');

var isTouchDevice = _require.isTouchDevice;
var toArray = _require.toArray;

var _require2 = require('./icons');

var closeIcon = _require2.closeIcon;

// http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog

module.exports = function Dashboard(props) {
  function handleInputChange(ev) {
    ev.preventDefault();
    var files = toArray(ev.target.files);

    files.forEach(function (file) {
      props.addFile({
        source: props.id,
        name: file.name,
        type: file.type,
        data: file
      });
    });
  }

  // @TODO Exprimental, work in progress
  // no names, weird API, Chrome-only http://stackoverflow.com/a/22940020
  function handlePaste(ev) {
    ev.preventDefault();

    var files = toArray(ev.clipboardData.items);
    files.forEach(function (file) {
      if (file.kind !== 'file') return;

      var blob = file.getAsFile();
      props.log('File pasted');
      props.addFile({
        source: props.id,
        name: file.name,
        type: file.type,
        data: blob
      });
    });
  }

  return function () {
    var onload = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/node_modules/on-load/index.js');
    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel11 = document.createElement("div");
    var args = arguments;
    onload(bel11, function bel_onload() {
      args[19](bel11);
    }, function bel_onunload() {}, "o0");
    bel11.setAttribute("aria-hidden", arguments[20]);
    bel11.setAttribute("aria-label", arguments[21]);
    bel11.setAttribute("role", "dialog");
    bel11["onpaste"] = arguments[22];
    bel11.setAttribute("class", "Uppy UppyTheme--default UppyDashboard\n                          " + arguments[23] + "\n                          " + arguments[24] + "\n                          " + arguments[25] + "\n                          " + arguments[26]);
    var bel0 = document.createElement("button");
    bel0.setAttribute("aria-label", arguments[0]);
    bel0.setAttribute("title", arguments[1]);
    bel0["onclick"] = arguments[2];
    bel0.setAttribute("class", "UppyDashboard-close");
    ac(bel0, [arguments[3]]);
    var bel1 = document.createElement("div");
    bel1["onclick"] = arguments[4];
    bel1.setAttribute("class", "UppyDashboard-overlay");
    var bel10 = document.createElement("div");
    bel10.setAttribute("tabindex", "0");
    bel10.setAttribute("style", "\n          " + arguments[17] + "\n          " + arguments[18] + "\n         ");
    bel10.setAttribute("class", "UppyDashboard-inner");
    var bel9 = document.createElement("div");
    bel9.setAttribute("class", "UppyDashboard-innerWrap");
    var bel3 = document.createElement("div");
    bel3.setAttribute("class", "UppyDashboard-filesContainer");
    var bel2 = document.createElement("div");
    bel2.setAttribute("class", "UppyDashboard-actions");
    ac(bel2, ["\n            ", arguments[5], "\n          "]);
    ac(bel3, ["\n\n          ", arguments[6], "\n\n          ", bel2, "\n\n        "]);
    var bel7 = document.createElement("div");
    bel7.setAttribute("role", "tabpanel");
    bel7.setAttribute("aria-hidden", arguments[11]);
    bel7.setAttribute("class", "UppyDashboardContent-panel");
    var bel6 = document.createElement("div");
    bel6.setAttribute("class", "UppyDashboardContent-bar");
    var bel4 = document.createElement("h2");
    bel4.setAttribute("class", "UppyDashboardContent-title");
    ac(bel4, ["\n              ", arguments[7], " ", arguments[8], "\n            "]);
    var bel5 = document.createElement("button");
    bel5["onclick"] = arguments[9];
    bel5.setAttribute("class", "UppyDashboardContent-back");
    ac(bel5, [arguments[10]]);
    ac(bel6, ["\n            ", bel4, "\n            ", bel5, "\n          "]);
    ac(bel7, ["\n          ", bel6, "\n          ", arguments[12], "\n        "]);
    var bel8 = document.createElement("div");
    bel8.setAttribute("class", "UppyDashboard-progressindicators");
    ac(bel8, ["\n          ", arguments[13], "\n\n          ", arguments[14], "\n        "]);
    ac(bel9, ["\n\n        ", arguments[15], "\n\n        ", arguments[16], "\n\n        ", bel3, "\n\n        ", bel7, "\n\n        ", bel8, "\n\n      "]);
    ac(bel10, ["\n      ", bel9, "\n    "]);
    ac(bel11, ["\n\n    ", bel0, "\n\n    ", bel1, "\n\n    ", bel10, "\n  "]);
    return bel11;
  }(props.i18n('closeModal'), props.i18n('closeModal'), props.hideModal, closeIcon(), props.hideModal, !props.autoProceed && props.newFiles.length > 0 ? UploadBtn({
    i18n: props.i18n,
    startUpload: props.startUpload,
    newFileCount: props.newFiles.length
  }) : null, FileList({
    acquirers: props.acquirers,
    files: props.files,
    handleInputChange: handleInputChange,
    container: props.container,
    showFileCard: props.showFileCard,
    showProgressDetails: props.showProgressDetails,
    totalProgress: props.totalProgress,
    totalFileCount: props.totalFileCount,
    info: props.info,
    i18n: props.i18n,
    log: props.log,
    removeFile: props.removeFile,
    pauseAll: props.pauseAll,
    resumeAll: props.resumeAll,
    pauseUpload: props.pauseUpload,
    startUpload: props.startUpload,
    cancelUpload: props.cancelUpload,
    resumableUploads: props.resumableUploads,
    isWide: props.isWide
  }), props.i18n('importFrom'), props.activePanel ? props.activePanel.name : null, props.hideAllPanels, props.i18n('done'), props.activePanel ? 'false' : 'true', props.activePanel ? props.activePanel.render(props.state) : '', StatusBar({
    totalProgress: props.totalProgress,
    totalFileCount: props.totalFileCount,
    totalSize: props.totalSize,
    totalUploadedSize: props.totalUploadedSize,
    uploadStartedFiles: props.uploadStartedFiles,
    isAllComplete: props.isAllComplete,
    isAllPaused: props.isAllPaused,
    isUploadStarted: props.isUploadStarted,
    pauseAll: props.pauseAll,
    resumeAll: props.resumeAll,
    cancelAll: props.cancelAll,
    complete: props.completeFiles.length,
    inProgress: props.inProgress,
    totalSpeed: props.totalSpeed,
    totalETA: props.totalETA,
    startUpload: props.startUpload,
    newFileCount: props.newFiles.length,
    i18n: props.i18n,
    resumableUploads: props.resumableUploads
  }), props.progressindicators.map(function (target) {
    return target.render(props.state);
  }), Tabs({
    files: props.files,
    handleInputChange: handleInputChange,
    acquirers: props.acquirers,
    container: props.container,
    panelSelectorPrefix: props.panelSelectorPrefix,
    showPanel: props.showPanel,
    i18n: props.i18n
  }), FileCard({
    files: props.files,
    fileCardFor: props.fileCardFor,
    done: props.fileCardDone,
    metaFields: props.metaFields,
    log: props.log,
    i18n: props.i18n
  }), props.inline && props.maxWidth ? 'max-width: ' + props.maxWidth + 'px;' : '', props.inline && props.maxHeight ? 'max-height: ' + props.maxHeight + 'px;' : '', function () {
    return props.updateDashboardElWidth();
  }, props.inline ? 'false' : props.modal.isHidden, !props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle'), handlePaste, isTouchDevice() ? 'Uppy--isTouchDevice' : '', props.semiTransparent ? 'UppyDashboard--semiTransparent' : '', !props.inline ? 'UppyDashboard--modal' : '', props.isWide ? 'UppyDashboard--wide' : '');
};

},{"../../core/Utils":35,"./FileCard":48,"./FileList":51,"./StatusBar":52,"./Tabs":53,"./UploadBtn":54,"./icons":56,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/node_modules/on-load/index.js":29,"yo-yo":19}],48:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var getFileTypeIcon = require('./getFileTypeIcon');

var _require = require('./icons');

var checkIcon = _require.checkIcon;

// function getIconByMime (fileTypeGeneral) {
//   switch (fileTypeGeneral) {
//     case 'text':
//       return iconText()
//     case 'audio':
//       return iconAudio()
//     default:
//       return iconFile()
//   }
// }

module.exports = function fileCard(props) {
  var file = props.fileCardFor ? props.files[props.fileCardFor] : false;
  var meta = {};

  function tempStoreMeta(ev) {
    var value = ev.target.value;
    var name = ev.target.attributes.name.value;
    meta[name] = value;
  }

  function renderMetaFields(file) {
    var metaFields = props.metaFields || [];
    return metaFields.map(function (field) {
      return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel2 = document.createElement("fieldset");
        bel2.setAttribute("class", "UppyDashboardFileCard-fieldset");
        var bel0 = document.createElement("label");
        bel0.setAttribute("class", "UppyDashboardFileCard-label");
        ac(bel0, [arguments[0]]);
        var bel1 = document.createElement("input");
        bel1.setAttribute("name", arguments[1]);
        bel1.setAttribute("type", "text");
        bel1.setAttribute("value", arguments[2]);
        bel1.setAttribute("placeholder", arguments[3]);
        bel1["onkeyup"] = arguments[4];
        bel1.setAttribute("class", "UppyDashboardFileCard-input");
        ac(bel2, ["\n        ", bel0, "\n        ", bel1]);
        return bel2;
      }(field.name, field.id, file.meta[field.id], field.placeholder || '', tempStoreMeta);
    });
  }

  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel6 = document.createElement("div");
    bel6.setAttribute("aria-hidden", arguments[4]);
    bel6.setAttribute("class", "UppyDashboardFileCard");
    var bel3 = document.createElement("div");
    bel3.setAttribute("class", "UppyDashboardContent-bar");
    var bel1 = document.createElement("h2");
    bel1.setAttribute("class", "UppyDashboardContent-title");
    var bel0 = document.createElement("span");
    bel0.setAttribute("class", "UppyDashboardContent-titleFile");
    ac(bel0, [arguments[0]]);
    ac(bel1, ["Editing ", bel0]);
    var bel2 = document.createElement("button");
    bel2.setAttribute("title", "Finish editing file");
    bel2["onclick"] = arguments[1];
    bel2.setAttribute("class", "UppyDashboardContent-back");
    ac(bel2, ["Done"]);
    ac(bel3, ["\n      ", bel1, "\n      ", bel2, "\n    "]);
    var bel5 = document.createElement("div");
    bel5.setAttribute("class", "UppyDashboard-actions");
    var bel4 = document.createElement("button");
    bel4.setAttribute("type", "button");
    bel4.setAttribute("title", "Finish editing file");
    bel4["onclick"] = arguments[2];
    bel4.setAttribute("class", "UppyButton--circular UppyButton--blue UppyDashboardFileCard-done");
    ac(bel4, [arguments[3]]);
    ac(bel5, ["\n      ", bel4, "\n    "]);
    ac(bel6, ["\n    ", bel3, "\n    ", arguments[5], "\n    ", bel5, "\n    "]);
    return bel6;
  }(file.meta ? file.meta.name : file.name, function () {
    return props.done(meta, file.id);
  }, function () {
    return props.done(meta, file.id);
  }, checkIcon(), !props.fileCardFor, props.fileCardFor ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel5 = document.createElement("div");
    bel5.setAttribute("class", "UppyDashboardFileCard-inner");
    var bel0 = document.createElement("div");
    bel0.setAttribute("class", "UppyDashboardFileCard-preview");
    ac(bel0, ["\n            ", arguments[0], "\n          "]);
    var bel4 = document.createElement("div");
    bel4.setAttribute("class", "UppyDashboardFileCard-info");
    var bel3 = document.createElement("fieldset");
    bel3.setAttribute("class", "UppyDashboardFileCard-fieldset");
    var bel1 = document.createElement("label");
    bel1.setAttribute("class", "UppyDashboardFileCard-label");
    ac(bel1, ["Name"]);
    var bel2 = document.createElement("input");
    bel2.setAttribute("name", "name");
    bel2.setAttribute("type", "text");
    bel2.setAttribute("value", arguments[1]);
    bel2["onkeyup"] = arguments[2];
    bel2.setAttribute("class", "UppyDashboardFileCard-input");
    ac(bel3, ["\n              ", bel1, "\n              ", bel2, "\n            "]);
    ac(bel4, ["\n            ", bel3, "\n            ", arguments[3], "\n          "]);
    ac(bel5, ["\n          ", bel0, "\n          ", bel4, "\n        "]);
    return bel5;
  }(file.preview ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("img");
    bel0.setAttribute("alt", arguments[0]);
    bel0.setAttribute("src", arguments[1]);
    return bel0;
  }(file.name, file.preview) : function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("div");
    bel0.setAttribute("style", "color: " + arguments[0]);
    bel0.setAttribute("class", "UppyDashboardItem-previewIcon");
    ac(bel0, ["\n                  ", arguments[1], "\n                "]);
    return bel0;
  }(getFileTypeIcon(file.type.general, file.type.specific).color, getFileTypeIcon(file.type.general, file.type.specific).icon), file.meta.name, tempStoreMeta, renderMetaFields(file)) : null);
};

},{"./getFileTypeIcon":55,"./icons":56,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],49:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

var _require = require('../../core/Utils');

var getETA = _require.getETA;
var getSpeed = _require.getSpeed;
var prettyETA = _require.prettyETA;
var getFileNameAndExtension = _require.getFileNameAndExtension;
var truncateString = _require.truncateString;
var copyToClipboard = _require.copyToClipboard;

var prettyBytes = require('pretty-bytes');
var FileItemProgress = require('./FileItemProgress');
var getFileTypeIcon = require('./getFileTypeIcon');

var _require2 = require('./icons');

var iconEdit = _require2.iconEdit;
var iconCopy = _require2.iconCopy;


module.exports = function fileItem(props) {
  var file = props.file;

  var isUploaded = file.progress.uploadComplete;
  var uploadInProgressOrComplete = file.progress.uploadStarted;
  var uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete;
  var isPaused = file.isPaused || false;

  var fileName = getFileNameAndExtension(file.meta.name)[0];
  var truncatedFileName = props.isWide ? truncateString(fileName, 15) : fileName;

  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel8 = document.createElement("li");
    bel8.setAttribute("id", "uppy_" + arguments[11]);
    bel8.setAttribute("title", arguments[12]);
    bel8.setAttribute("class", "UppyDashboardItem\n                        " + arguments[13] + "\n                        " + arguments[14] + "\n                        " + arguments[15] + "\n                        " + arguments[16]);
    var bel2 = document.createElement("div");
    bel2.setAttribute("class", "UppyDashboardItem-preview");
    var bel1 = document.createElement("div");
    bel1.setAttribute("class", "UppyDashboardItem-progress");
    var bel0 = document.createElement("button");
    bel0.setAttribute("title", arguments[0]);
    bel0["onclick"] = arguments[1];
    bel0.setAttribute("class", "UppyDashboardItem-progressBtn");
    ac(bel0, ["\n            ", arguments[2], "\n          "]);
    ac(bel1, ["\n          ", bel0, "\n          ", arguments[3], "\n        "]);
    ac(bel2, ["\n        ", arguments[4], "\n        ", bel1, "\n      "]);
    var bel6 = document.createElement("div");
    bel6.setAttribute("class", "UppyDashboardItem-info");
    var bel3 = document.createElement("h4");
    bel3.setAttribute("title", arguments[5]);
    bel3.setAttribute("class", "UppyDashboardItem-name");
    ac(bel3, ["\n        ", arguments[6], "\n      "]);
    var bel5 = document.createElement("div");
    bel5.setAttribute("class", "UppyDashboardItem-status");
    var bel4 = document.createElement("span");
    bel4.setAttribute("class", "UppyDashboardItem-statusSize");
    ac(bel4, [arguments[7]]);
    ac(bel5, ["\n        ", bel4, "\n      "]);
    ac(bel6, ["\n      ", bel3, "\n      ", bel5, "\n      ", arguments[8], "\n      ", arguments[9], "\n    "]);
    var bel7 = document.createElement("div");
    bel7.setAttribute("class", "UppyDashboardItem-action");
    ac(bel7, ["\n      ", arguments[10], "\n    "]);
    ac(bel8, ["\n      ", bel2, "\n    ", bel6, "\n    ", bel7, "\n  "]);
    return bel8;
  }(isUploaded ? 'upload complete' : props.resumableUploads ? file.isPaused ? 'resume upload' : 'pause upload' : 'cancel upload', function (ev) {
    if (isUploaded) return;
    if (props.resumableUploads) {
      props.pauseUpload(file.id);
    } else {
      props.cancelUpload(file.id);
    }
  }, FileItemProgress({
    progress: file.progress.percentage,
    fileID: file.id
  }), props.showProgressDetails ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("div");
    bel0.setAttribute("title", arguments[0]);
    bel0.setAttribute("aria-label", arguments[1]);
    bel0.setAttribute("class", "UppyDashboardItem-progressInfo");
    ac(bel0, ["\n                ", arguments[2], "\n              "]);
    return bel0;
  }(props.i18n('fileProgress'), props.i18n('fileProgress'), !file.isPaused && !isUploaded ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("span");
    ac(bel0, [arguments[0], " ・ ↑ ", arguments[1], "/s"]);
    return bel0;
  }(prettyETA(getETA(file.progress)), prettyBytes(getSpeed(file.progress))) : null) : null, file.preview ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("img");
    bel0.setAttribute("alt", arguments[0]);
    bel0.setAttribute("src", arguments[1]);
    return bel0;
  }(file.name, file.preview) : function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("div");
    bel0.setAttribute("style", "color: " + arguments[0]);
    bel0.setAttribute("class", "UppyDashboardItem-previewIcon");
    ac(bel0, ["\n              ", arguments[1], "\n            "]);
    return bel0;
  }(getFileTypeIcon(file.type.general, file.type.specific).color, getFileTypeIcon(file.type.general, file.type.specific).icon), fileName, file.uploadURL ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("a");
    bel0.setAttribute("href", arguments[0]);
    bel0.setAttribute("target", "_blank");
    ac(bel0, ["\n              ", arguments[1], "\n            "]);
    return bel0;
  }(file.uploadURL, file.extension ? truncatedFileName + '.' + file.extension : truncatedFileName) : file.extension ? truncatedFileName + '.' + file.extension : truncatedFileName, file.data.size ? prettyBytes(file.data.size) : '?', !uploadInProgressOrComplete ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("button");
    bel0.setAttribute("aria-label", "Edit file");
    bel0.setAttribute("title", "Edit file");
    bel0["onclick"] = arguments[0];
    bel0.setAttribute("class", "UppyDashboardItem-edit");
    ac(bel0, ["\n                        ", arguments[1]]);
    return bel0;
  }(function (e) {
    return props.showFileCard(file.id);
  }, iconEdit()) : null, file.uploadURL ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("button");
    bel0.setAttribute("aria-label", "Copy link");
    bel0.setAttribute("title", "Copy link");
    bel0["onclick"] = arguments[0];
    bel0.setAttribute("class", "UppyDashboardItem-copyLink");
    ac(bel0, [arguments[1]]);
    return bel0;
  }(function () {
    copyToClipboard(file.uploadURL, props.i18n('copyLinkToClipboardFallback')).then(function () {
      props.log('Link copied to clipboard.');
      props.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000);
    }).catch(props.log);
  }, iconCopy()) : null, !isUploaded ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel3 = document.createElement("button");
    bel3.setAttribute("aria-label", "Remove file");
    bel3.setAttribute("title", "Remove file");
    bel3["onclick"] = arguments[0];
    bel3.setAttribute("class", "UppyDashboardItem-remove");
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel2.setAttributeNS(null, "width", "22");
    bel2.setAttributeNS(null, "height", "21");
    bel2.setAttributeNS(null, "viewBox", "0 0 18 17");
    bel2.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
    bel0.setAttributeNS(null, "cx", "8.62");
    bel0.setAttributeNS(null, "cy", "8.383");
    bel0.setAttributeNS(null, "rx", "8.62");
    bel0.setAttributeNS(null, "ry", "8.383");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel1.setAttributeNS(null, "stroke", "#FFF");
    bel1.setAttributeNS(null, "fill", "#FFF");
    bel1.setAttributeNS(null, "d", "M11 6.147L10.85 6 8.5 8.284 6.15 6 6 6.147 8.35 8.43 6 10.717l.15.146L8.5 8.578l2.35 2.284.15-.146L8.65 8.43z");
    ac(bel2, ["\n                   ", bel0, "\n                   ", bel1, "\n                 "]);
    ac(bel3, ["\n                 ", bel2, "\n               "]);
    return bel3;
  }(function () {
    return props.removeFile(file.id);
  }) : null, file.id, file.meta.name, uploadInProgress ? 'is-inprogress' : '', isUploaded ? 'is-complete' : '', isPaused ? 'is-paused' : '', props.resumableUploads ? 'is-resumable' : '');
};

},{"../../core/Utils":35,"./FileItemProgress":50,"./getFileTypeIcon":55,"./icons":56,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"pretty-bytes":6,"yo-yo":19}],50:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

// http://codepen.io/Harkko/pen/rVxvNM
// https://gist.github.com/eswak/ad4ea57bcd5ff7aa5d42

module.exports = function (props) {
    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel9 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        bel9.setAttributeNS(null, "width", "70");
        bel9.setAttributeNS(null, "height", "70");
        bel9.setAttributeNS(null, "viewBox", "0 0 36 36");
        bel9.setAttributeNS(null, "class", "UppyIcon UppyIcon-progressCircle");
        var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "g");
        bel2.setAttributeNS(null, "class", "progress-group");
        var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        bel0.setAttributeNS(null, "r", "15");
        bel0.setAttributeNS(null, "cx", "18");
        bel0.setAttributeNS(null, "cy", "18");
        bel0.setAttributeNS(null, "stroke-width", "2");
        bel0.setAttributeNS(null, "fill", "none");
        bel0.setAttributeNS(null, "class", "bg");
        var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        bel1.setAttributeNS(null, "r", "15");
        bel1.setAttributeNS(null, "cx", "18");
        bel1.setAttributeNS(null, "cy", "18");
        bel1.setAttributeNS(null, "transform", "rotate(-90, 18, 18)");
        bel1.setAttributeNS(null, "stroke-width", "2");
        bel1.setAttributeNS(null, "fill", "none");
        bel1.setAttributeNS(null, "stroke-dasharray", "100");
        bel1.setAttributeNS(null, "stroke-dashoffset", arguments[0]);
        bel1.setAttributeNS(null, "class", "progress");
        ac(bel2, ["\n        ", bel0, "\n        ", bel1, "\n      "]);
        var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        bel3.setAttributeNS(null, "transform", "translate(3, 3)");
        bel3.setAttributeNS(null, "points", "12 20 12 10 20 15");
        bel3.setAttributeNS(null, "class", "play");
        var bel6 = document.createElementNS("http://www.w3.org/2000/svg", "g");
        bel6.setAttributeNS(null, "transform", "translate(14.5, 13)");
        bel6.setAttributeNS(null, "class", "pause");
        var bel4 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
        bel4.setAttributeNS(null, "x", "0");
        bel4.setAttributeNS(null, "y", "0");
        bel4.setAttributeNS(null, "width", "2");
        bel4.setAttributeNS(null, "height", "10");
        bel4.setAttributeNS(null, "rx", "0");
        var bel5 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
        bel5.setAttributeNS(null, "x", "5");
        bel5.setAttributeNS(null, "y", "0");
        bel5.setAttributeNS(null, "width", "2");
        bel5.setAttributeNS(null, "height", "10");
        bel5.setAttributeNS(null, "rx", "0");
        ac(bel6, ["\n        ", bel4, "\n        ", bel5, "\n      "]);
        var bel7 = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        bel7.setAttributeNS(null, "transform", "translate(2, 3)");
        bel7.setAttributeNS(null, "points", "14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634");
        bel7.setAttributeNS(null, "class", "check");
        var bel8 = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        bel8.setAttributeNS(null, "transform", "translate(2, 2)");
        bel8.setAttributeNS(null, "points", "19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12");
        bel8.setAttributeNS(null, "class", "cancel");
        ac(bel9, ["\n      ", bel2, "\n      ", bel3, "\n      ", bel6, "\n      ", bel7, "\n      ", bel8]);
        return bel9;
    }(100 - props.progress);
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],51:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var FileItem = require('./FileItem');
var ActionBrowseTagline = require('./ActionBrowseTagline');

var _require = require('./icons');

var dashboardBgIcon = _require.dashboardBgIcon;


module.exports = function (props) {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("ul");
    bel0.setAttribute("class", "UppyDashboard-files\n                         " + arguments[0]);
    ac(bel0, ["\n      ", arguments[1], "\n      ", arguments[2], "\n    "]);
    return bel0;
  }(props.totalFileCount === 0 ? 'UppyDashboard-files--noFiles' : '', props.totalFileCount === 0 ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElement("div");
    bel2.setAttribute("class", "UppyDashboard-bgIcon");
    var bel0 = document.createElement("h3");
    bel0.setAttribute("class", "UppyDashboard-dropFilesTitle");
    ac(bel0, ["\n            ", arguments[0], "\n          "]);
    var bel1 = document.createElement("input");
    bel1.setAttribute("type", "file");
    bel1.setAttribute("name", "files[]");
    bel1.setAttribute("multiple", "true");
    bel1["onchange"] = arguments[1];
    bel1.setAttribute("class", "UppyDashboard-input");
    ac(bel2, ["\n          ", arguments[2], "\n          ", bel0, "\n          ", bel1, "\n         "]);
    return bel2;
  }(ActionBrowseTagline({
    acquirers: props.acquirers,
    container: props.container,
    handleInputChange: props.handleInputChange,
    i18n: props.i18n
  }), props.handleInputChange, dashboardBgIcon()) : null, Object.keys(props.files).map(function (fileID) {
    return FileItem({
      file: props.files[fileID],
      showFileCard: props.showFileCard,
      showProgressDetails: props.showProgressDetails,
      info: props.info,
      log: props.log,
      i18n: props.i18n,
      removeFile: props.removeFile,
      pauseUpload: props.pauseUpload,
      cancelUpload: props.cancelUpload,
      resumableUploads: props.resumableUploads,
      isWide: props.isWide
    });
  }));
};

},{"./ActionBrowseTagline":46,"./FileItem":49,"./icons":56,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],52:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
  props = props || {};

  var isHidden = props.totalFileCount === 0 || !props.isUploadStarted;

  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel3 = document.createElement("div");
    bel3.setAttribute("aria-hidden", arguments[4]);
    bel3.setAttribute("class", "UppyDashboard-statusBar\n                " + arguments[5]);
    var bel0 = document.createElement("progress");
    bel0.setAttribute("style", "display: none;");
    bel0.setAttribute("min", "0");
    bel0.setAttribute("max", "100");
    bel0.setAttribute("value", arguments[0]);
    var bel1 = document.createElement("div");
    bel1.setAttribute("style", "width: " + arguments[1] + "%");
    bel1.setAttribute("class", "UppyDashboard-statusBarProgress");
    var bel2 = document.createElement("div");
    bel2.setAttribute("class", "UppyDashboard-statusBarContent");
    ac(bel2, ["\n        ", arguments[2], "\n        ", arguments[3], "\n      "]);
    ac(bel3, ["\n      ", bel0, "\n      ", bel1, "\n      ", bel2, "\n    "]);
    return bel3;
  }(props.totalProgress, props.totalProgress, props.isUploadStarted && !props.isAllComplete ? !props.isAllPaused ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("span");
    ac(bel0, [arguments[0], " Uploading... ", arguments[1], "%・", arguments[2], " / ", arguments[3], "・", arguments[4], " / ", arguments[5], "・↑ ", arguments[6], "/s・", arguments[7]]);
    return bel0;
  }(pauseResumeButtons(props), props.totalProgress || 0, props.complete, props.inProgress, props.totalUploadedSize, props.totalSize, props.totalSpeed, props.totalETA) : function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("span");
    ac(bel0, [arguments[0], " Paused・", arguments[1], "%"]);
    return bel0;
  }(pauseResumeButtons(props), props.totalProgress) : null, props.isAllComplete ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElement("span");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "18");
    bel1.setAttributeNS(null, "height", "17");
    bel1.setAttributeNS(null, "viewBox", "0 0 23 17");
    bel1.setAttributeNS(null, "class", "UppyDashboard-statusBarAction UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z");
    ac(bel1, ["\n              ", bel0, "\n            "]);
    ac(bel2, [bel1, "Upload complete・", arguments[0], "%"]);
    return bel2;
  }(props.totalProgress) : null, isHidden, props.isAllComplete ? 'is-complete' : '');
};

var pauseResumeButtons = function pauseResumeButtons(props) {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel0 = document.createElement("button");
    bel0.setAttribute("type", "button");
    bel0["onclick"] = arguments[0];
    bel0.setAttribute("class", "UppyDashboard-statusBarAction");
    ac(bel0, ["\n    ", arguments[1], "\n  "]);
    return bel0;
  }(function () {
    return togglePauseResume(props);
  }, props.resumableUploads ? props.isAllPaused ? function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "15");
    bel1.setAttributeNS(null, "height", "17");
    bel1.setAttributeNS(null, "viewBox", "0 0 11 13");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z");
    ac(bel1, ["\n          ", bel0, "\n        "]);
    return bel1;
  }() : function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "16");
    bel1.setAttributeNS(null, "height", "17");
    bel1.setAttributeNS(null, "viewBox", "0 0 12 13");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z");
    ac(bel1, ["\n          ", bel0, "\n        "]);
    return bel1;
  }() : function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "16px");
    bel1.setAttributeNS(null, "height", "16px");
    bel1.setAttributeNS(null, "viewBox", "0 0 19 19");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z");
    ac(bel1, ["\n        ", bel0, "\n      "]);
    return bel1;
  }());
};

var togglePauseResume = function togglePauseResume(props) {
  if (props.isAllComplete) return;

  if (!props.resumableUploads) {
    return props.cancelAll();
  }

  if (props.isAllPaused) {
    return props.resumeAll();
  }

  return props.pauseAll();
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],53:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var ActionBrowseTagline = require('./ActionBrowseTagline');

var _require = require('./icons');

var localIcon = _require.localIcon;


module.exports = function (props) {
  var isHidden = Object.keys(props.files).length === 0;

  if (props.acquirers.length === 0) {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel1 = document.createElement("div");
      bel1.setAttribute("aria-hidden", arguments[1]);
      bel1.setAttribute("class", "UppyDashboardTabs");
      var bel0 = document.createElement("h3");
      bel0.setAttribute("class", "UppyDashboardTabs-title");
      ac(bel0, ["\n        ", arguments[0], "\n        "]);
      ac(bel1, ["\n        ", bel0, "\n      "]);
      return bel1;
    }(ActionBrowseTagline({
      acquirers: props.acquirers,
      container: props.container,
      handleInputChange: props.handleInputChange,
      i18n: props.i18n
    }), isHidden);
  }

  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel6 = document.createElement("div");
    bel6.setAttribute("class", "UppyDashboardTabs");
    var bel5 = document.createElement("nav");
    var bel4 = document.createElement("ul");
    bel4.setAttribute("role", "tablist");
    bel4.setAttribute("class", "UppyDashboardTabs-list");
    var bel3 = document.createElement("li");
    bel3.setAttribute("class", "UppyDashboardTab");
    var bel1 = document.createElement("button");
    bel1.setAttribute("type", "button");
    bel1.setAttribute("role", "tab");
    bel1.setAttribute("tabindex", "0");
    bel1["onclick"] = arguments[1];
    bel1.setAttribute("class", "UppyDashboardTab-btn UppyDashboard-focus");
    var bel0 = document.createElement("h5");
    bel0.setAttribute("class", "UppyDashboardTab-name");
    ac(bel0, [arguments[0]]);
    ac(bel1, ["\n            ", arguments[2], "\n            ", bel0, "\n          "]);
    var bel2 = document.createElement("input");
    bel2.setAttribute("type", "file");
    bel2.setAttribute("name", "files[]");
    bel2.setAttribute("multiple", "true");
    bel2["onchange"] = arguments[3];
    bel2.setAttribute("class", "UppyDashboard-input");
    ac(bel3, ["\n          ", bel1, "\n          ", bel2, "\n        "]);
    ac(bel4, ["\n        ", bel3, "\n        ", arguments[4], "\n      "]);
    ac(bel5, ["\n      ", bel4, "\n    "]);
    ac(bel6, ["\n    ", bel5, "\n  "]);
    return bel6;
  }(props.i18n('localDisk'), function (ev) {
    var input = document.querySelector(props.container + ' .UppyDashboard-input');
    input.click();
  }, localIcon(), props.handleInputChange, props.acquirers.map(function (target) {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel2 = document.createElement("li");
      bel2.setAttribute("class", "UppyDashboardTab");
      var bel1 = document.createElement("button");
      bel1.setAttribute("role", "tab");
      bel1.setAttribute("tabindex", "0");
      bel1.setAttribute("aria-controls", "UppyDashboardContent-panel--" + arguments[1]);
      bel1.setAttribute("aria-selected", arguments[2]);
      bel1["onclick"] = arguments[3];
      bel1.setAttribute("class", "UppyDashboardTab-btn");
      var bel0 = document.createElement("h5");
      bel0.setAttribute("class", "UppyDashboardTab-name");
      ac(bel0, [arguments[0]]);
      ac(bel1, ["\n              ", arguments[4], "\n              ", bel0, "\n            "]);
      ac(bel2, ["\n            ", bel1, "\n          "]);
      return bel2;
    }(target.name, target.id, target.isHidden ? 'false' : 'true', function () {
      return props.showPanel(target.id);
    }, target.icon);
  }));
};

},{"./ActionBrowseTagline":46,"./icons":56,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],54:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

var _require = require('./icons');

var uploadIcon = _require.uploadIcon;


module.exports = function (props) {
    props = props || {};

    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel1 = document.createElement("button");
        bel1.setAttribute("type", "button");
        bel1.setAttribute("title", arguments[3]);
        bel1.setAttribute("aria-label", arguments[4]);
        bel1["onclick"] = arguments[5];
        bel1.setAttribute("class", "UppyButton--circular\n                   UppyButton--blue\n                   UppyDashboard-upload");
        var bel0 = document.createElement("sup");
        bel0.setAttribute("title", arguments[0]);
        bel0.setAttribute("aria-label", arguments[1]);
        bel0.setAttribute("class", "UppyDashboard-uploadCount");
        ac(bel0, ["\n                  ", arguments[2]]);
        ac(bel1, ["\n            ", arguments[6], "\n            ", bel0, "\n    "]);
        return bel1;
    }(props.i18n('numberOfSelectedFiles'), props.i18n('numberOfSelectedFiles'), props.newFileCount, props.i18n('uploadAllNewFiles'), props.i18n('uploadAllNewFiles'), props.startUpload, uploadIcon());
};

},{"./icons":56,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],55:[function(require,module,exports){
'use strict';

var _require = require('./icons');

var iconText = _require.iconText;
var iconFile = _require.iconFile;
var iconAudio = _require.iconAudio;
var iconVideo = _require.iconVideo;
var iconPDF = _require.iconPDF;


module.exports = function getIconByMime(fileTypeGeneral, fileTypeSpecific) {
  if (fileTypeGeneral === 'text') {
    return {
      color: '#000',
      icon: iconText()
    };
  }

  if (fileTypeGeneral === 'audio') {
    return {
      color: '#1abc9c',
      icon: iconAudio()
    };
  }

  if (fileTypeGeneral === 'video') {
    return {
      color: '#2980b9',
      icon: iconVideo()
    };
  }

  if (fileTypeGeneral === 'application' && fileTypeSpecific === 'pdf') {
    return {
      color: '#e74c3c',
      icon: iconPDF()
    };
  }

  return {
    color: '#000',
    icon: iconFile()
  };
};

},{"./icons":56}],56:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

// https://css-tricks.com/creating-svg-icon-system-react/

function defaultTabIcon() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "30");
    bel1.setAttributeNS(null, "height", "30");
    bel1.setAttributeNS(null, "viewBox", "0 0 30 30");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

function iconCopy() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel2.setAttributeNS(null, "width", "51");
    bel2.setAttributeNS(null, "height", "51");
    bel2.setAttributeNS(null, "viewBox", "0 0 51 51");
    bel2.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M17.21 45.765a5.394 5.394 0 0 1-7.62 0l-4.12-4.122a5.393 5.393 0 0 1 0-7.618l6.774-6.775-2.404-2.404-6.775 6.776c-3.424 3.427-3.424 9 0 12.426l4.12 4.123a8.766 8.766 0 0 0 6.216 2.57c2.25 0 4.5-.858 6.214-2.57l13.55-13.552a8.72 8.72 0 0 0 2.575-6.213 8.73 8.73 0 0 0-2.575-6.213l-4.123-4.12-2.404 2.404 4.123 4.12a5.352 5.352 0 0 1 1.58 3.81c0 1.438-.562 2.79-1.58 3.808l-13.55 13.55z");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel1.setAttributeNS(null, "d", "M44.256 2.858A8.728 8.728 0 0 0 38.043.283h-.002a8.73 8.73 0 0 0-6.212 2.574l-13.55 13.55a8.725 8.725 0 0 0-2.575 6.214 8.73 8.73 0 0 0 2.574 6.216l4.12 4.12 2.405-2.403-4.12-4.12a5.357 5.357 0 0 1-1.58-3.812c0-1.437.562-2.79 1.58-3.808l13.55-13.55a5.348 5.348 0 0 1 3.81-1.58c1.44 0 2.792.562 3.81 1.58l4.12 4.12c2.1 2.1 2.1 5.518 0 7.617L39.2 23.775l2.404 2.404 6.775-6.777c3.426-3.427 3.426-9 0-12.426l-4.12-4.12z");
    ac(bel2, ["\n    ", bel0, "\n    ", bel1, "\n  "]);
    return bel2;
  }();
}

function iconResume() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "25");
    bel1.setAttributeNS(null, "height", "25");
    bel1.setAttributeNS(null, "viewBox", "0 0 44 44");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
    bel0.setAttributeNS(null, "transform", "translate(6, 5.5)");
    bel0.setAttributeNS(null, "points", "13 21.6666667 13 11 21 16.3333333");
    bel0.setAttributeNS(null, "class", "play");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

function iconPause() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel3.setAttributeNS(null, "width", "25px");
    bel3.setAttributeNS(null, "height", "25px");
    bel3.setAttributeNS(null, "viewBox", "0 0 44 44");
    bel3.setAttributeNS(null, "class", "UppyIcon");
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "g");
    bel2.setAttributeNS(null, "transform", "translate(18, 17)");
    bel2.setAttributeNS(null, "class", "pause");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    bel0.setAttributeNS(null, "x", "0");
    bel0.setAttributeNS(null, "y", "0");
    bel0.setAttributeNS(null, "width", "2");
    bel0.setAttributeNS(null, "height", "10");
    bel0.setAttributeNS(null, "rx", "0");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    bel1.setAttributeNS(null, "x", "6");
    bel1.setAttributeNS(null, "y", "0");
    bel1.setAttributeNS(null, "width", "2");
    bel1.setAttributeNS(null, "height", "10");
    bel1.setAttributeNS(null, "rx", "0");
    ac(bel2, ["\n      ", bel0, "\n      ", bel1, "\n    "]);
    ac(bel3, ["\n    ", bel2, "\n  "]);
    return bel3;
  }();
}

function iconEdit() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "28");
    bel1.setAttributeNS(null, "height", "28");
    bel1.setAttributeNS(null, "viewBox", "0 0 28 28");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M25.436 2.566a7.98 7.98 0 0 0-2.078-1.51C22.638.703 21.906.5 21.198.5a3 3 0 0 0-1.023.17 2.436 2.436 0 0 0-.893.562L2.292 18.217.5 27.5l9.28-1.796 16.99-16.99c.255-.254.444-.56.562-.888a3 3 0 0 0 .17-1.023c0-.708-.205-1.44-.555-2.16a8 8 0 0 0-1.51-2.077zM9.01 24.252l-4.313.834c0-.03.008-.06.012-.09.007-.944-.74-1.715-1.67-1.723-.04 0-.078.007-.118.01l.83-4.29L17.72 5.024l5.264 5.264L9.01 24.252zm16.84-16.96a.818.818 0 0 1-.194.31l-1.57 1.57-5.26-5.26 1.57-1.57a.82.82 0 0 1 .31-.194 1.45 1.45 0 0 1 .492-.074c.397 0 .917.126 1.468.397.55.27 1.13.678 1.656 1.21.53.53.94 1.11 1.208 1.655.272.55.397 1.07.393 1.468.004.193-.027.358-.074.488z");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

function localIcon() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel2.setAttributeNS(null, "width", "27");
    bel2.setAttributeNS(null, "height", "25");
    bel2.setAttributeNS(null, "viewBox", "0 0 27 25");
    bel2.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M5.586 9.288a.313.313 0 0 0 .282.176h4.84v3.922c0 1.514 1.25 2.24 2.792 2.24 1.54 0 2.79-.726 2.79-2.24V9.464h4.84c.122 0 .23-.068.284-.176a.304.304 0 0 0-.046-.324L13.735.106a.316.316 0 0 0-.472 0l-7.63 8.857a.302.302 0 0 0-.047.325z");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel1.setAttributeNS(null, "d", "M24.3 5.093c-.218-.76-.54-1.187-1.208-1.187h-4.856l1.018 1.18h3.948l2.043 11.038h-7.193v2.728H9.114v-2.725h-7.36l2.66-11.04h3.33l1.018-1.18H3.907c-.668 0-1.06.46-1.21 1.186L0 16.456v7.062C0 24.338.676 25 1.51 25h23.98c.833 0 1.51-.663 1.51-1.482v-7.062L24.3 5.093z");
    ac(bel2, ["\n    ", bel0, "\n    ", bel1, "\n  "]);
    return bel2;
  }();
}

function closeIcon() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "14px");
    bel1.setAttributeNS(null, "height", "14px");
    bel1.setAttributeNS(null, "viewBox", "0 0 19 19");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

function pluginIcon() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel2.setAttributeNS(null, "width", "16px");
    bel2.setAttributeNS(null, "height", "16px");
    bel2.setAttributeNS(null, "viewBox", "0 0 32 30");
    bel2.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M6.6209894,11.1451162 C6.6823051,11.2751669 6.81374248,11.3572188 6.95463813,11.3572188 L12.6925482,11.3572188 L12.6925482,16.0630427 C12.6925482,17.880509 14.1726048,18.75 16.0000083,18.75 C17.8261072,18.75 19.3074684,17.8801847 19.3074684,16.0630427 L19.3074684,11.3572188 L25.0437478,11.3572188 C25.1875787,11.3572188 25.3164069,11.2751669 25.3790272,11.1451162 C25.4370814,11.0173358 25.4171865,10.8642587 25.3252129,10.7562615 L16.278212,0.127131837 C16.2093949,0.0463771751 16.1069846,0 15.9996822,0 C15.8910751,0 15.7886648,0.0463771751 15.718217,0.127131837 L6.6761083,10.7559371 C6.58250402,10.8642587 6.56293518,11.0173358 6.6209894,11.1451162 L6.6209894,11.1451162 Z");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel1.setAttributeNS(null, "d", "M28.8008722,6.11142645 C28.5417891,5.19831555 28.1583331,4.6875 27.3684848,4.6875 L21.6124454,4.6875 L22.8190234,6.10307874 L27.4986725,6.10307874 L29.9195817,19.3486449 L21.3943891,19.3502502 L21.3943891,22.622552 L10.8023461,22.622552 L10.8023461,19.3524977 L2.07815702,19.3534609 L5.22979699,6.10307874 L9.17871529,6.10307874 L10.3840011,4.6875 L4.6308691,4.6875 C3.83940559,4.6875 3.37421888,5.2390909 3.19815864,6.11142645 L0,19.7470874 L0,28.2212959 C0,29.2043992 0.801477937,30 1.78870751,30 L30.2096773,30 C31.198199,30 32,29.2043992 32,28.2212959 L32,19.7470874 L28.8008722,6.11142645 L28.8008722,6.11142645 Z");
    ac(bel2, ["\n      ", bel0, "\n      ", bel1, "\n    "]);
    return bel2;
  }();
}

function checkIcon() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "13px");
    bel1.setAttributeNS(null, "height", "9px");
    bel1.setAttributeNS(null, "viewBox", "0 0 13 9");
    bel1.setAttributeNS(null, "class", "UppyIcon UppyIcon-check");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
    bel0.setAttributeNS(null, "points", "5 7.293 1.354 3.647 0.646 4.354 5 8.707 12.354 1.354 11.646 0.647");
    ac(bel1, ["\n    ", bel0]);
    return bel1;
  }();
}

function iconAudio() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "viewBox", "0 0 55 55");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M52.66.25c-.216-.19-.5-.276-.79-.242l-31 4.01a1 1 0 0 0-.87.992V40.622C18.174 38.428 15.273 37 12 37c-5.514 0-10 4.037-10 9s4.486 9 10 9 10-4.037 10-9c0-.232-.02-.46-.04-.687.014-.065.04-.124.04-.192V16.12l29-3.753v18.257C49.174 28.428 46.273 27 43 27c-5.514 0-10 4.037-10 9s4.486 9 10 9c5.464 0 9.913-3.966 9.993-8.867 0-.013.007-.024.007-.037V1a.998.998 0 0 0-.34-.75zM12 53c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zm31-10c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zM22 14.1V5.89l29-3.753v8.21l-29 3.754z");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

function iconVideo() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel2.setAttributeNS(null, "viewBox", "0 0 58 58");
    bel2.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel1.setAttributeNS(null, "d", "M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z");
    ac(bel2, ["\n    ", bel0, bel1, "\n  "]);
    return bel2;
  }();
}

function iconPDF() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "viewBox", "0 0 342 335");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M329.337 227.84c-2.1 1.3-8.1 2.1-11.9 2.1-12.4 0-27.6-5.7-49.1-14.9 8.3-.6 15.8-.9 22.6-.9 12.4 0 16 0 28.2 3.1 12.1 3 12.2 9.3 10.2 10.6zm-215.1 1.9c4.8-8.4 9.7-17.3 14.7-26.8 12.2-23.1 20-41.3 25.7-56.2 11.5 20.9 25.8 38.6 42.5 52.8 2.1 1.8 4.3 3.5 6.7 5.3-34.1 6.8-63.6 15-89.6 24.9zm39.8-218.9c6.8 0 10.7 17.06 11 33.16.3 16-3.4 27.2-8.1 35.6-3.9-12.4-5.7-31.8-5.7-44.5 0 0-.3-24.26 2.8-24.26zm-133.4 307.2c3.9-10.5 19.1-31.3 41.6-49.8 1.4-1.1 4.9-4.4 8.1-7.4-23.5 37.6-39.3 52.5-49.7 57.2zm315.2-112.3c-6.8-6.7-22-10.2-45-10.5-15.6-.2-34.3 1.2-54.1 3.9-8.8-5.1-17.9-10.6-25.1-17.3-19.2-18-35.2-42.9-45.2-70.3.6-2.6 1.2-4.8 1.7-7.1 0 0 10.8-61.5 7.9-82.3-.4-2.9-.6-3.7-1.4-5.9l-.9-2.5c-2.9-6.76-8.7-13.96-17.8-13.57l-5.3-.17h-.1c-10.1 0-18.4 5.17-20.5 12.84-6.6 24.3.2 60.5 12.5 107.4l-3.2 7.7c-8.8 21.4-19.8 43-29.5 62l-1.3 2.5c-10.2 20-19.5 37-27.9 51.4l-8.7 4.6c-.6.4-15.5 8.2-19 10.3-29.6 17.7-49.28 37.8-52.54 53.8-1.04 5-.26 11.5 5.01 14.6l8.4 4.2c3.63 1.8 7.53 2.7 11.43 2.7 21.1 0 45.6-26.2 79.3-85.1 39-12.7 83.4-23.3 122.3-29.1 29.6 16.7 66 28.3 89 28.3 4.1 0 7.6-.4 10.5-1.2 4.4-1.1 8.1-3.6 10.4-7.1 4.4-6.7 5.4-15.9 4.1-25.4-.3-2.8-2.6-6.3-5-8.7z");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

function iconFile() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "44");
    bel1.setAttributeNS(null, "height", "58");
    bel1.setAttributeNS(null, "viewBox", "0 0 44 58");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

function iconText() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel2.setAttributeNS(null, "viewBox", "0 0 64 64");
    bel2.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M8 64h48V0H22.586L8 14.586V64zm46-2H10V16h14V2h30v60zM11.414 14L22 3.414V14H11.414z");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel1.setAttributeNS(null, "d", "M32 13h14v2H32zM18 23h28v2H18zM18 33h28v2H18zM18 43h28v2H18zM18 53h28v2H18z");
    ac(bel2, ["\n    ", bel0, "\n    ", bel1, "\n  "]);
    return bel2;
  }();
}

function uploadIcon() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel2.setAttributeNS(null, "width", "37");
    bel2.setAttributeNS(null, "height", "33");
    bel2.setAttributeNS(null, "viewBox", "0 0 37 33");
    bel2.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M29.107 24.5c4.07 0 7.393-3.355 7.393-7.442 0-3.994-3.105-7.307-7.012-7.502l.468.415C29.02 4.52 24.34.5 18.886.5c-4.348 0-8.27 2.522-10.138 6.506l.446-.288C4.394 6.782.5 10.758.5 15.608c0 4.924 3.906 8.892 8.76 8.892h4.872c.635 0 1.095-.467 1.095-1.104 0-.636-.46-1.103-1.095-1.103H9.26c-3.644 0-6.63-3.035-6.63-6.744 0-3.71 2.926-6.685 6.57-6.685h.964l.14-.28.177-.362c1.477-3.4 4.744-5.576 8.347-5.576 4.58 0 8.45 3.452 9.01 8.072l.06.536.05.446h1.101c2.87 0 5.204 2.37 5.204 5.295s-2.333 5.296-5.204 5.296h-6.062c-.634 0-1.094.467-1.094 1.103 0 .637.46 1.104 1.094 1.104h6.12z");
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel1.setAttributeNS(null, "d", "M23.196 18.92l-4.828-5.258-.366-.4-.368.398-4.828 5.196a1.13 1.13 0 0 0 0 1.546c.428.46 1.11.46 1.537 0l3.45-3.71-.868-.34v15.03c0 .64.445 1.118 1.075 1.118.63 0 1.075-.48 1.075-1.12V16.35l-.867.34 3.45 3.712a1 1 0 0 0 .767.345 1 1 0 0 0 .77-.345c.416-.33.416-1.036 0-1.485v.003z");
    ac(bel2, ["\n    ", bel0, "\n    ", bel1, "\n  "]);
    return bel2;
  }();
}

function dashboardBgIcon() {
  return function () {

    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    bel1.setAttributeNS(null, "width", "48");
    bel1.setAttributeNS(null, "height", "69");
    bel1.setAttributeNS(null, "viewBox", "0 0 48 69");
    bel1.setAttributeNS(null, "class", "UppyIcon");
    var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bel0.setAttributeNS(null, "d", "M.5 1.5h5zM10.5 1.5h5zM20.5 1.5h5zM30.504 1.5h5zM45.5 11.5v5zM45.5 21.5v5zM45.5 31.5v5zM45.5 41.502v5zM45.5 51.502v5zM45.5 61.5v5zM45.5 66.502h-4.998zM35.503 66.502h-5zM25.5 66.502h-5zM15.5 66.502h-5zM5.5 66.502h-5zM.5 66.502v-5zM.5 56.502v-5zM.5 46.503V41.5zM.5 36.5v-5zM.5 26.5v-5zM.5 16.5v-5zM.5 6.5V1.498zM44.807 11H36V2.195z");
    ac(bel1, ["\n    ", bel0, "\n  "]);
    return bel1;
  }();
}

module.exports = {
  defaultTabIcon: defaultTabIcon,
  iconCopy: iconCopy,
  iconResume: iconResume,
  iconPause: iconPause,
  iconEdit: iconEdit,
  localIcon: localIcon,
  closeIcon: closeIcon,
  pluginIcon: pluginIcon,
  checkIcon: checkIcon,
  iconAudio: iconAudio,
  iconVideo: iconVideo,
  iconPDF: iconPDF,
  iconFile: iconFile,
  iconText: iconText,
  uploadIcon: uploadIcon,
  dashboardBgIcon: dashboardBgIcon
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],57:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Plugin = require('../Plugin');
var Translator = require('../../core/Translator');
var dragDrop = require('drag-drop');
var Dashboard = require('./Dashboard');

var _require = require('../../core/Utils');

var getSpeed = _require.getSpeed;

var _require2 = require('../../core/Utils');

var getETA = _require2.getETA;

var _require3 = require('../../core/Utils');

var prettyETA = _require3.prettyETA;

var prettyBytes = require('pretty-bytes');

var _require4 = require('./icons');

var defaultTabIcon = _require4.defaultTabIcon;

/**
 * Modal Dialog & Dashboard
 */

module.exports = function (_Plugin) {
  _inherits(DashboardUI, _Plugin);

  function DashboardUI(core, opts) {
    _classCallCheck(this, DashboardUI);

    var _this = _possibleConstructorReturn(this, _Plugin.call(this, core, opts));

    _this.id = 'DashboardUI';
    _this.title = 'Dashboard UI';
    _this.type = 'orchestrator';

    var defaultLocale = {
      strings: {
        selectToUpload: 'Select files to upload',
        closeModal: 'Close Modal',
        upload: 'Upload',
        importFrom: 'Import files from',
        dashboardWindowTitle: 'Uppy Dashboard Window (Press escape to close)',
        dashboardTitle: 'Uppy Dashboard',
        copyLinkToClipboardSuccess: 'Link copied to clipboard.',
        copyLinkToClipboardFallback: 'Copy the URL below',
        done: 'Done',
        localDisk: 'Local Disk',
        dropPasteImport: 'Drop files here, paste, import from one of the locations above or',
        dropPaste: 'Drop files here, paste or',
        browse: 'browse',
        fileProgress: 'File progress: upload speed and ETA',
        numberOfSelectedFiles: 'Number of selected files',
        uploadAllNewFiles: 'Upload all new files'
      }
    };

    // set default options
    var defaultOptions = {
      target: 'body',
      inline: false,
      width: 750,
      height: 550,
      semiTransparent: false,
      defaultTabIcon: defaultTabIcon(),
      showProgressDetails: true,
      locale: defaultLocale
    };

    // merge default options with the ones set by user
    _this.opts = _extends({}, defaultOptions, opts);

    _this.locale = _extends({}, defaultLocale, _this.opts.locale);
    _this.locale.strings = _extends({}, defaultLocale.strings, _this.opts.locale.strings);

    _this.translator = new Translator({ locale: _this.locale });
    _this.containerWidth = _this.translator.translate.bind(_this.translator);

    _this.hideModal = _this.hideModal.bind(_this);
    _this.showModal = _this.showModal.bind(_this);

    _this.addTarget = _this.addTarget.bind(_this);
    _this.actions = _this.actions.bind(_this);
    _this.hideAllPanels = _this.hideAllPanels.bind(_this);
    _this.showPanel = _this.showPanel.bind(_this);
    _this.initEvents = _this.initEvents.bind(_this);
    _this.handleDrop = _this.handleDrop.bind(_this);
    _this.pauseAll = _this.pauseAll.bind(_this);
    _this.resumeAll = _this.resumeAll.bind(_this);
    _this.cancelAll = _this.cancelAll.bind(_this);
    _this.updateDashboardElWidth = _this.updateDashboardElWidth.bind(_this);
    _this.render = _this.render.bind(_this);
    _this.install = _this.install.bind(_this);
    return _this;
  }

  DashboardUI.prototype.addTarget = function addTarget(plugin) {
    var callerPluginId = plugin.constructor.name;
    var callerPluginName = plugin.title || callerPluginId;
    var callerPluginIcon = plugin.icon || this.opts.defaultTabIcon;
    var callerPluginType = plugin.type;

    if (callerPluginType !== 'acquirer' && callerPluginType !== 'progressindicator' && callerPluginType !== 'presenter') {
      var msg = 'Error: Modal can only be used by plugins of types: acquirer, progressindicator, presenter';
      this.core.log(msg);
      return;
    }

    var target = {
      id: callerPluginId,
      name: callerPluginName,
      icon: callerPluginIcon,
      type: callerPluginType,
      focus: plugin.focus,
      render: plugin.render,
      isHidden: true
    };

    var modal = this.core.getState().modal;
    var newTargets = modal.targets.slice();
    newTargets.push(target);

    this.core.setState({
      modal: _extends({}, modal, {
        targets: newTargets
      })
    });

    return this.opts.target;
  };

  DashboardUI.prototype.hideAllPanels = function hideAllPanels() {
    var modal = this.core.getState().modal;

    this.core.setState({ modal: _extends({}, modal, {
        activePanel: false
      }) });
  };

  DashboardUI.prototype.showPanel = function showPanel(id) {
    var modal = this.core.getState().modal;

    var activePanel = modal.targets.filter(function (target) {
      return target.type === 'acquirer' && target.id === id;
    })[0];

    this.core.setState({ modal: _extends({}, modal, {
        activePanel: activePanel
      }) });
  };

  DashboardUI.prototype.hideModal = function hideModal() {
    var modal = this.core.getState().modal;

    this.core.setState({
      modal: _extends({}, modal, {
        isHidden: true
      })
    });

    document.body.classList.remove('is-UppyDashboard-open');
  };

  DashboardUI.prototype.showModal = function showModal() {
    var modal = this.core.getState().modal;

    this.core.setState({
      modal: _extends({}, modal, {
        isHidden: false
      })
    });

    // add class to body that sets position fixed
    document.body.classList.add('is-UppyDashboard-open');
    // focus on modal inner block
    document.querySelector('.UppyDashboard-inner').focus();

    this.updateDashboardElWidth();
  };

  DashboardUI.prototype.initEvents = function initEvents() {
    var _this2 = this;

    // const dashboardEl = document.querySelector(`${this.opts.target} .UppyDashboard`)

    // Modal open button
    var showModalTrigger = document.querySelector(this.opts.trigger);
    if (!this.opts.inline && showModalTrigger) {
      showModalTrigger.addEventListener('click', this.showModal);
    } else {
      this.core.log('Modal trigger wasn’t found');
    }

    // Close the Modal on esc key press
    document.body.addEventListener('keyup', function (event) {
      if (event.keyCode === 27) {
        _this2.hideModal();
      }
    });

    // Drag Drop
    dragDrop(this.el, function (files) {
      _this2.handleDrop(files);
    });
  };

  DashboardUI.prototype.actions = function actions() {
    var _this3 = this;

    var bus = this.core.bus;

    bus.on('core:file-add', function () {
      _this3.hideAllPanels();
    });

    bus.on('dashboard:file-card', function (fileId) {
      var modal = _this3.core.getState().modal;

      _this3.core.setState({
        modal: _extends({}, modal, {
          fileCardFor: fileId || false
        })
      });
    });

    window.addEventListener('resize', function (ev) {
      return _this3.updateDashboardElWidth();
    });

    // bus.on('core:success', (uploadedCount) => {
    //   bus.emit(
    //     'informer',
    //     `${this.core.i18n('files', {'smart_count': uploadedCount})} successfully uploaded, Sir!`,
    //     'info',
    //     6000
    //   )
    // })
  };

  DashboardUI.prototype.updateDashboardElWidth = function updateDashboardElWidth() {
    var dashboardEl = document.querySelector('.UppyDashboard-inner');

    var modal = this.core.getState().modal;
    this.core.setState({
      modal: _extends({}, modal, {
        containerWidth: dashboardEl.offsetWidth
      })
    });
  };

  DashboardUI.prototype.handleDrop = function handleDrop(files) {
    var _this4 = this;

    this.core.log('All right, someone dropped something...');

    files.forEach(function (file) {
      _this4.core.bus.emit('core:file-add', {
        source: _this4.id,
        name: file.name,
        type: file.type,
        data: file
      });
    });
  };

  DashboardUI.prototype.cancelAll = function cancelAll() {
    this.core.bus.emit('core:cancel-all');
  };

  DashboardUI.prototype.pauseAll = function pauseAll() {
    this.core.bus.emit('core:pause-all');
  };

  DashboardUI.prototype.resumeAll = function resumeAll() {
    this.core.bus.emit('core:resume-all');
  };

  DashboardUI.prototype.getTotalSpeed = function getTotalSpeed(files) {
    var totalSpeed = 0;
    files.forEach(function (file) {
      totalSpeed = totalSpeed + getSpeed(file.progress);
    });
    return totalSpeed;
  };

  DashboardUI.prototype.getTotalETA = function getTotalETA(files) {
    var totalSeconds = 0;

    files.forEach(function (file) {
      totalSeconds = totalSeconds + getETA(file.progress);
    });

    return totalSeconds;
  };

  DashboardUI.prototype.render = function render(state) {
    var _this5 = this;

    var files = state.files;

    var newFiles = Object.keys(files).filter(function (file) {
      return !files[file].progress.uploadStarted;
    });
    var uploadStartedFiles = Object.keys(files).filter(function (file) {
      return files[file].progress.uploadStarted;
    });
    var completeFiles = Object.keys(files).filter(function (file) {
      return files[file].progress.uploadComplete;
    });
    var inProgressFiles = Object.keys(files).filter(function (file) {
      return !files[file].progress.uploadComplete && files[file].progress.uploadStarted && !files[file].isPaused;
    });

    var inProgressFilesArray = [];
    inProgressFiles.forEach(function (file) {
      inProgressFilesArray.push(files[file]);
    });

    var totalSpeed = prettyBytes(this.getTotalSpeed(inProgressFilesArray));
    var totalETA = prettyETA(this.getTotalETA(inProgressFilesArray));

    // total size and uploaded size
    var totalSize = 0;
    var totalUploadedSize = 0;
    inProgressFilesArray.forEach(function (file) {
      totalSize = totalSize + (file.progress.bytesTotal || 0);
      totalUploadedSize = totalUploadedSize + (file.progress.bytesUploaded || 0);
    });
    totalSize = prettyBytes(totalSize);
    totalUploadedSize = prettyBytes(totalUploadedSize);

    var isAllComplete = state.totalProgress === 100;
    var isAllPaused = inProgressFiles.length === 0 && !isAllComplete && uploadStartedFiles.length > 0;
    var isUploadStarted = uploadStartedFiles.length > 0;

    var acquirers = state.modal.targets.filter(function (target) {
      return target.type === 'acquirer';
    });

    var progressindicators = state.modal.targets.filter(function (target) {
      return target.type === 'progressindicator';
    });

    var addFile = function addFile(file) {
      _this5.core.emitter.emit('core:file-add', file);
    };

    var removeFile = function removeFile(fileID) {
      _this5.core.emitter.emit('core:file-remove', fileID);
    };

    var startUpload = function startUpload(ev) {
      _this5.core.emitter.emit('core:upload');
    };

    var pauseUpload = function pauseUpload(fileID) {
      _this5.core.emitter.emit('core:upload-pause', fileID);
    };

    var cancelUpload = function cancelUpload(fileID) {
      _this5.core.emitter.emit('core:upload-cancel', fileID);
      _this5.core.emitter.emit('core:file-remove', fileID);
    };

    var showFileCard = function showFileCard(fileID) {
      _this5.core.emitter.emit('dashboard:file-card', fileID);
    };

    var fileCardDone = function fileCardDone(meta, fileID) {
      _this5.core.emitter.emit('core:update-meta', meta, fileID);
      _this5.core.emitter.emit('dashboard:file-card');
    };

    var info = function info(text, type, duration) {
      _this5.core.emitter.emit('informer', text, type, duration);
    };

    var resumableUploads = this.core.getState().capabilities.resumableUploads || false;

    return Dashboard({
      state: state,
      modal: state.modal,
      newFiles: newFiles,
      files: files,
      totalFileCount: Object.keys(files).length,
      isUploadStarted: isUploadStarted,
      inProgress: uploadStartedFiles.length,
      completeFiles: completeFiles,
      inProgressFiles: inProgressFiles,
      totalSpeed: totalSpeed,
      totalETA: totalETA,
      totalProgress: state.totalProgress,
      totalSize: totalSize,
      totalUploadedSize: totalUploadedSize,
      isAllComplete: isAllComplete,
      isAllPaused: isAllPaused,
      acquirers: acquirers,
      activePanel: state.modal.activePanel,
      progressindicators: progressindicators,
      autoProceed: this.core.opts.autoProceed,
      id: this.id,
      container: this.opts.target,
      hideModal: this.hideModal,
      showProgressDetails: this.opts.showProgressDetails,
      inline: this.opts.inline,
      semiTransparent: this.opts.semiTransparent,
      onPaste: this.handlePaste,
      showPanel: this.showPanel,
      hideAllPanels: this.hideAllPanels,
      log: this.core.log,
      bus: this.core.emitter,
      i18n: this.containerWidth,
      pauseAll: this.pauseAll,
      resumeAll: this.resumeAll,
      cancelAll: this.cancelAll,
      addFile: addFile,
      removeFile: removeFile,
      info: info,
      metaFields: state.metaFields,
      resumableUploads: resumableUploads,
      startUpload: startUpload,
      pauseUpload: pauseUpload,
      cancelUpload: cancelUpload,
      fileCardFor: state.modal.fileCardFor,
      showFileCard: showFileCard,
      fileCardDone: fileCardDone,
      updateDashboardElWidth: this.updateDashboardElWidth,
      maxWidth: this.opts.maxWidth,
      maxHeight: this.opts.maxHeight,
      currentWidth: state.modal.containerWidth,
      isWide: state.modal.containerWidth > 400
    });
  };

  DashboardUI.prototype.install = function install() {
    // Set default state for Modal
    this.core.setState({ modal: {
        isHidden: true,
        showFileCard: false,
        activePanel: false,
        targets: []
      } });

    var target = this.opts.target;
    var plugin = this;
    this.target = this.mount(target, plugin);

    this.initEvents();
    this.actions();
  };

  return DashboardUI;
}(Plugin);

},{"../../core/Translator":33,"../../core/Utils":35,"../Plugin":63,"./Dashboard":47,"./icons":56,"drag-drop":1,"pretty-bytes":6}],58:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = {
  folder: function folder() {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel1.setAttributeNS(null, "style", "width:16px;margin-right:3px");
      bel1.setAttributeNS(null, "viewBox", "0 0 276.157 276.157");
      bel1.setAttributeNS(null, "class", "UppyIcon");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z");
      ac(bel1, ["\n      ", bel0, "\n  "]);
      return bel1;
    }();
  },
  music: function music() {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel5 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel5.setAttributeNS(null, "width", "16.000000pt");
      bel5.setAttributeNS(null, "height", "16.000000pt");
      bel5.setAttributeNS(null, "viewBox", "0 0 48.000000 48.000000");
      bel5.setAttributeNS(null, "preserveAspectRatio", "xMidYMid meet");
      bel5.setAttributeNS(null, "class", "UppyIcon");
      var bel4 = document.createElementNS("http://www.w3.org/2000/svg", "g");
      bel4.setAttributeNS(null, "transform", "translate(0.000000,48.000000) scale(0.100000,-0.100000)");
      bel4.setAttributeNS(null, "fill", "#525050");
      bel4.setAttributeNS(null, "stroke", "none");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M209 473 c0 -5 0 -52 1 -106 1 -54 -2 -118 -6 -143 l-7 -46 -44 5\n    c-73 8 -133 -46 -133 -120 0 -17 -5 -35 -10 -38 -18 -11 0 -25 33 -24 30 1 30\n    1 7 8 -15 4 -20 10 -13 14 6 4 9 16 6 27 -9 34 7 70 40 90 17 11 39 20 47 20\n    8 0 -3 -9 -26 -19 -42 -19 -54 -36 -54 -75 0 -36 30 -56 84 -56 41 0 53 5 82\n    34 19 19 34 31 34 27 0 -4 -5 -12 -12 -19 -9 -9 -1 -12 39 -12 106 0 183 -21\n    121 -33 -17 -3 -14 -5 10 -6 25 -1 32 3 32 17 0 26 -20 42 -51 42 -39 0 -43\n    13 -10 38 56 41 76 124 45 185 -25 48 -72 105 -103 123 -15 9 -36 29 -47 45\n    -17 26 -63 41 -65 22z m56 -48 c16 -24 31 -42 34 -39 9 9 79 -69 74 -83 -3 -7\n    -2 -13 3 -12 18 3 25 -1 19 -12 -5 -7 -16 -2 -33 13 l-26 23 16 -25 c17 -27\n    29 -92 16 -84 -4 3 -8 -8 -8 -25 0 -16 4 -33 10 -36 5 -3 7 0 4 9 -3 9 3 20\n    15 28 13 8 21 24 22 43 1 18 3 23 6 12 3 -10 2 -29 -1 -43 -7 -26 -62 -94 -77\n    -94 -13 0 -11 17 4 32 21 19 4 88 -28 115 -14 13 -22 23 -16 23 5 0 21 -14 35\n    -31 14 -17 26 -25 26 -19 0 21 -60 72 -79 67 -16 -4 -17 -1 -8 34 6 24 14 36\n    21 32 6 -3 1 5 -11 18 -12 13 -22 29 -23 34 -1 6 -6 17 -12 25 -6 10 -7 -39\n    -4 -142 l6 -158 -26 10 c-33 13 -44 12 -21 -1 17 -10 24 -44 10 -52 -5 -3 -39\n    -8 -76 -12 -68 -7 -69 -7 -65 17 4 28 64 60 117 62 l36 1 0 157 c0 87 2 158 5\n    158 3 0 18 -20 35 -45z m15 -159 c0 -2 -7 -7 -16 -10 -8 -3 -12 -2 -9 4 6 10\n    25 14 25 6z m50 -92 c0 -13 -4 -26 -10 -29 -14 -9 -13 -48 2 -63 9 -9 6 -12\n    -15 -12 -22 0 -27 5 -27 24 0 14 -4 28 -10 31 -15 9 -13 102 3 108 18 7 57\n    -33 57 -59z m-139 -135 c-32 -26 -121 -25 -121 2 0 6 8 5 19 -1 26 -14 64 -13\n    55 1 -4 8 1 9 16 4 13 -4 20 -3 17 2 -3 5 4 10 16 10 22 2 22 2 -2 -18z");
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel1.setAttributeNS(null, "d", "M330 345 c19 -19 36 -35 39 -35 3 0 -10 16 -29 35 -19 19 -36 35 -39\n    35 -3 0 10 -16 29 -35z");
      var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel2.setAttributeNS(null, "d", "M349 123 c-13 -16 -12 -17 4 -4 16 13 21 21 13 21 -2 0 -10 -8 -17\n    -17z");
      var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel3.setAttributeNS(null, "d", "M243 13 c15 -2 39 -2 55 0 15 2 2 4 -28 4 -30 0 -43 -2 -27 -4z");
      ac(bel4, ["\n    ", bel0, "\n    ", bel1, "\n    ", bel2, "\n    ", bel3, "\n    "]);
      ac(bel5, ["\n    ", bel4, "\n    "]);
      return bel5;
    }();
  },
  page_white_picture: function page_white_picture() {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel10 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel10.setAttributeNS(null, "width", "16.000000pt");
      bel10.setAttributeNS(null, "height", "16.000000pt");
      bel10.setAttributeNS(null, "viewBox", "0 0 48.000000 36.000000");
      bel10.setAttributeNS(null, "preserveAspectRatio", "xMidYMid meet");
      bel10.setAttributeNS(null, "class", "UppyIcon");
      var bel9 = document.createElementNS("http://www.w3.org/2000/svg", "g");
      bel9.setAttributeNS(null, "transform", "translate(0.000000,36.000000) scale(0.100000,-0.100000)");
      bel9.setAttributeNS(null, "fill", "#565555");
      bel9.setAttributeNS(null, "stroke", "none");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M0 180 l0 -180 240 0 240 0 0 180 0 180 -240 0 -240 0 0 -180z m470\n    0 l0 -170 -230 0 -230 0 0 170 0 170 230 0 230 0 0 -170z");
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel1.setAttributeNS(null, "d", "M40 185 l0 -135 200 0 200 0 0 135 0 135 -200 0 -200 0 0 -135z m390\n    59 l0 -65 -29 20 c-37 27 -45 26 -65 -4 -9 -14 -22 -25 -28 -25 -7 0 -24 -12\n    -39 -26 -26 -25 -28 -25 -53 -9 -17 11 -26 13 -26 6 0 -7 -4 -9 -10 -6 -5 3\n    -22 -2 -37 -12 l-28 -18 20 27 c11 15 26 25 33 23 6 -2 12 -1 12 4 0 10 -37\n    21 -65 20 -14 -1 -12 -3 7 -8 l28 -6 -50 -55 -49 -55 0 126 1 126 189 1 189 2\n    0 -66z m-16 -73 c11 -12 14 -21 8 -21 -6 0 -13 4 -17 10 -3 5 -12 7 -19 4 -8\n    -3 -16 2 -19 13 -3 11 -4 7 -4 -9 1 -19 6 -25 18 -23 19 4 46 -21 35 -32 -4\n    -4 -11 -1 -16 7 -6 8 -10 10 -10 4 0 -6 7 -17 15 -24 24 -20 11 -24 -76 -27\n    -69 -1 -83 1 -97 18 -9 10 -20 19 -25 19 -5 0 -4 -6 2 -14 14 -17 -5 -26 -55\n    -26 -36 0 -46 16 -17 27 10 4 22 13 27 22 8 13 10 12 17 -4 7 -17 8 -18 8 -2\n    1 23 11 22 55 -8 33 -22 35 -23 26 -5 -9 16 -8 20 5 20 8 0 15 5 15 11 0 5 -4\n    7 -10 4 -5 -3 -10 -4 -10 -1 0 4 59 36 67 36 2 0 1 -10 -2 -21 -5 -15 -4 -19\n    5 -14 6 4 9 17 6 28 -12 49 27 53 68 8z");
      var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel2.setAttributeNS(null, "d", "M100 296 c0 -2 7 -7 16 -10 8 -3 12 -2 9 4 -6 10 -25 14 -25 6z");
      var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel3.setAttributeNS(null, "d", "M243 293 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z");
      var bel4 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel4.setAttributeNS(null, "d", "M65 280 c-3 -5 -2 -10 4 -10 5 0 13 5 16 10 3 6 2 10 -4 10 -5 0 -13\n    -4 -16 -10z");
      var bel5 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel5.setAttributeNS(null, "d", "M155 270 c-3 -6 1 -7 9 -4 18 7 21 14 7 14 -6 0 -13 -4 -16 -10z");
      var bel6 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel6.setAttributeNS(null, "d", "M233 252 c-13 -2 -23 -8 -23 -13 0 -7 -12 -8 -30 -4 -22 5 -30 3 -30\n    -7 0 -10 -2 -10 -9 1 -5 8 -19 12 -35 9 -14 -3 -27 -1 -30 4 -2 5 -4 4 -3 -3\n    2 -6 6 -10 10 -10 3 0 20 -4 37 -9 18 -5 32 -5 36 1 3 6 13 8 21 5 13 -5 113\n    21 113 30 0 3 -19 2 -57 -4z");
      var bel7 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel7.setAttributeNS(null, "d", "M275 220 c-13 -6 -15 -9 -5 -9 8 0 22 4 30 9 18 12 2 12 -25 0z");
      var bel8 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel8.setAttributeNS(null, "d", "M132 23 c59 -2 158 -2 220 0 62 1 14 3 -107 3 -121 0 -172 -2 -113\n    -3z");
      ac(bel9, ["\n    ", bel0, "\n    ", bel1, "\n    ", bel2, "\n    ", bel3, "\n    ", bel4, "\n    ", bel5, "\n    ", bel6, "\n    ", bel7, "\n    ", bel8, "\n    "]);
      ac(bel10, ["\n    ", bel9, "\n    "]);
      return bel10;
    }();
  },
  word: function word() {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel8 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel8.setAttributeNS(null, "width", "16.000000pt");
      bel8.setAttributeNS(null, "height", "16.000000pt");
      bel8.setAttributeNS(null, "viewBox", "0 0 48.000000 48.000000");
      bel8.setAttributeNS(null, "preserveAspectRatio", "xMidYMid meet");
      bel8.setAttributeNS(null, "class", "UppyIcon");
      var bel7 = document.createElementNS("http://www.w3.org/2000/svg", "g");
      bel7.setAttributeNS(null, "transform", "translate(0.000000,48.000000) scale(0.100000,-0.100000)");
      bel7.setAttributeNS(null, "fill", "#423d3d");
      bel7.setAttributeNS(null, "stroke", "none");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M0 466 c0 -15 87 -26 213 -26 l77 0 0 -140 0 -140 -77 0 c-105 0\n    -213 -11 -213 -21 0 -5 15 -9 34 -9 25 0 33 -4 33 -17 0 -74 4 -113 13 -113 6\n    0 10 32 10 75 l0 75 105 0 105 0 0 150 0 150 -105 0 c-87 0 -105 3 -105 15 0\n    11 -12 15 -45 15 -31 0 -45 -4 -45 -14z");
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel1.setAttributeNS(null, "d", "M123 468 c-2 -5 50 -8 116 -8 l121 0 0 -50 c0 -46 -2 -50 -23 -50\n    -14 0 -24 -6 -24 -15 0 -8 4 -15 9 -15 4 0 8 -20 8 -45 0 -25 -4 -45 -8 -45\n    -5 0 -9 -7 -9 -15 0 -9 10 -15 24 -15 22 0 23 3 23 75 l0 75 50 0 50 0 0 -170\n    0 -170 -175 0 -175 0 -2 63 c-2 59 -2 60 -5 13 -3 -27 -2 -60 2 -73 l5 -23\n    183 2 182 3 2 216 c3 275 19 254 -194 254 -85 0 -157 -3 -160 -7z m337 -85 c0\n    -2 -18 -3 -39 -3 -39 0 -39 0 -43 45 l-3 44 42 -41 c24 -23 43 -43 43 -45z\n    m-19 50 c19 -22 23 -29 9 -18 -36 30 -50 43 -50 49 0 11 6 6 41 -31z");
      var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel2.setAttributeNS(null, "d", "M4 300 c0 -74 1 -105 3 -67 2 37 2 97 0 135 -2 37 -3 6 -3 -68z");
      var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel3.setAttributeNS(null, "d", "M20 300 l0 -131 128 3 127 3 3 128 3 127 -131 0 -130 0 0 -130z m250\n    100 c0 -16 -7 -20 -33 -20 -31 0 -34 -2 -34 -31 0 -28 2 -30 13 -14 8 10 11\n    22 8 26 -3 5 1 9 9 9 11 0 9 -12 -12 -50 -14 -27 -32 -50 -39 -50 -15 0 -31\n    38 -26 63 2 10 -1 15 -8 11 -6 -4 -9 -1 -6 6 2 8 10 16 16 18 8 2 12 -10 12\n    -38 0 -38 2 -41 16 -29 9 7 12 15 7 16 -5 2 -7 17 -5 33 4 26 1 30 -20 30 -17\n    0 -29 -9 -39 -27 -20 -41 -22 -50 -6 -30 14 17 15 16 20 -5 4 -13 2 -40 -2\n    -60 -9 -37 -8 -38 20 -38 26 0 33 8 64 70 19 39 37 70 40 70 3 0 5 -40 5 -90\n    l0 -90 -120 0 -120 0 0 120 0 120 120 0 c113 0 120 -1 120 -20z");
      var bel4 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel4.setAttributeNS(null, "d", "M40 371 c0 -6 5 -13 10 -16 6 -3 10 -35 10 -71 0 -57 2 -64 20 -64\n    13 0 27 14 40 40 25 49 25 63 0 30 -19 -25 -39 -23 -24 2 5 7 7 23 6 35 -2 11\n    2 24 7 28 23 13 9 25 -29 25 -22 0 -40 -4 -40 -9z m53 -9 c-6 -4 -13 -28 -15\n    -52 l-3 -45 -5 53 c-5 47 -3 52 15 52 13 0 16 -3 8 -8z");
      var bel5 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel5.setAttributeNS(null, "d", "M313 165 c0 -9 10 -15 24 -15 14 0 23 6 23 15 0 9 -9 15 -23 15 -14\n    0 -24 -6 -24 -15z");
      var bel6 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel6.setAttributeNS(null, "d", "M180 105 c0 -12 17 -15 90 -15 73 0 90 3 90 15 0 12 -17 15 -90 15\n    -73 0 -90 -3 -90 -15z");
      ac(bel7, ["\n    ", bel0, "\n    ", bel1, "\n    ", bel2, "\n    ", bel3, "\n    ", bel4, "\n    ", bel5, "\n    ", bel6, "\n    "]);
      ac(bel8, ["\n    ", bel7, "\n    "]);
      return bel8;
    }();
  },
  powerpoint: function powerpoint() {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel19 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel19.setAttributeNS(null, "width", "16.000000pt");
      bel19.setAttributeNS(null, "height", "16.000000pt");
      bel19.setAttributeNS(null, "viewBox", "0 0 16.000000 16.000000");
      bel19.setAttributeNS(null, "preserveAspectRatio", "xMidYMid meet");
      bel19.setAttributeNS(null, "class", "UppyIcon");
      var bel18 = document.createElementNS("http://www.w3.org/2000/svg", "g");
      bel18.setAttributeNS(null, "transform", "translate(0.000000,144.000000) scale(0.100000,-0.100000)");
      bel18.setAttributeNS(null, "fill", "#494747");
      bel18.setAttributeNS(null, "stroke", "none");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M0 1390 l0 -50 93 0 c50 0 109 -3 130 -6 l37 -7 0 57 0 56 -130 0\n    -130 0 0 -50z");
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel1.setAttributeNS(null, "d", "M870 1425 c0 -8 -12 -18 -27 -22 l-28 -6 30 -9 c17 -5 75 -10 130\n    -12 86 -2 100 -5 99 -19 0 -10 -1 -80 -2 -157 l-2 -140 -65 0 c-60 0 -80 -9\n    -55 -25 8 -5 7 -11 -1 -21 -17 -20 2 -25 112 -27 l94 -2 0 40 0 40 100 5 c55\n    3 104 3 108 -1 8 -6 11 -1008 4 -1016 -2 -2 -236 -4 -520 -6 -283 -1 -519 -5\n    -523 -9 -4 -4 -1 -14 6 -23 11 -13 82 -15 561 -15 l549 0 0 570 c0 543 -1 570\n    -18 570 -10 0 -56 39 -103 86 -46 47 -93 90 -104 95 -11 6 22 -31 73 -82 50\n    -50 92 -95 92 -99 0 -14 -23 -16 -136 -12 l-111 4 -6 124 c-6 119 -7 126 -32\n    145 -14 12 -23 25 -20 30 4 5 -38 9 -99 9 -87 0 -106 -3 -106 -15z");
      var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel2.setAttributeNS(null, "d", "M1190 1429 c0 -14 225 -239 239 -239 7 0 11 30 11 85 0 77 -2 85 -19\n    85 -21 0 -61 44 -61 66 0 11 -20 14 -85 14 -55 0 -85 -4 -85 -11z");
      var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel3.setAttributeNS(null, "d", "M281 1331 c-24 -16 7 -23 127 -31 100 -6 107 -7 47 -9 -38 -1 -142\n    -8 -229 -14 l-160 -12 -7 -28 c-10 -37 -16 -683 -6 -693 4 -4 10 -4 15 0 4 4\n    8 166 9 359 l2 352 358 -3 358 -2 5 -353 c3 -193 2 -356 -2 -361 -3 -4 -136\n    -8 -295 -7 -290 2 -423 -4 -423 -20 0 -5 33 -9 73 -9 39 0 90 -3 111 -7 l39\n    -6 -45 -18 c-26 -10 -90 -20 -151 -25 l-107 -7 0 -38 c0 -35 3 -39 24 -39 36\n    0 126 -48 128 -68 1 -9 2 -40 3 -69 2 -29 6 -91 10 -138 l7 -85 44 0 44 0 0\n    219 0 220 311 1 c172 0 314 2 318 4 5 4 6 301 2 759 l-1 137 -297 0 c-164 0\n    -304 -4 -312 -9z");
      var bel4 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel4.setAttributeNS(null, "d", "M2 880 c-1 -276 2 -378 10 -360 12 30 11 657 -2 710 -5 21 -8 -121\n    -8 -350z");
      var bel5 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel5.setAttributeNS(null, "d", "M145 1178 c-3 -8 -4 -141 -3 -298 l3 -285 295 0 295 0 0 295 0 295\n    -293 3 c-230 2 -294 0 -297 -10z m553 -27 c11 -6 13 -60 11 -260 -1 -139 -6\n    -254 -9 -256 -4 -3 -124 -6 -266 -7 l-259 -3 -3 255 c-1 140 0 260 3 267 3 10\n    62 13 257 13 139 0 259 -4 266 -9z");
      var bel6 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel6.setAttributeNS(null, "d", "M445 1090 l-210 -5 -3 -37 -3 -38 225 0 226 0 0 34 c0 18 -6 37 -12\n    42 -7 5 -107 7 -223 4z");
      var bel7 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel7.setAttributeNS(null, "d", "M295 940 c-3 -6 1 -12 9 -15 9 -3 23 -7 31 -10 10 -3 15 -18 15 -49\n    0 -25 3 -47 8 -49 15 -9 47 11 52 33 9 38 28 34 41 -8 10 -35 9 -43 -7 -66\n    -23 -31 -51 -34 -56 -4 -4 31 -26 34 -38 4 -5 -14 -12 -26 -16 -26 -4 0 -22\n    16 -41 36 -33 35 -34 40 -28 86 7 48 6 50 -16 46 -18 -2 -23 -9 -21 -23 2 -11\n    3 -49 3 -85 0 -72 6 -83 60 -111 57 -29 95 -25 144 15 37 31 46 34 83 29 40\n    -5 42 -5 42 21 0 24 -3 27 -27 24 -24 -3 -28 1 -31 25 -3 24 0 28 20 25 13 -2\n    23 2 23 7 0 6 -9 9 -20 8 -13 -2 -28 9 -44 32 -13 19 -31 35 -41 35 -10 0 -23\n    7 -30 15 -14 17 -105 21 -115 5z");
      var bel8 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel8.setAttributeNS(null, "d", "M522 919 c-28 -11 -20 -29 14 -29 14 0 24 6 24 14 0 21 -11 25 -38\n    15z");
      var bel9 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel9.setAttributeNS(null, "d", "M623 922 c-53 -5 -43 -32 12 -32 32 0 45 4 45 14 0 17 -16 22 -57 18z");
      var bel10 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel10.setAttributeNS(null, "d", "M597 854 c-13 -14 6 -24 44 -24 28 0 39 4 39 15 0 11 -11 15 -38 15\n    -21 0 -42 -3 -45 -6z");
      var bel11 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel11.setAttributeNS(null, "d", "M597 794 c-4 -4 -7 -18 -7 -31 0 -21 4 -23 46 -23 44 0 45 1 42 28\n    -3 23 -8 27 -38 30 -20 2 -39 0 -43 -4z");
      var bel12 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel12.setAttributeNS(null, "d", "M989 883 c-34 -4 -37 -6 -37 -37 0 -32 2 -34 45 -40 25 -3 72 -6 104\n    -6 l59 0 0 45 0 45 -67 -2 c-38 -1 -84 -3 -104 -5z");
      var bel13 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel13.setAttributeNS(null, "d", "M993 703 c-42 -4 -54 -15 -33 -28 8 -5 8 -11 0 -20 -16 -20 -3 -24\n    104 -31 l96 -7 0 47 0 46 -62 -2 c-35 -1 -82 -3 -105 -5z");
      var bel14 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel14.setAttributeNS(null, "d", "M1005 523 c-50 -6 -59 -12 -46 -26 8 -10 7 -17 -1 -25 -6 -6 -9 -14\n    -6 -17 3 -3 51 -8 107 -12 l101 -6 0 46 0 47 -62 -1 c-35 -1 -76 -4 -93 -6z");
      var bel15 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel15.setAttributeNS(null, "d", "M537 344 c-4 -4 -7 -25 -7 -46 l0 -38 46 0 45 0 -3 43 c-3 40 -4 42\n    -38 45 -20 2 -39 0 -43 -4z");
      var bel16 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel16.setAttributeNS(null, "d", "M714 341 c-2 -2 -4 -22 -4 -43 l0 -38 225 0 225 0 0 45 0 46 -221 -3\n    c-121 -2 -222 -5 -225 -7z");
      var bel17 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel17.setAttributeNS(null, "d", "M304 205 c0 -66 1 -92 3 -57 2 34 2 88 0 120 -2 31 -3 3 -3 -63z");
      ac(bel18, ["\n    ", bel0, "\n    ", bel1, "\n    ", bel2, "\n    ", bel3, "\n    ", bel4, "\n    ", bel5, "\n    ", bel6, "\n    ", bel7, "\n    ", bel8, "\n    ", bel9, "\n    ", bel10, "\n    ", bel11, "\n    ", bel12, "\n    ", bel13, "\n    ", bel14, "\n    ", bel15, "\n    ", bel16, "\n    ", bel17, "\n    "]);
      ac(bel19, ["\n    ", bel18, "\n    "]);
      return bel19;
    }();
  },
  page_white: function page_white() {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel6 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel6.setAttributeNS(null, "width", "16.000000pt");
      bel6.setAttributeNS(null, "height", "16.000000pt");
      bel6.setAttributeNS(null, "viewBox", "0 0 48.000000 48.000000");
      bel6.setAttributeNS(null, "preserveAspectRatio", "xMidYMid meet");
      bel6.setAttributeNS(null, "class", "UppyIcon");
      var bel5 = document.createElementNS("http://www.w3.org/2000/svg", "g");
      bel5.setAttributeNS(null, "transform", "translate(0.000000,48.000000) scale(0.100000,-0.100000)");
      bel5.setAttributeNS(null, "fill", "#000000");
      bel5.setAttributeNS(null, "stroke", "none");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M20 240 c1 -202 3 -240 16 -240 12 0 14 38 14 240 0 208 -2 240 -15\n    240 -13 0 -15 -31 -15 -240z");
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel1.setAttributeNS(null, "d", "M75 471 c-4 -8 32 -11 119 -11 l126 0 0 -50 0 -50 50 0 c28 0 50 5\n    50 10 0 6 -18 10 -40 10 l-40 0 0 42 0 42 43 -39 42 -40 -43 45 -42 45 -129 3\n    c-85 2 -131 0 -136 -7z");
      var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel2.setAttributeNS(null, "d", "M398 437 l42 -43 0 -197 c0 -168 2 -197 15 -197 13 0 15 29 15 198\n    l0 198 -36 42 c-21 25 -44 42 -57 42 -18 0 -16 -6 21 -43z");
      var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel3.setAttributeNS(null, "d", "M92 353 l2 -88 3 78 4 77 89 0 89 0 8 -42 c8 -43 9 -43 55 -46 44 -3\n    47 -5 51 -35 4 -31 4 -31 5 6 l2 37 -50 0 -50 0 0 50 0 50 -105 0 -105 0 2\n    -87z");
      var bel4 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel4.setAttributeNS(null, "d", "M75 10 c8 -13 332 -13 340 0 4 7 -55 10 -170 10 -115 0 -174 -3 -170\n    -10z");
      ac(bel5, ["\n    ", bel0, "\n    ", bel1, "\n    ", bel2, "\n    ", bel3, "\n    ", bel4, "\n    "]);
      ac(bel6, ["\n    ", bel5, "\n    "]);
      return bel6;
    }();
  }
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],59:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var html = require('yo-yo');
var Plugin = require('../Plugin');

var Provider = require('../../uppy-base/src/plugins/Provider');

var View = require('../../generic-provider-views/index');
var icons = require('./icons');

module.exports = function (_Plugin) {
  _inherits(Dropbox, _Plugin);

  function Dropbox(core, opts) {
    _classCallCheck(this, Dropbox);

    var _this = _possibleConstructorReturn(this, _Plugin.call(this, core, opts));

    _this.type = 'acquirer';
    _this.id = 'Dropbox';
    _this.title = 'Dropbox';
    _this.stateId = 'dropbox';
    _this.icon = function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel3 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel3.setAttributeNS(null, "width", "128");
      bel3.setAttributeNS(null, "height", "118");
      bel3.setAttributeNS(null, "viewBox", "0 0 128 118");
      bel3.setAttributeNS(null, "class", "UppyIcon");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M38.145.777L1.108 24.96l25.608 20.507 37.344-23.06z");
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel1.setAttributeNS(null, "d", "M1.108 65.975l37.037 24.183L64.06 68.525l-37.343-23.06zM64.06 68.525l25.917 21.633 37.036-24.183-25.61-20.51z");
      var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel2.setAttributeNS(null, "d", "M127.014 24.96L89.977.776 64.06 22.407l37.345 23.06zM64.136 73.18l-25.99 21.567-11.122-7.262v8.142l37.112 22.256 37.114-22.256v-8.142l-11.12 7.262z");
      ac(bel3, ["\n        ", bel0, "\n        ", bel1, "\n        ", bel2, "\n      "]);
      return bel3;
    }();

    // writing out the key explicitly for readability the key used to store
    // the provider instance must be equal to this.id.
    _this.Dropbox = new Provider({
      host: _this.opts.host,
      provider: 'dropbox'
    });

    _this.files = [];

    _this.onAuth = _this.onAuth.bind(_this);
    // Visual
    _this.render = _this.render.bind(_this);

    // set default options
    var defaultOptions = {};

    // merge default options with the ones set by user
    _this.opts = _extends({}, defaultOptions, opts);
    return _this;
  }

  Dropbox.prototype.install = function install() {
    this.view = new View(this);
    // Set default state
    this.core.setState({
      // writing out the key explicitly for readability the key used to store
      // the plugin state must be equal to this.stateId.
      dropbox: {
        authenticated: false,
        files: [],
        folders: [],
        directories: [],
        activeRow: -1,
        filterInput: ''
      }
    });

    var target = this.opts.target;
    var plugin = this;
    this.target = this.mount(target, plugin);

    this[this.id].auth().then(this.onAuth);

    return;
  };

  Dropbox.prototype.onAuth = function onAuth(authenticated) {
    this.view.updateState({ authenticated: authenticated });
    if (authenticated) {
      this.view.getFolder();
    }
  };

  Dropbox.prototype.isFolder = function isFolder(item) {
    return item.is_dir;
  };

  Dropbox.prototype.getItemData = function getItemData(item) {
    return _extends({}, item, { size: item.bytes });
  };

  Dropbox.prototype.getItemIcon = function getItemIcon(item) {
    var icon = icons[item.icon];

    if (!icon) {
      if (item.icon.startsWith('folder')) {
        icon = icons['folder'];
      } else {
        icon = icons['page_white'];
      }
    }
    return icon();
  };

  Dropbox.prototype.getItemSubList = function getItemSubList(item) {
    return item.contents;
  };

  Dropbox.prototype.getItemName = function getItemName(item) {
    return item.path.length > 1 ? item.path.substring(1) : item.path;
  };

  Dropbox.prototype.getMimeType = function getMimeType(item) {
    return item.mime_type;
  };

  Dropbox.prototype.getItemId = function getItemId(item) {
    return item.rev;
  };

  Dropbox.prototype.getItemRequestPath = function getItemRequestPath(item) {
    return encodeURIComponent(this.getItemName(item));
  };

  Dropbox.prototype.getItemModifiedDate = function getItemModifiedDate(item) {
    return item.modified;
  };

  Dropbox.prototype.render = function render(state) {
    return this.view.render(state);
  };

  return Dropbox;
}(Plugin);

},{"../../generic-provider-views/index":39,"../../uppy-base/src/plugins/Provider":70,"../Plugin":63,"./icons":58,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],60:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var html = require('yo-yo');
var Plugin = require('../Plugin');

var Provider = require('../../uppy-base/src/plugins/Provider');

var View = require('../../generic-provider-views/index');

module.exports = function (_Plugin) {
  _inherits(Google, _Plugin);

  function Google(core, opts) {
    _classCallCheck(this, Google);

    var _this = _possibleConstructorReturn(this, _Plugin.call(this, core, opts));

    _this.type = 'acquirer';
    _this.id = 'GoogleDrive';
    _this.title = 'Google Drive';
    _this.stateId = 'googleDrive';
    _this.icon = function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      bel1.setAttributeNS(null, "width", "28");
      bel1.setAttributeNS(null, "height", "28");
      bel1.setAttributeNS(null, "viewBox", "0 0 16 16");
      bel1.setAttributeNS(null, "class", "UppyIcon UppyModalTab-icon");
      var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
      bel0.setAttributeNS(null, "d", "M2.955 14.93l2.667-4.62H16l-2.667 4.62H2.955zm2.378-4.62l-2.666 4.62L0 10.31l5.19-8.99 2.666 4.62-2.523 4.37zm10.523-.25h-5.333l-5.19-8.99h5.334l5.19 8.99z");
      ac(bel1, ["\n        ", bel0, "\n      "]);
      return bel1;
    }();

    // writing out the key explicitly for readability the key used to store
    // the provider instance must be equal to this.id.
    _this.GoogleDrive = new Provider({
      host: _this.opts.host,
      provider: 'drive',
      authProvider: 'google'
    });

    _this.files = [];

    _this.onAuth = _this.onAuth.bind(_this);
    // Visual
    _this.render = _this.render.bind(_this);

    // set default options
    var defaultOptions = {};

    // merge default options with the ones set by user
    _this.opts = _extends({}, defaultOptions, opts);
    return _this;
  }

  Google.prototype.install = function install() {
    this.view = new View(this);
    // Set default state for Google Drive
    this.core.setState({
      // writing out the key explicitly for readability the key used to store
      // the plugin state must be equal to this.stateId.
      googleDrive: {
        authenticated: false,
        files: [],
        folders: [],
        directories: [],
        activeRow: -1,
        filterInput: ''
      }
    });

    var target = this.opts.target;
    var plugin = this;
    this.target = this.mount(target, plugin);

    // catch error here.
    this[this.id].auth().then(this.onAuth);
    return;
  };

  Google.prototype.onAuth = function onAuth(authenticated) {
    this.view.updateState({ authenticated: authenticated });
    if (authenticated) {
      this.view.getFolder('root');
    }
  };

  Google.prototype.isFolder = function isFolder(item) {
    return item.mimeType === 'application/vnd.google-apps.folder';
  };

  Google.prototype.getItemData = function getItemData(item) {
    return _extends({}, item, { size: parseFloat(item.fileSize) });
  };

  Google.prototype.getItemIcon = function getItemIcon(item) {
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel0 = document.createElement("img");
      bel0.setAttribute("src", arguments[0]);
      return bel0;
    }(item.iconLink);
  };

  Google.prototype.getItemSubList = function getItemSubList(item) {
    return item.items;
  };

  Google.prototype.getItemName = function getItemName(item) {
    return item.title ? item.title : '/';
  };

  Google.prototype.getMimeType = function getMimeType(item) {
    return item.mimeType;
  };

  Google.prototype.getItemId = function getItemId(item) {
    return item.id;
  };

  Google.prototype.getItemRequestPath = function getItemRequestPath(item) {
    return this.getItemId(item);
  };

  Google.prototype.getItemModifiedDate = function getItemModifiedDate(item) {
    return item.modifiedByMeDate;
  };

  Google.prototype.render = function render(state) {
    return this.view.render(state);
  };

  return Google;
}(Plugin);

},{"../../generic-provider-views/index":39,"../../uppy-base/src/plugins/Provider":70,"../Plugin":63,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],61:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Plugin = require('./Plugin');
var html = require('yo-yo');

/**
 * Informer
 * Shows rad message bubbles
 * used like this: `bus.emit('informer', 'hello world', 'info', 5000)`
 * or for errors: `bus.emit('informer', 'Error uploading img.jpg', 'error', 5000)`
 *
 */
module.exports = function (_Plugin) {
  _inherits(Informer, _Plugin);

  function Informer(core, opts) {
    _classCallCheck(this, Informer);

    var _this = _possibleConstructorReturn(this, _Plugin.call(this, core, opts));

    _this.type = 'progressindicator';
    _this.id = 'Informer';
    _this.title = 'Informer';
    _this.timeoutID = undefined;

    // set default options
    var defaultOptions = {};

    // merge default options with the ones set by user
    _this.opts = _extends({}, defaultOptions, opts);
    return _this;
  }

  Informer.prototype.showInformer = function showInformer(msg, type, duration) {
    var _this2 = this;

    this.core.setState({
      informer: {
        isHidden: false,
        msg: msg
      }
    });

    window.clearTimeout(this.timeoutID);
    if (duration === 0) {
      this.timeoutID = undefined;
      return;
    }

    // hide the informer after `duration` milliseconds
    this.timeoutID = setTimeout(function () {
      var newInformer = _extends({}, _this2.core.getState().informer, {
        isHidden: true
      });
      _this2.core.setState({
        informer: newInformer
      });
    }, duration);
  };

  Informer.prototype.hideInformer = function hideInformer() {
    var newInformer = _extends({}, this.core.getState().informer, {
      isHidden: true
    });
    this.core.setState({
      informer: newInformer
    });
  };

  Informer.prototype.render = function render(state) {
    var msg = state.informer.msg;
    var isHidden = state.informer.isHidden;

    // @TODO add aria-live for screen-readers
    return function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel1 = document.createElement("div");
      bel1.setAttribute("aria-hidden", arguments[1]);
      bel1.setAttribute("class", "UppyInformer");
      var bel0 = document.createElement("p");
      ac(bel0, [arguments[0]]);
      ac(bel1, ["\n      ", bel0, "\n    "]);
      return bel1;
    }(msg, isHidden);
  };

  Informer.prototype.install = function install() {
    var _this3 = this;

    // Set default state for Google Drive
    this.core.setState({
      informer: {
        isHidden: true,
        msg: ''
      }
    });

    var bus = this.core.bus;

    bus.on('informer', function (msg, type, duration) {
      _this3.showInformer(msg, type, duration);
    });

    bus.on('informer:hide', function () {
      _this3.hideInformer();
    });

    var target = this.opts.target;
    var plugin = this;
    this.target = this.mount(target, plugin);
  };

  return Informer;
}(Plugin);

},{"./Plugin":63,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],62:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Plugin = require('./Plugin');

/**
 * Meta Data
 * Adds metadata fields to Uppy
 *
 */
module.exports = function (_Plugin) {
  _inherits(MetaData, _Plugin);

  function MetaData(core, opts) {
    _classCallCheck(this, MetaData);

    var _this = _possibleConstructorReturn(this, _Plugin.call(this, core, opts));

    _this.type = 'modifier';
    _this.id = 'MetaData';
    _this.title = 'Meta Data';

    // set default options
    var defaultOptions = {};

    // merge default options with the ones set by user
    _this.opts = _extends({}, defaultOptions, opts);
    return _this;
  }

  MetaData.prototype.addInitialMeta = function addInitialMeta() {
    var _this2 = this;

    var metaFields = this.opts.fields;

    this.core.setState({
      metaFields: metaFields
    });

    this.core.emitter.on('file-added', function (fileID) {
      metaFields.forEach(function (item) {
        var obj = {};
        obj[item.id] = item.value;
        _this2.core.updateMeta(obj, fileID);
      });
    });
  };

  MetaData.prototype.install = function install() {
    this.addInitialMeta();
  };

  return MetaData;
}(Plugin);

},{"./Plugin":63}],63:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var yo = require('yo-yo');

/**
 * Boilerplate that all Plugins share - and should not be used
 * directly. It also shows which methods final plugins should implement/override,
 * this deciding on structure.
 *
 * @param {object} main Uppy core object
 * @param {object} object with plugin options
 * @return {array | string} files or success/fail message
 */
module.exports = function () {
  function Plugin(core, opts) {
    _classCallCheck(this, Plugin);

    this.core = core;
    this.opts = opts || {};
    this.type = 'none';

    // clear everything inside the target selector
    this.opts.replaceTargetContent === this.opts.replaceTargetContent || true;

    this.update = this.update.bind(this);
    this.mount = this.mount.bind(this);
    this.focus = this.focus.bind(this);
    this.install = this.install.bind(this);
  }

  Plugin.prototype.update = function update(state) {
    if (typeof this.el === 'undefined') {
      return;
    }

    var newEl = this.render(state);
    yo.update(this.el, newEl);

    // optimizes performance?
    // requestAnimationFrame(() => {
    //   const newEl = this.render(state)
    //   yo.update(this.el, newEl)
    // })
  };

  /**
   * Check if supplied `target` is a `string` or an `object`.
   * If it’s an object — target is a plugin, and we search `plugins`
   * for a plugin with same name and return its target.
   *
   * @param {String|Object} target
   *
   */


  Plugin.prototype.mount = function mount(target, plugin) {
    var callerPluginName = plugin.id;

    if (typeof target === 'string') {
      this.core.log('Installing ' + callerPluginName + ' to ' + target);

      // clear everything inside the target container
      if (this.opts.replaceTargetContent) {
        document.querySelector(target).innerHTML = '';
      }

      this.el = plugin.render(this.core.state);
      document.querySelector(target).appendChild(this.el);

      return target;
    } else {
      // TODO: is instantiating the plugin really the way to roll
      // just to get the plugin name?
      var Target = target;
      var targetPluginName = new Target().id;

      this.core.log('Installing ' + callerPluginName + ' to ' + targetPluginName);

      var targetPlugin = this.core.getPlugin(targetPluginName);
      var selectorTarget = targetPlugin.addTarget(plugin);

      return selectorTarget;
    }
  };

  Plugin.prototype.focus = function focus() {
    return;
  };

  Plugin.prototype.install = function install() {
    return;
  };

  return Plugin;
}();

},{"yo-yo":19}],64:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Promise = typeof Promise === 'undefined' ? require('es6-promise').Promise : Promise;

var Plugin = require('./Plugin');
var tus = require('tus-js-client');
var UppySocket = require('../core/UppySocket');

/**
 * Tus resumable file uploader
 *
 */
module.exports = function (_Plugin) {
  _inherits(Tus10, _Plugin);

  function Tus10(core, opts) {
    _classCallCheck(this, Tus10);

    var _this = _possibleConstructorReturn(this, _Plugin.call(this, core, opts));

    _this.type = 'uploader';
    _this.id = 'Tus';
    _this.title = 'Tus';

    // set default options
    var defaultOptions = {
      resume: true,
      allowPause: true
    };

    // merge default options with the ones set by user
    _this.opts = _extends({}, defaultOptions, opts);
    return _this;
  }

  Tus10.prototype.pauseResume = function pauseResume(action, fileID) {
    var updatedFiles = _extends({}, this.core.getState().files);
    var inProgressUpdatedFiles = Object.keys(updatedFiles).filter(function (file) {
      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;
    });

    switch (action) {
      case 'toggle':
        if (updatedFiles[fileID].uploadComplete) return;

        var wasPaused = updatedFiles[fileID].isPaused || false;
        var isPaused = !wasPaused;
        var updatedFile = void 0;
        if (wasPaused) {
          updatedFile = _extends({}, updatedFiles[fileID], {
            isPaused: false
          });
        } else {
          updatedFile = _extends({}, updatedFiles[fileID], {
            isPaused: true
          });
        }
        updatedFiles[fileID] = updatedFile;
        this.core.setState({ files: updatedFiles });
        return isPaused;
      case 'pauseAll':
        inProgressUpdatedFiles.forEach(function (file) {
          var updatedFile = _extends({}, updatedFiles[file], {
            isPaused: true
          });
          updatedFiles[file] = updatedFile;
        });
        this.core.setState({ files: updatedFiles });
        return;
      case 'resumeAll':
        inProgressUpdatedFiles.forEach(function (file) {
          var updatedFile = _extends({}, updatedFiles[file], {
            isPaused: false
          });
          updatedFiles[file] = updatedFile;
        });
        this.core.setState({ files: updatedFiles });
        return;
    }
  };

  /**
   * Create a new Tus upload
   *
   * @param {object} file for use with upload
   * @param {integer} current file in a queue
   * @param {integer} total number of files in a queue
   * @returns {Promise}
   */


  Tus10.prototype.upload = function upload(file, current, total) {
    var _this2 = this;

    this.core.log('uploading ' + current + ' of ' + total);

    // Create a new tus upload
    return new _Promise(function (resolve, reject) {
      var upload = new tus.Upload(file.data, {

        // TODO merge this.opts or this.opts.tus here
        metadata: file.meta,
        resume: _this2.opts.resume,
        endpoint: _this2.opts.endpoint,

        onError: function onError(err) {
          _this2.core.log(err);
          _this2.core.emitter.emit('core:upload-error', file.id);
          reject('Failed because: ' + err);
        },
        onProgress: function onProgress(bytesUploaded, bytesTotal) {
          // Dispatch progress event
          // console.log(bytesUploaded, bytesTotal)
          _this2.core.emitter.emit('core:upload-progress', {
            uploader: _this2,
            id: file.id,
            bytesUploaded: bytesUploaded,
            bytesTotal: bytesTotal
          });
        },
        onSuccess: function onSuccess() {
          _this2.core.emitter.emit('core:upload-success', file.id, upload.url);

          _this2.core.log('Download ' + upload.file.name + ' from ' + upload.url);
          resolve(upload);
        }
      });

      _this2.onFileRemove(file.id, function () {
        console.log('removing file: ', file.id);
        upload.abort();
        resolve('upload ' + file.id + ' was removed');
      });

      _this2.onPause(file.id, function (isPaused) {
        isPaused ? upload.abort() : upload.start();
      });

      _this2.onPauseAll(file.id, function () {
        upload.abort();
      });

      _this2.onResumeAll(file.id, function () {
        upload.start();
      });

      upload.start();
      _this2.core.emitter.emit('core:upload-started', file.id, upload);
    });
  };

  Tus10.prototype.uploadRemote = function uploadRemote(file, current, total) {
    var _this3 = this;

    return new _Promise(function (resolve, reject) {
      _this3.core.log(file.remote.url);
      fetch(file.remote.url, {
        method: 'post',
        credentials: 'include',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(_extends({}, file.remote.body, {
          endpoint: _this3.opts.endpoint,
          protocol: 'tus'
        }))
      }).then(function (res) {
        if (res.status < 200 && res.status > 300) {
          return reject(res.statusText);
        }

        _this3.core.emitter.emit('core:upload-started', file.id);

        res.json().then(function (data) {
          // get the host domain
          var regex = /^(?:https?:\/\/|\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^\/\n]+)/;
          var host = regex.exec(file.remote.host)[1];
          var socketProtocol = location.protocol === 'https:' ? 'wss' : 'ws';

          var token = data.token;
          var socket = new UppySocket({
            target: socketProtocol + ('://' + host + '/api/' + token)
          });

          _this3.onFileRemove(file.id, function () {
            socket.send('pause', {});
            resolve('upload ' + file.id + ' was removed');
          });

          _this3.onPause(file.id, function (isPaused) {
            isPaused ? socket.send('pause', {}) : socket.send('resume', {});
          });

          _this3.onPauseAll(file.id, function () {
            socket.send('pause', {});
          });

          _this3.onResumeAll(file.id, function () {
            socket.send('resume', {});
          });

          socket.on('progress', function (progressData) {
            var progress = progressData.progress;
            var bytesUploaded = progressData.bytesUploaded;
            var bytesTotal = progressData.bytesTotal;


            if (progress) {
              _this3.core.log('Upload progress: ' + progress);
              console.log(file.id);

              _this3.core.emitter.emit('core:upload-progress', {
                uploader: _this3,
                id: file.id,
                bytesUploaded: bytesUploaded,
                bytesTotal: bytesTotal
              });
            }
          });

          socket.on('success', function (data) {
            _this3.core.emitter.emit('core:upload-success', file.id, data.url);
            socket.close();
            return resolve();
          });
        });
      });
    });
  };

  Tus10.prototype.onFileRemove = function onFileRemove(fileID, cb) {
    this.core.emitter.on('core:file-remove', function (targetFileID) {
      if (fileID === targetFileID) cb();
    });
  };

  Tus10.prototype.onPause = function onPause(fileID, cb) {
    var _this4 = this;

    this.core.emitter.on('core:upload-pause', function (targetFileID) {
      if (fileID === targetFileID) {
        var isPaused = _this4.pauseResume('toggle', fileID);
        cb(isPaused);
      }
    });
  };

  Tus10.prototype.onPauseAll = function onPauseAll(fileID, cb) {
    var _this5 = this;

    this.core.emitter.on('core:pause-all', function () {
      var files = _this5.core.getState().files;
      if (!files[fileID]) return;
      cb();
    });
  };

  Tus10.prototype.onResumeAll = function onResumeAll(fileID, cb) {
    var _this6 = this;

    this.core.emitter.on('core:resume-all', function () {
      var files = _this6.core.getState().files;
      if (!files[fileID]) return;
      cb();
    });
  };

  Tus10.prototype.uploadFiles = function uploadFiles(files) {
    var _this7 = this;

    if (Object.keys(files).length === 0) {
      this.core.log('no files to upload!');
      return;
    }

    var uploaders = [];
    files.forEach(function (file, index) {
      var current = parseInt(index, 10) + 1;
      var total = files.length;

      if (!file.isRemote) {
        uploaders.push(_this7.upload(file, current, total));
      } else {
        uploaders.push(_this7.uploadRemote(file, current, total));
      }
    });

    return Promise.all(uploaders).then(function () {
      _this7.core.log('All files uploaded');
      return { uploadedCount: files.length };
    }).catch(function (err) {
      _this7.core.log('Upload error: ' + err);
    });
  };

  Tus10.prototype.selectForUpload = function selectForUpload(files) {
    // TODO: replace files[file].isRemote with some logic
    //
    // filter files that are now yet being uploaded / haven’t been uploaded
    // and remote too
    var filesForUpload = Object.keys(files).filter(function (file) {
      if (!files[file].progress.uploadStarted || files[file].isRemote) {
        return true;
      }
      return false;
    }).map(function (file) {
      return files[file];
    });

    this.uploadFiles(filesForUpload);
  };

  Tus10.prototype.actions = function actions() {
    var _this8 = this;

    this.core.emitter.on('core:pause-all', function () {
      _this8.pauseResume('pauseAll');
    });

    this.core.emitter.on('core:resume-all', function () {
      _this8.pauseResume('resumeAll');
    });

    this.core.emitter.on('core:upload', function () {
      _this8.core.log('Tus is uploading...');
      var files = _this8.core.getState().files;
      _this8.selectForUpload(files);
    });
  };

  Tus10.prototype.addResumableUploadsCapabilityFlag = function addResumableUploadsCapabilityFlag() {
    var newCapabilities = _extends({}, this.core.getState().capabilities);
    newCapabilities.resumableUploads = true;
    this.core.setState({
      capabilities: newCapabilities
    });
  };

  Tus10.prototype.install = function install() {
    this.addResumableUploadsCapabilityFlag();
    this.actions();
  };

  return Tus10;
}(Plugin);

},{"../core/UppySocket":34,"./Plugin":63,"es6-promise":4,"tus-js-client":14}],65:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        bel2.setAttributeNS(null, "width", "100");
        bel2.setAttributeNS(null, "height", "77");
        bel2.setAttributeNS(null, "viewBox", "0 0 100 77");
        bel2.setAttributeNS(null, "class", "UppyIcon");
        var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
        bel0.setAttributeNS(null, "d", "M50 32c-7.168 0-13 5.832-13 13s5.832 13 13 13 13-5.832 13-13-5.832-13-13-13z");
        var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
        bel1.setAttributeNS(null, "d", "M87 13H72c0-7.18-5.82-13-13-13H41c-7.18 0-13 5.82-13 13H13C5.82 13 0 18.82 0 26v38c0 7.18 5.82 13 13 13h74c7.18 0 13-5.82 13-13V26c0-7.18-5.82-13-13-13zM50 68c-12.683 0-23-10.318-23-23s10.317-23 23-23 23 10.318 23 23-10.317 23-23 23z");
        ac(bel2, ["\n    ", bel0, "\n    ", bel1, "\n  "]);
        return bel2;
    }();
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],66:[function(require,module,exports){
'use strict';

var html = require('yo-yo');
var CameraIcon = require('./CameraIcon');

module.exports = function (props) {
  var src = props.src || '';
  var video = void 0;

  if (props.useTheFlash) {
    video = props.getSWFHTML();
  } else {
    video = function () {

      var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
      var bel0 = document.createElement("video");
      bel0.setAttribute("autoplay", "autoplay");
      bel0.setAttribute("src", arguments[0]);
      bel0.setAttribute("class", "UppyWebcam-video");
      return bel0;
    }(src);
  }

  return function () {
    var onload = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/node_modules/on-load/index.js');
    var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
    var bel4 = document.createElement("div");
    var args = arguments;
    onload(bel4, function bel_onload() {
      args[3](bel4);
    }, function bel_onunload() {
      args[4](bel4);
    }, "o1");
    bel4.setAttribute("class", "UppyWebcam-container");
    var bel0 = document.createElement("div");
    bel0.setAttribute("class", "UppyWebcam-videoContainer");
    ac(bel0, ["\n        ", arguments[0], "\n      "]);
    var bel2 = document.createElement("div");
    bel2.setAttribute("class", "UppyWebcam-buttonContainer");
    var bel1 = document.createElement("button");
    bel1.setAttribute("type", "button");
    bel1.setAttribute("title", "Take a snapshot");
    bel1.setAttribute("aria-label", "Take a snapshot");
    bel1["onclick"] = arguments[1];
    bel1.setAttribute("class", "UppyButton--circular UppyButton--red UppyButton--sizeM UppyWebcam-stopRecordBtn");
    ac(bel1, ["\n          ", arguments[2], "\n        "]);
    ac(bel2, ["\n        ", bel1, "\n      "]);
    var bel3 = document.createElement("canvas");
    bel3.setAttribute("style", "display: none;");
    bel3.setAttribute("class", "UppyWebcam-canvas");
    ac(bel4, ["\n      ", bel0, "\n      ", bel2, "\n      ", bel3, "\n    "]);
    return bel4;
  }(video, props.onSnapshot, CameraIcon(), function (el) {
    props.onFocus();
    document.querySelector('.UppyWebcam-stopRecordBtn').focus();
  }, function (el) {
    props.onStop();
  });
};

},{"./CameraIcon":65,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/node_modules/on-load/index.js":29,"yo-yo":19}],67:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel2 = document.createElement("div");
        var bel0 = document.createElement("h1");
        ac(bel0, ["Please allow access to your camera"]);
        var bel1 = document.createElement("span");
        ac(bel1, ["You have been prompted to allow camera access from this site. In order to take pictures with your camera you must approve this request."]);
        ac(bel2, ["\n      ", bel0, "\n      ", bel1, "\n    "]);
        return bel2;
    }();
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],68:[function(require,module,exports){
'use strict';

var html = require('yo-yo');

module.exports = function (props) {
    return function () {

        var ac = require('/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js');
        var bel2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        bel2.setAttributeNS(null, "width", "18");
        bel2.setAttributeNS(null, "height", "21");
        bel2.setAttributeNS(null, "viewBox", "0 0 18 21");
        bel2.setAttributeNS(null, "class", "UppyIcon UppyModalTab-icon");
        var bel0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
        bel0.setAttributeNS(null, "d", "M14.8 16.9c1.9-1.7 3.2-4.1 3.2-6.9 0-5-4-9-9-9s-9 4-9 9c0 2.8 1.2 5.2 3.2 6.9C1.9 17.9.5 19.4 0 21h3c1-1.9 11-1.9 12 0h3c-.5-1.6-1.9-3.1-3.2-4.1zM9 4c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6z");
        var bel1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
        bel1.setAttributeNS(null, "d", "M9 14c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zM8 8c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1c0-.5.4-1 1-1z");
        ac(bel2, ["\n      ", bel0, "\n      ", bel1, "\n    "]);
        return bel2;
    }();
};

},{"/home/travis/build/transloadit/uppy/node_modules/yo-yoify/lib/appendChild.js":28,"yo-yo":19}],69:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Plugin = require('../Plugin');
var WebcamProvider = require('../../uppy-base/src/plugins/Webcam');

var _require = require('../../core/Utils');

var extend = _require.extend;

var WebcamIcon = require('./WebcamIcon');
var CameraScreen = require('./CameraScreen');
var PermissionsScreen = require('./PermissionsScreen');

/**
 * Webcam
 */
module.exports = function (_Plugin) {
  _inherits(Webcam, _Plugin);

  function Webcam(core, opts) {
    _classCallCheck(this, Webcam);

    var _this = _possibleConstructorReturn(this, _Plugin.call(this, core, opts));

    _this.userMedia = true;
    _this.protocol = location.protocol.match(/https/i) ? 'https' : 'http';
    _this.type = 'acquirer';
    _this.id = 'Webcam';
    _this.title = 'Webcam';
    _this.icon = WebcamIcon();

    // set default options
    var defaultOptions = {
      enableFlash: true
    };

    _this.params = {
      swfURL: 'webcam.swf',
      width: 400,
      height: 300,
      dest_width: 800, // size of captured image
      dest_height: 600, // these default to width/height
      image_format: 'jpeg', // image format (may be jpeg or png)
      jpeg_quality: 90, // jpeg image quality from 0 (worst) to 100 (best)
      enable_flash: true, // enable flash fallback,
      force_flash: false, // force flash mode,
      flip_horiz: false, // flip image horiz (mirror mode)
      fps: 30, // camera frames per second
      upload_name: 'webcam', // name of file in upload post data
      constraints: null, // custom user media constraints,
      flashNotDetectedText: 'ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).',
      noInterfaceFoundText: 'No supported webcam interface found.',
      unfreeze_snap: true // Whether to unfreeze the camera after snap (defaults to true)
    };

    // merge default options with the ones set by user
    _this.opts = _extends({}, defaultOptions, opts);

    _this.install = _this.install.bind(_this);
    _this.updateState = _this.updateState.bind(_this);

    _this.render = _this.render.bind(_this);

    // Camera controls
    _this.start = _this.start.bind(_this);
    _this.stop = _this.stop.bind(_this);
    _this.takeSnapshot = _this.takeSnapshot.bind(_this);

    _this.webcam = new WebcamProvider(_this.opts, _this.params);
    _this.webcamActive = false;
    return _this;
  }

  Webcam.prototype.start = function start() {
    var _this2 = this;

    this.webcamActive = true;

    this.webcam.start().then(function (stream) {
      _this2.stream = stream;
      _this2.updateState({
        // videoStream: stream,
        cameraReady: true
      });
    }).catch(function (err) {
      _this2.updateState({
        cameraError: err
      });
    });
  };

  Webcam.prototype.stop = function stop() {
    this.stream.getVideoTracks()[0].stop();
    this.webcamActive = false;
    this.stream = null;
    this.streamSrc = null;
  };

  Webcam.prototype.takeSnapshot = function takeSnapshot() {
    var opts = {
      name: 'webcam-' + Date.now() + '.jpg',
      mimeType: 'image/jpeg'
    };

    var video = document.querySelector('.UppyWebcam-video');

    var image = this.webcam.getImage(video, opts);

    var tagFile = {
      source: this.id,
      name: opts.name,
      data: image.data,
      type: opts.mimeType
    };

    this.core.emitter.emit('core:file-add', tagFile);
  };

  Webcam.prototype.render = function render(state) {
    if (!this.webcamActive) {
      this.start();
    }

    if (!state.webcam.cameraReady && !state.webcam.useTheFlash) {
      return PermissionsScreen(state.webcam);
    }

    if (!this.streamSrc) {
      this.streamSrc = this.stream ? URL.createObjectURL(this.stream) : null;
    }

    return CameraScreen(extend(state.webcam, {
      onSnapshot: this.takeSnapshot,
      onFocus: this.focus,
      onStop: this.stop,
      getSWFHTML: this.webcam.getSWFHTML,
      src: this.streamSrc
    }));
  };

  Webcam.prototype.focus = function focus() {
    var _this3 = this;

    setTimeout(function () {
      _this3.core.emitter.emit('informer', 'Smile!', 'info', 2000);
    }, 1000);
  };

  Webcam.prototype.install = function install() {
    this.webcam.init();
    this.core.setState({
      webcam: {
        cameraReady: false
      }
    });

    var target = this.opts.target;
    var plugin = this;
    this.target = this.mount(target, plugin);
  };

  /**
   * Little shorthand to update the state with my new state
   */


  Webcam.prototype.updateState = function updateState(newState) {
    var state = this.core.state;

    var webcam = _extends({}, state.webcam, newState);

    this.core.setState({ webcam: webcam });
  };

  return Webcam;
}(Plugin);

},{"../../core/Utils":35,"../../uppy-base/src/plugins/Webcam":71,"../Plugin":63,"./CameraScreen":66,"./PermissionsScreen":67,"./WebcamIcon":68}],70:[function(require,module,exports){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

require('whatwg-fetch');

var _getName = function _getName(id) {
  return id.split('-').map(function (s) {
    return s.charAt(0).toUpperCase() + s.slice(1);
  }).join(' ');
};

module.exports = function () {
  function Provider(opts) {
    _classCallCheck(this, Provider);

    this.opts = opts;
    this.provider = opts.provider;
    this.id = this.provider;
    this.authProvider = opts.authProvider || this.provider;
    this.name = this.opts.name || _getName(this.id);
  }

  _createClass(Provider, [{
    key: 'auth',
    value: function auth() {
      return fetch(this.opts.host + '/' + this.id + '/auth', {
        method: 'get',
        credentials: 'include',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application.json'
        }
      }).then(function (res) {
        return res.json().then(function (payload) {
          return payload.authenticated;
        });
      });
    }
  }, {
    key: 'list',
    value: function list(directory) {
      return fetch(this.opts.host + '/' + this.id + '/list/' + (directory || ''), {
        method: 'get',
        credentials: 'include',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        }
      }).then(function (res) {
        return res.json();
      });
    }
  }, {
    key: 'logout',
    value: function logout() {
      var redirect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : location.href;

      return fetch(this.opts.host + '/' + this.id + '/logout?redirect=' + redirect, {
        method: 'get',
        credentials: 'include',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        }
      });
    }
  }]);

  return Provider;
}();

},{"whatwg-fetch":18}],71:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var dataURItoFile = require('../utils/dataURItoFile');

/**
 * Webcam Plugin
 */
module.exports = function () {
  function Webcam() {
    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, Webcam);

    this._userMedia;
    this.userMedia = true;
    this.protocol = location.protocol.match(/https/i) ? 'https' : 'http';

    // set default options
    var defaultOptions = {
      enableFlash: true
    };

    var defaultParams = {
      swfURL: 'webcam.swf',
      width: 400,
      height: 300,
      dest_width: 800, // size of captured image
      dest_height: 600, // these default to width/height
      image_format: 'jpeg', // image format (may be jpeg or png)
      jpeg_quality: 90, // jpeg image quality from 0 (worst) to 100 (best)
      enable_flash: true, // enable flash fallback,
      force_flash: false, // force flash mode,
      flip_horiz: false, // flip image horiz (mirror mode)
      fps: 30, // camera frames per second
      upload_name: 'webcam', // name of file in upload post data
      constraints: null, // custom user media constraints,
      flashNotDetectedText: 'ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).',
      noInterfaceFoundText: 'No supported webcam interface found.',
      unfreeze_snap: true // Whether to unfreeze the camera after snap (defaults to true)
    };

    this.params = Object.assign({}, defaultParams, params);

    // merge default options with the ones set by user
    this.opts = Object.assign({}, defaultOptions, opts);

    // Camera controls
    this.start = this.start.bind(this);
    this.init = this.init.bind(this);
    this.stop = this.stop.bind(this);
    // this.startRecording = this.startRecording.bind(this)
    // this.stopRecording = this.stopRecording.bind(this)
    this.takeSnapshot = this.takeSnapshot.bind(this);
    this.getImage = this.getImage.bind(this);
    this.getSWFHTML = this.getSWFHTML.bind(this);
    this.detectFlash = this.detectFlash.bind(this);
    this.getUserMedia = this.getUserMedia.bind(this);
    this.getMediaDevices = this.getMediaDevices.bind(this);
  }

  /**
   * Checks for getUserMedia support
   */


  _createClass(Webcam, [{
    key: 'init',
    value: function init() {
      var _this = this;

      // initialize, check for getUserMedia support
      this.mediaDevices = this.getMediaDevices();

      this.userMedia = this.getUserMedia(this.mediaDevices);

      // Make sure media stream is closed when navigating away from page
      if (this.userMedia) {
        window.addEventListener('beforeunload', function (event) {
          _this.reset();
        });
      }

      return {
        mediaDevices: this.mediaDevices,
        userMedia: this.userMedia
      };
    }

    // Setup getUserMedia, with polyfill for older browsers
    // Adapted from: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia

  }, {
    key: 'getMediaDevices',
    value: function getMediaDevices() {
      return navigator.mediaDevices && navigator.mediaDevices.getUserMedia ? navigator.mediaDevices : navigator.mozGetUserMedia || navigator.webkitGetUserMedia ? {
        getUserMedia: function getUserMedia(opts) {
          return new Promise(function (resolve, reject) {
            (navigator.mozGetUserMedia || navigator.webkitGetUserMedia).call(navigator, opts, resolve, reject);
          });
        }
      } : null;
    }
  }, {
    key: 'getUserMedia',
    value: function getUserMedia(mediaDevices) {
      var userMedia = true;
      // Older versions of firefox (< 21) apparently claim support but user media does not actually work
      if (navigator.userAgent.match(/Firefox\D+(\d+)/)) {
        if (parseInt(RegExp.$1, 10) < 21) {
          return null;
        }
      }

      window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;
      return userMedia && !!mediaDevices && !!window.URL;
    }
  }, {
    key: 'start',
    value: function start() {
      var _this2 = this;

      this.userMedia = this._userMedia === undefined ? this.userMedia : this._userMedia;
      return new Promise(function (resolve, reject) {
        if (_this2.userMedia) {
          // ask user for access to their camera
          _this2.mediaDevices.getUserMedia({
            audio: false,
            video: true
          }).then(function (stream) {
            return resolve(stream);
          }).catch(function (err) {
            return reject(err);
          });
        }
      });
    }

    /**
     * Detects if browser supports flash
     * Code snippet borrowed from: https://github.com/swfobject/swfobject
     *
     * @return {bool} flash supported
     */

  }, {
    key: 'detectFlash',
    value: function detectFlash() {
      var SHOCKWAVE_FLASH = 'Shockwave Flash';
      var SHOCKWAVE_FLASH_AX = 'ShockwaveFlash.ShockwaveFlash';
      var FLASH_MIME_TYPE = 'application/x-shockwave-flash';
      var win = window;
      var nav = navigator;
      var hasFlash = false;

      if (typeof nav.plugins !== 'undefined' && _typeof(nav.plugins[SHOCKWAVE_FLASH]) === 'object') {
        var desc = nav.plugins[SHOCKWAVE_FLASH].description;
        if (desc && typeof nav.mimeTypes !== 'undefined' && nav.mimeTypes[FLASH_MIME_TYPE] && nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin) {
          hasFlash = true;
        }
      } else if (typeof win.ActiveXObject !== 'undefined') {
        try {
          var ax = new win.ActiveXObject(SHOCKWAVE_FLASH_AX);
          if (ax) {
            var ver = ax.GetVariable('$version');
            if (ver) hasFlash = true;
          }
        } catch (e) {}
      }

      return hasFlash;
    }
  }, {
    key: 'reset',
    value: function reset() {
      // shutdown camera, reset to potentially attach again
      if (this.preview_active) this.unfreeze();

      if (this.userMedia) {
        if (this.stream) {
          if (this.stream.getVideoTracks) {
            // get video track to call stop on it
            var tracks = this.stream.getVideoTracks();
            if (tracks && tracks[0] && tracks[0].stop) tracks[0].stop();
          } else if (this.stream.stop) {
            // deprecated, may be removed in future
            this.stream.stop();
          }
        }
        delete this.stream;
        delete this.video;
      }

      if (this.userMedia !== true) {
        // call for turn off camera in flash
        this.getMovie()._releaseCamera();
      }
    }
  }, {
    key: 'getSWFHTML',
    value: function getSWFHTML() {
      // Return HTML for embedding flash based webcam capture movie
      var swfURL = this.params.swfURL;

      // make sure we aren't running locally (flash doesn't work)
      if (location.protocol.match(/file/)) {
        return '<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';
      }

      // make sure we have flash
      if (!this.detectFlash()) {
        return '<h3 style="color:red">No flash</h3>';
      }

      // set default swfURL if not explicitly set
      if (!swfURL) {
        // find our script tag, and use that base URL
        var base_url = '';
        var scpts = document.getElementsByTagName('script');
        for (var idx = 0, len = scpts.length; idx < len; idx++) {
          var src = scpts[idx].getAttribute('src');
          if (src && src.match(/\/webcam(\.min)?\.js/)) {
            base_url = src.replace(/\/webcam(\.min)?\.js.*$/, '');
            idx = len;
          }
        }
        if (base_url) swfURL = base_url + '/webcam.swf';else swfURL = 'webcam.swf';
      }

      // // if this is the user's first visit, set flashvar so flash privacy settings panel is shown first
      // if (window.localStorage && !localStorage.getItem('visited')) {
      //   // this.params.new_user = 1
      //   localStorage.setItem('visited', 1)
      // }
      // this.params.new_user = 1
      // construct flashvars string
      var flashvars = '';
      for (var key in this.params) {
        if (flashvars) flashvars += '&';
        flashvars += key + '=' + escape(this.params[key]);
      }

      // construct object/embed tag

      return '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="' + this.protocol + '://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="' + this.params.width + '" height="' + this.params.height + '" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="' + swfURL + '" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="' + flashvars + '"/><embed id="webcam_movie_embed" src="' + swfURL + '" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="' + this.params.width + '" height="' + this.params.height + '" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="' + flashvars + '"></embed></object>';
    }
  }, {
    key: 'getMovie',
    value: function getMovie() {
      // get reference to movie object/embed in DOM
      var movie = document.getElementById('webcam_movie_obj');
      if (!movie || !movie._snap) movie = document.getElementById('webcam_movie_embed');
      if (!movie) console.log('getMovie error');
      return movie;
    }

    /**
     * Stops the webcam capture and video playback.
     */

  }, {
    key: 'stop',
    value: function stop() {
      var video = this.video;
      var videoStream = this.videoStream;


      this.updateState({
        cameraReady: false
      });

      if (videoStream) {
        if (videoStream.stop) {
          videoStream.stop();
        } else if (videoStream.msStop) {
          videoStream.msStop();
        }

        videoStream.onended = null;
        videoStream = null;
      }

      if (video) {
        video.onerror = null;
        video.pause();

        if (video.mozSrcObject) {
          video.mozSrcObject = null;
        }

        video.src = '';
      }

      this.video = document.querySelector('.UppyWebcam-video');
      this.canvas = document.querySelector('.UppyWebcam-canvas');
    }
  }, {
    key: 'flashNotify',
    value: function flashNotify(type, msg) {
      // receive notification from flash about event
      switch (type) {
        case 'flashLoadComplete':
          // movie loaded successfully
          break;

        case 'cameraLive':
          // camera is live and ready to snap
          this.live = true;
          break;

        case 'error':
          // Flash error
          console.log('There was a flash error', msg);
          break;

        default:
          // catch-all event, just in case
          console.log('webcam flash_notify: ' + type + ': ' + msg);
          break;
      }
    }
  }, {
    key: 'configure',
    value: function configure(panel) {
      // open flash configuration panel -- specify tab name:
      // 'camera', 'privacy', 'default', 'localStorage', 'microphone', 'settingsManager'
      if (!panel) panel = 'camera';
      this.getMovie()._configure(panel);
    }

    /**
     * Takes a snapshot and displays it in a canvas.
     */

  }, {
    key: 'getImage',
    value: function getImage(video, opts) {
      var canvas = document.createElement('canvas');
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      canvas.getContext('2d').drawImage(video, 0, 0);

      var dataUrl = canvas.toDataURL(opts.mimeType);

      var file = dataURItoFile(dataUrl, {
        name: opts.name
      });

      return {
        dataUrl: dataUrl,
        data: file,
        type: opts.mimeType
      };
    }
  }, {
    key: 'takeSnapshot',
    value: function takeSnapshot(video, canvas) {
      var opts = {
        name: 'webcam-' + Date.now() + '.jpg',
        mimeType: 'image/jpeg'
      };

      var image = this.getImage(video, canvas, opts);

      var tagFile = {
        source: this.id,
        name: opts.name,
        data: image.data,
        type: opts.type
      };

      return tagFile;
    }
  }]);

  return Webcam;
}();

},{"../utils/dataURItoFile":72}],72:[function(require,module,exports){
'use strict';

function dataURItoBlob(dataURI, opts, toFile) {
  // get the base64 data
  var data = dataURI.split(',')[1];

  // user may provide mime type, if not get it from data URI
  var mimeType = opts.mimeType || dataURI.split(',')[0].split(':')[1].split(';')[0];

  // default to plain/text if data URI has no mimeType
  if (mimeType == null) {
    mimeType = 'plain/text';
  }

  var binary = atob(data);
  var array = [];
  for (var i = 0; i < binary.length; i++) {
    array.push(binary.charCodeAt(i));
  }

  // Convert to a File?
  if (toFile) {
    return new File([new Uint8Array(array)], opts.name || '', { type: mimeType });
  }

  return new Blob([new Uint8Array(array)], { type: mimeType });
}

module.exports = function (dataURI, opts) {
  return dataURItoBlob(dataURI, opts, true);
};

},{}],73:[function(require,module,exports){

},{}],74:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],75:[function(require,module,exports){
'use strict';

var Uppy = require('../../../../src/core');
var Dashboard = require('../../../../src/plugins/Dashboard');
var GoogleDrive = require('../../../../src/plugins/GoogleDrive');
var Dropbox = require('../../../../src/plugins/Dropbox');
var Webcam = require('../../../../src/plugins/Webcam');
var Tus10 = require('../../../../src/plugins/Tus10');
var MetaData = require('../../../../src/plugins/MetaData');
var Informer = require('../../../../src/plugins/Informer');

var UPPY_SERVER = require('../env');

var PROTOCOL = location.protocol === 'https:' ? 'https' : 'http';
var TUS_ENDPOINT = PROTOCOL + '://master.tus.io/files/';

function uppyInit() {
  var opts = window.uppyOptions;
  var dashboardEl = document.querySelector('.UppyDashboard');
  if (dashboardEl) {
    var dashboardElParent = dashboardEl.parentNode;
    dashboardElParent.removeChild(dashboardEl);
  }

  var uppy = Uppy({ debug: true, autoProceed: opts.autoProceed });
  uppy.use(Dashboard, {
    trigger: '.UppyModalOpenerBtn',
    inline: opts.DashboardInline,
    target: opts.DashboardInline ? '.DashboardContainer' : 'body'
  });

  if (opts.GoogleDrive) {
    uppy.use(GoogleDrive, { target: Dashboard, host: UPPY_SERVER });
  }

  if (opts.Dropbox) {
    uppy.use(Dropbox, { target: Dashboard, host: UPPY_SERVER });
  }

  if (opts.Webcam) {
    uppy.use(Webcam, { target: Dashboard });
  }

  uppy.use(Tus10, { endpoint: TUS_ENDPOINT, resume: true });
  uppy.use(Informer, { target: Dashboard });
  uppy.use(MetaData, {
    fields: [{ id: 'resizeTo', name: 'Resize to', value: 1200, placeholder: 'specify future image size' }, { id: 'description', name: 'Description', value: 'none', placeholder: 'describe what the file is for' }]
  });
  uppy.run();

  uppy.on('core:success', function (fileCount) {
    console.log('Yo, uploaded: ' + fileCount);
  });
}

uppyInit();
window.uppyInit = uppyInit;

},{"../../../../src/core":36,"../../../../src/plugins/Dashboard":57,"../../../../src/plugins/Dropbox":59,"../../../../src/plugins/GoogleDrive":60,"../../../../src/plugins/Informer":61,"../../../../src/plugins/MetaData":62,"../../../../src/plugins/Tus10":64,"../../../../src/plugins/Webcam":69,"../env":76}],76:[function(require,module,exports){
'use strict';

var uppyServerEndpoint = 'http://localhost:3020';

if (location.hostname === 'uppy.io') {
  uppyServerEndpoint = '//server.uppy.io';
}

var UPPY_SERVER = uppyServerEndpoint;
module.exports = UPPY_SERVER;

},{}]},{},[75])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9ub2RlX21vZHVsZXMvZHJhZy1kcm9wL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC9ub2RlX21vZHVsZXMvZmxhdHRlbi9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Avbm9kZV9tb2R1bGVzL3J1bi1wYXJhbGxlbC9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL25hbWVzcGFjZS1lbWl0dGVyL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3ByZXR0eS1ieXRlcy9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9wcmV0dHktYnl0ZXMvbm9kZV9tb2R1bGVzL251bWJlci1pcy1uYW4vaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXM1L2Jyb3dzZXIvYmFzZTY0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3R1cy1qcy1jbGllbnQvbGliLmVzNS9icm93c2VyL3JlcXVlc3QuanMiLCIuLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXM1L2Jyb3dzZXIvc291cmNlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3R1cy1qcy1jbGllbnQvbGliLmVzNS9icm93c2VyL3N0b3JhZ2UuanMiLCIuLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXM1L2Vycm9yLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3R1cy1qcy1jbGllbnQvbGliLmVzNS9maW5nZXJwcmludC5qcyIsIi4uL25vZGVfbW9kdWxlcy90dXMtanMtY2xpZW50L2xpYi5lczUvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXM1L3VwbG9hZC5qcyIsIi4uL25vZGVfbW9kdWxlcy90dXMtanMtY2xpZW50L25vZGVfbW9kdWxlcy9leHRlbmQvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9ub2RlX21vZHVsZXMvcmVzb2x2ZS11cmwvcmVzb2x2ZS11cmwuanMiLCIuLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3lvLXlvL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3lvLXlvL25vZGVfbW9kdWxlcy9iZWwvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMveW8teW8vbm9kZV9tb2R1bGVzL2JlbC9ub2RlX21vZHVsZXMvZ2xvYmFsL2RvY3VtZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3lvLXlvL25vZGVfbW9kdWxlcy9iZWwvbm9kZV9tb2R1bGVzL2dsb2JhbC93aW5kb3cuanMiLCIuLi9ub2RlX21vZHVsZXMveW8teW8vbm9kZV9tb2R1bGVzL2JlbC9ub2RlX21vZHVsZXMvaHlwZXJ4L2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3lvLXlvL25vZGVfbW9kdWxlcy9iZWwvbm9kZV9tb2R1bGVzL2h5cGVyeC9ub2RlX21vZHVsZXMvaHlwZXJzY3JpcHQtYXR0cmlidXRlLXRvLXByb3BlcnR5L2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3lvLXlvL25vZGVfbW9kdWxlcy9iZWwvbm9kZV9tb2R1bGVzL29uLWxvYWQvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMveW8teW8vbm9kZV9tb2R1bGVzL21vcnBoZG9tL3NyYy9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy95by15by91cGRhdGUtZXZlbnRzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcyIsIi4uL25vZGVfbW9kdWxlcy95by15b2lmeS9ub2RlX21vZHVsZXMvb24tbG9hZC9ub2RlX21vZHVsZXMvZ2xvYmFsL2RvY3VtZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L25vZGVfbW9kdWxlcy9vbi1sb2FkL25vZGVfbW9kdWxlcy9nbG9iYWwvd2luZG93LmpzIiwiLi4vc3JjL2NvcmUvQ29yZS5qcyIsIi4uL3NyYy9jb3JlL1RyYW5zbGF0b3IuanMiLCIuLi9zcmMvY29yZS9VcHB5U29ja2V0LmpzIiwiLi4vc3JjL2NvcmUvVXRpbHMuanMiLCIuLi9zcmMvY29yZS9pbmRleC5qcyIsIi4uL3NyYy9nZW5lcmljLXByb3ZpZGVyLXZpZXdzL0F1dGhWaWV3LmpzIiwiLi4vc3JjL2dlbmVyaWMtcHJvdmlkZXItdmlld3MvRXJyb3IuanMiLCIuLi9zcmMvZ2VuZXJpYy1wcm92aWRlci12aWV3cy9pbmRleC5qcyIsIi4uL3NyYy9nZW5lcmljLXByb3ZpZGVyLXZpZXdzL25ldy9CcmVhZGNydW1iLmpzIiwiLi4vc3JjL2dlbmVyaWMtcHJvdmlkZXItdmlld3MvbmV3L0JyZWFkY3J1bWJzLmpzIiwiLi4vc3JjL2dlbmVyaWMtcHJvdmlkZXItdmlld3MvbmV3L0Jyb3dzZXIuanMiLCIuLi9zcmMvZ2VuZXJpYy1wcm92aWRlci12aWV3cy9uZXcvVGFibGUuanMiLCIuLi9zcmMvZ2VuZXJpYy1wcm92aWRlci12aWV3cy9uZXcvVGFibGVDb2x1bW4uanMiLCIuLi9zcmMvZ2VuZXJpYy1wcm92aWRlci12aWV3cy9uZXcvVGFibGVSb3cuanMiLCIuLi9zcmMvcGx1Z2lucy9EYXNoYm9hcmQvQWN0aW9uQnJvd3NlVGFnbGluZS5qcyIsIi4uL3NyYy9wbHVnaW5zL0Rhc2hib2FyZC9EYXNoYm9hcmQuanMiLCIuLi9zcmMvcGx1Z2lucy9EYXNoYm9hcmQvRmlsZUNhcmQuanMiLCIuLi9zcmMvcGx1Z2lucy9EYXNoYm9hcmQvRmlsZUl0ZW0uanMiLCIuLi9zcmMvcGx1Z2lucy9EYXNoYm9hcmQvRmlsZUl0ZW1Qcm9ncmVzcy5qcyIsIi4uL3NyYy9wbHVnaW5zL0Rhc2hib2FyZC9GaWxlTGlzdC5qcyIsIi4uL3NyYy9wbHVnaW5zL0Rhc2hib2FyZC9TdGF0dXNCYXIuanMiLCIuLi9zcmMvcGx1Z2lucy9EYXNoYm9hcmQvVGFicy5qcyIsIi4uL3NyYy9wbHVnaW5zL0Rhc2hib2FyZC9VcGxvYWRCdG4uanMiLCIuLi9zcmMvcGx1Z2lucy9EYXNoYm9hcmQvZ2V0RmlsZVR5cGVJY29uLmpzIiwiLi4vc3JjL3BsdWdpbnMvRGFzaGJvYXJkL2ljb25zLmpzIiwiLi4vc3JjL3BsdWdpbnMvRGFzaGJvYXJkL2luZGV4LmpzIiwiLi4vc3JjL3BsdWdpbnMvRHJvcGJveC9pY29ucy5qcyIsIi4uL3NyYy9wbHVnaW5zL0Ryb3Bib3gvaW5kZXguanMiLCIuLi9zcmMvcGx1Z2lucy9Hb29nbGVEcml2ZS9pbmRleC5qcyIsIi4uL3NyYy9wbHVnaW5zL0luZm9ybWVyLmpzIiwiLi4vc3JjL3BsdWdpbnMvTWV0YURhdGEuanMiLCIuLi9zcmMvcGx1Z2lucy9QbHVnaW4uanMiLCIuLi9zcmMvcGx1Z2lucy9UdXMxMC5qcyIsIi4uL3NyYy9wbHVnaW5zL1dlYmNhbS9DYW1lcmFJY29uLmpzIiwiLi4vc3JjL3BsdWdpbnMvV2ViY2FtL0NhbWVyYVNjcmVlbi5qcyIsIi4uL3NyYy9wbHVnaW5zL1dlYmNhbS9QZXJtaXNzaW9uc1NjcmVlbi5qcyIsIi4uL3NyYy9wbHVnaW5zL1dlYmNhbS9XZWJjYW1JY29uLmpzIiwiLi4vc3JjL3BsdWdpbnMvV2ViY2FtL2luZGV4LmpzIiwiLi4vc3JjL3VwcHktYmFzZS9zcmMvcGx1Z2lucy9Qcm92aWRlci5qcyIsIi4uL3NyYy91cHB5LWJhc2Uvc3JjL3BsdWdpbnMvV2ViY2FtLmpzIiwiLi4vc3JjL3VwcHktYmFzZS9zcmMvdXRpbHMvZGF0YVVSSXRvRmlsZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXJlc29sdmUvZW1wdHkuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwic3JjL2V4YW1wbGVzL2Rhc2hib2FyZC9hcHAuZXM2Iiwic3JjL2V4YW1wbGVzL2Vudi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMvN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDamJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTZCLElBQTdCLENBQVA7QUFDRCxDQUZEOzs7QUMxQkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNwTEEsSUFBTSxPQUFPLFFBQVEsc0JBQVIsQ0FBYjtBQUNBLElBQU0sWUFBWSxRQUFRLG1DQUFSLENBQWxCO0FBQ0EsSUFBTSxjQUFjLFFBQVEscUNBQVIsQ0FBcEI7QUFDQSxJQUFNLFVBQVUsUUFBUSxpQ0FBUixDQUFoQjtBQUNBLElBQU0sU0FBUyxRQUFRLGdDQUFSLENBQWY7QUFDQSxJQUFNLFFBQVEsUUFBUSwrQkFBUixDQUFkO0FBQ0EsSUFBTSxXQUFXLFFBQVEsa0NBQVIsQ0FBakI7QUFDQSxJQUFNLFdBQVcsUUFBUSxrQ0FBUixDQUFqQjs7QUFFQSxJQUFNLGNBQWMsUUFBUSxRQUFSLENBQXBCOztBQUVBLElBQU0sV0FBVyxTQUFTLFFBQVQsS0FBc0IsUUFBdEIsR0FBaUMsT0FBakMsR0FBMkMsTUFBNUQ7QUFDQSxJQUFNLGVBQWUsV0FBVyx5QkFBaEM7O0FBRUEsU0FBUyxRQUFULEdBQXFCO0FBQ25CLE1BQU0sT0FBTyxPQUFPLFdBQXBCO0FBQ0EsTUFBTSxjQUFjLFNBQVMsYUFBVCxDQUF1QixnQkFBdkIsQ0FBcEI7QUFDQSxNQUFJLFdBQUosRUFBaUI7QUFDZixRQUFNLG9CQUFvQixZQUFZLFVBQXRDO0FBQ0Esc0JBQWtCLFdBQWxCLENBQThCLFdBQTlCO0FBQ0Q7O0FBRUQsTUFBTSxPQUFPLEtBQUssRUFBQyxPQUFPLElBQVIsRUFBYyxhQUFhLEtBQUssV0FBaEMsRUFBTCxDQUFiO0FBQ0EsT0FBSyxHQUFMLENBQVMsU0FBVCxFQUFvQjtBQUNsQixhQUFTLHFCQURTO0FBRWxCLFlBQVEsS0FBSyxlQUZLO0FBR2xCLFlBQVEsS0FBSyxlQUFMLEdBQXVCLHFCQUF2QixHQUErQztBQUhyQyxHQUFwQjs7QUFNQSxNQUFJLEtBQUssV0FBVCxFQUFzQjtBQUNwQixTQUFLLEdBQUwsQ0FBUyxXQUFULEVBQXNCLEVBQUMsUUFBUSxTQUFULEVBQW9CLE1BQU0sV0FBMUIsRUFBdEI7QUFDRDs7QUFFRCxNQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNoQixTQUFLLEdBQUwsQ0FBUyxPQUFULEVBQWtCLEVBQUMsUUFBUSxTQUFULEVBQW9CLE1BQU0sV0FBMUIsRUFBbEI7QUFDRDs7QUFFRCxNQUFJLEtBQUssTUFBVCxFQUFpQjtBQUNmLFNBQUssR0FBTCxDQUFTLE1BQVQsRUFBaUIsRUFBQyxRQUFRLFNBQVQsRUFBakI7QUFDRDs7QUFFRCxPQUFLLEdBQUwsQ0FBUyxLQUFULEVBQWdCLEVBQUMsVUFBVSxZQUFYLEVBQXlCLFFBQVEsSUFBakMsRUFBaEI7QUFDQSxPQUFLLEdBQUwsQ0FBUyxRQUFULEVBQW1CLEVBQUMsUUFBUSxTQUFULEVBQW5CO0FBQ0EsT0FBSyxHQUFMLENBQVMsUUFBVCxFQUFtQjtBQUNqQixZQUFRLENBQ04sRUFBRSxJQUFJLFVBQU4sRUFBa0IsTUFBTSxXQUF4QixFQUFxQyxPQUFPLElBQTVDLEVBQWtELGFBQWEsMkJBQS9ELEVBRE0sRUFFTixFQUFFLElBQUksYUFBTixFQUFxQixNQUFNLGFBQTNCLEVBQTBDLE9BQU8sTUFBakQsRUFBeUQsYUFBYSwrQkFBdEUsRUFGTTtBQURTLEdBQW5CO0FBTUEsT0FBSyxHQUFMOztBQUVBLE9BQUssRUFBTCxDQUFRLGNBQVIsRUFBd0IsVUFBQyxTQUFELEVBQWU7QUFDckMsWUFBUSxHQUFSLENBQVksbUJBQW1CLFNBQS9CO0FBQ0QsR0FGRDtBQUdEOztBQUVEO0FBQ0EsT0FBTyxRQUFQLEdBQWtCLFFBQWxCOzs7OztBQ3pEQSxJQUFJLHFCQUFxQix1QkFBekI7O0FBRUEsSUFBSSxTQUFTLFFBQVQsS0FBc0IsU0FBMUIsRUFBcUM7QUFDbkMsdUJBQXFCLGtCQUFyQjtBQUNEOztBQUVELElBQU0sY0FBYyxrQkFBcEI7QUFDQSxPQUFPLE9BQVAsR0FBaUIsV0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBkcmFnRHJvcFxuXG52YXIgZmxhdHRlbiA9IHJlcXVpcmUoJ2ZsYXR0ZW4nKVxudmFyIHBhcmFsbGVsID0gcmVxdWlyZSgncnVuLXBhcmFsbGVsJylcblxuZnVuY3Rpb24gZHJhZ0Ryb3AgKGVsZW0sIGxpc3RlbmVycykge1xuICBpZiAodHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbSA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pXG4gIH1cblxuICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxpc3RlbmVycyA9IHsgb25Ecm9wOiBsaXN0ZW5lcnMgfVxuICB9XG5cbiAgdmFyIHRpbWVvdXRcblxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHN0b3BFdmVudCwgZmFsc2UpXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBvbkRyYWdPdmVyLCBmYWxzZSlcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBvbkRyYWdMZWF2ZSwgZmFsc2UpXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCwgZmFsc2UpXG5cbiAgLy8gRnVuY3Rpb24gdG8gcmVtb3ZlIGRyYWctZHJvcCBsaXN0ZW5lcnNcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZSAoKSB7XG4gICAgcmVtb3ZlRHJhZ0NsYXNzKClcbiAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHN0b3BFdmVudCwgZmFsc2UpXG4gICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRHJhZ092ZXIsIGZhbHNlKVxuICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgb25EcmFnTGVhdmUsIGZhbHNlKVxuICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCwgZmFsc2UpXG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdPdmVyIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGlmIChlLmRhdGFUcmFuc2Zlci5pdGVtcykge1xuICAgICAgLy8gT25seSBhZGQgXCJkcmFnXCIgY2xhc3Mgd2hlbiBgaXRlbXNgIGNvbnRhaW5zIGEgZmlsZVxuICAgICAgdmFyIGl0ZW1zID0gdG9BcnJheShlLmRhdGFUcmFuc2Zlci5pdGVtcykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmtpbmQgPT09ICdmaWxlJ1xuICAgICAgfSlcbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVyblxuICAgIH1cblxuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnZHJhZycpXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ092ZXIpIHtcbiAgICAgIGxpc3RlbmVycy5vbkRyYWdPdmVyKGUpXG4gICAgfVxuXG4gICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5J1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnTGVhdmUgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnTGVhdmUoZSlcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChyZW1vdmVEcmFnQ2xhc3MsIDUwKVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBvbkRyb3AgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnTGVhdmUoZSlcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICByZW1vdmVEcmFnQ2xhc3MoKVxuXG4gICAgdmFyIHBvcyA9IHtcbiAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgIHk6IGUuY2xpZW50WVxuICAgIH1cblxuICAgIGlmIChlLmRhdGFUcmFuc2Zlci5pdGVtcykge1xuICAgICAgLy8gSGFuZGxlIGRpcmVjdG9yaWVzIGluIENocm9tZSB1c2luZyB0aGUgcHJvcHJpZXRhcnkgRmlsZVN5c3RlbSBBUElcbiAgICAgIHZhciBpdGVtcyA9IHRvQXJyYXkoZS5kYXRhVHJhbnNmZXIuaXRlbXMpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5raW5kID09PSAnZmlsZSdcbiAgICAgIH0pXG5cbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgICBwYXJhbGxlbChpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgIHByb2Nlc3NFbnRyeShpdGVtLndlYmtpdEdldEFzRW50cnkoKSwgY2IpXG4gICAgICAgIH1cbiAgICAgIH0pLCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgIC8vIFRoaXMgY2F0Y2hlcyBwZXJtaXNzaW9uIGVycm9ycyB3aXRoIGZpbGU6Ly8gaW4gQ2hyb21lLiBUaGlzIHNob3VsZCBuZXZlclxuICAgICAgICAvLyB0aHJvdyBpbiBwcm9kdWN0aW9uIGNvZGUsIHNvIHRoZSB1c2VyIGRvZXMgbm90IG5lZWQgdG8gdXNlIHRyeS1jYXRjaC5cbiAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMub25Ecm9wKSB7XG4gICAgICAgICAgbGlzdGVuZXJzLm9uRHJvcChmbGF0dGVuKHJlc3VsdHMpLCBwb3MpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmaWxlcyA9IHRvQXJyYXkoZS5kYXRhVHJhbnNmZXIuZmlsZXMpXG5cbiAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIGZpbGUuZnVsbFBhdGggPSAnLycgKyBmaWxlLm5hbWVcbiAgICAgIH0pXG5cbiAgICAgIGlmIChsaXN0ZW5lcnMub25Ecm9wKSB7XG4gICAgICAgIGxpc3RlbmVycy5vbkRyb3AoZmlsZXMsIHBvcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZURyYWdDbGFzcyAoKSB7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnJylcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wRXZlbnQgKGUpIHtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICBlLnByZXZlbnREZWZhdWx0KClcbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NFbnRyeSAoZW50cnksIGNiKSB7XG4gIHZhciBlbnRyaWVzID0gW11cblxuICBpZiAoZW50cnkuaXNGaWxlKSB7XG4gICAgZW50cnkuZmlsZShmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgZmlsZS5mdWxsUGF0aCA9IGVudHJ5LmZ1bGxQYXRoICAvLyBwcmVzZXJ2ZSBwYXRoaW5nIGZvciBjb25zdW1lclxuICAgICAgY2IobnVsbCwgZmlsZSlcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYihlcnIpXG4gICAgfSlcbiAgfSBlbHNlIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgIHZhciByZWFkZXIgPSBlbnRyeS5jcmVhdGVSZWFkZXIoKVxuICAgIHJlYWRFbnRyaWVzKClcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRFbnRyaWVzICgpIHtcbiAgICByZWFkZXIucmVhZEVudHJpZXMoZnVuY3Rpb24gKGVudHJpZXNfKSB7XG4gICAgICBpZiAoZW50cmllc18ubGVuZ3RoID4gMCkge1xuICAgICAgICBlbnRyaWVzID0gZW50cmllcy5jb25jYXQodG9BcnJheShlbnRyaWVzXykpXG4gICAgICAgIHJlYWRFbnRyaWVzKCkgLy8gY29udGludWUgcmVhZGluZyBlbnRyaWVzIHVudGlsIGByZWFkRW50cmllc2AgcmV0dXJucyBubyBtb3JlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lRW50cmllcygpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmVFbnRyaWVzICgpIHtcbiAgICBwYXJhbGxlbChlbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgcHJvY2Vzc0VudHJ5KGVudHJ5LCBjYilcbiAgICAgIH1cbiAgICB9KSwgY2IpXG4gIH1cbn1cblxuZnVuY3Rpb24gdG9BcnJheSAobGlzdCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobGlzdCB8fCBbXSwgMClcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmxhdHRlbihsaXN0LCBkZXB0aCkge1xuICBkZXB0aCA9ICh0eXBlb2YgZGVwdGggPT0gJ251bWJlcicpID8gZGVwdGggOiBJbmZpbml0eTtcblxuICBpZiAoIWRlcHRoKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobGlzdCkpIHtcbiAgICAgIHJldHVybiBsaXN0Lm1hcChmdW5jdGlvbihpKSB7IHJldHVybiBpOyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICByZXR1cm4gX2ZsYXR0ZW4obGlzdCwgMSk7XG5cbiAgZnVuY3Rpb24gX2ZsYXR0ZW4obGlzdCwgZCkge1xuICAgIHJldHVybiBsaXN0LnJlZHVjZShmdW5jdGlvbiAoYWNjLCBpdGVtKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSAmJiBkIDwgZGVwdGgpIHtcbiAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQoX2ZsYXR0ZW4oaXRlbSwgZCArIDEpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChpdGVtKTtcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXNrcywgY2IpIHtcbiAgdmFyIHJlc3VsdHMsIHBlbmRpbmcsIGtleXNcbiAgdmFyIGlzU3luYyA9IHRydWVcblxuICBpZiAoQXJyYXkuaXNBcnJheSh0YXNrcykpIHtcbiAgICByZXN1bHRzID0gW11cbiAgICBwZW5kaW5nID0gdGFza3MubGVuZ3RoXG4gIH0gZWxzZSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHRhc2tzKVxuICAgIHJlc3VsdHMgPSB7fVxuICAgIHBlbmRpbmcgPSBrZXlzLmxlbmd0aFxuICB9XG5cbiAgZnVuY3Rpb24gZG9uZSAoZXJyKSB7XG4gICAgZnVuY3Rpb24gZW5kICgpIHtcbiAgICAgIGlmIChjYikgY2IoZXJyLCByZXN1bHRzKVxuICAgICAgY2IgPSBudWxsXG4gICAgfVxuICAgIGlmIChpc1N5bmMpIHByb2Nlc3MubmV4dFRpY2soZW5kKVxuICAgIGVsc2UgZW5kKClcbiAgfVxuXG4gIGZ1bmN0aW9uIGVhY2ggKGksIGVyciwgcmVzdWx0KSB7XG4gICAgcmVzdWx0c1tpXSA9IHJlc3VsdFxuICAgIGlmICgtLXBlbmRpbmcgPT09IDAgfHwgZXJyKSB7XG4gICAgICBkb25lKGVycilcbiAgICB9XG4gIH1cblxuICBpZiAoIXBlbmRpbmcpIHtcbiAgICAvLyBlbXB0eVxuICAgIGRvbmUobnVsbClcbiAgfSBlbHNlIGlmIChrZXlzKSB7XG4gICAgLy8gb2JqZWN0XG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHRhc2tzW2tleV0oZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7IGVhY2goa2V5LCBlcnIsIHJlc3VsdCkgfSlcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIC8vIGFycmF5XG4gICAgdGFza3MuZm9yRWFjaChmdW5jdGlvbiAodGFzaywgaSkge1xuICAgICAgdGFzayhmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHsgZWFjaChpLCBlcnIsIHJlc3VsdCkgfSlcbiAgICB9KVxuICB9XG5cbiAgaXNTeW5jID0gZmFsc2Vcbn1cbiIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qYWtlYXJjaGliYWxkL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDMuMi4xXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheSA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm47XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuXSA9IGNhbGxiYWNrO1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2xpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKyAxXSA9IGFyZztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKz0gMjtcbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID09PSAyKSB7XG4gICAgICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAgICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAgICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcChhc2FwRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwID0gYXNhcEZuO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgfHwge307XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4gICAgLy8gdGVzdCBmb3Igd2ViIHdvcmtlciBidXQgbm90IGluIElFMTBcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4gICAgLy8gbm9kZVxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpIHtcbiAgICAgIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jdWpvanMvd2hlbi9pc3N1ZXMvNDEwIGZvciBkZXRhaWxzXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2sobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gdmVydHhcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gd2ViIHdvcmtlclxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuOyBpKz0yKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGFyZyA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdO1xuXG4gICAgICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0eCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByID0gcmVxdWlyZTtcbiAgICAgICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dCA9IHZlcnR4LnJ1bk9uTG9vcCB8fCB2ZXJ0eC5ydW5PbkNvbnRleHQ7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaDtcbiAgICAvLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydHgoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdGhlbiQkdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlsZCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoY2hpbGRbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRtYWtlUHJvbWlzZShjaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbc3RhdGUgLSAxXTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAoZnVuY3Rpb24oKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCBwYXJlbnQuX3Jlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkdGhlbiQkdGhlbjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlKG9iamVjdCkge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmU7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMTYpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCgpIHt9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAgID0gdm9pZCAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQgPSAxO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCAgPSAyO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsZmlsbG1lbnQoKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHByb21pc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW47XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4pIHtcbiAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICAgICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gICAgICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICAgICAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiZcbiAgICAgICAgICB0aGVuID09PSBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCAmJlxuICAgICAgICAgIGNvbnN0cnVjdG9yLnJlc29sdmUgPT09IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxmaWxsbWVudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHZhbHVlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQ7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcHJvbWlzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIGxlbmd0aCA9IHN1YnNjcmliZXJzLmxlbmd0aDtcblxuICAgICAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRF0gID0gb25SZWplY3Rpb247XG5cbiAgICAgIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwYXJlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSkge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7IHJldHVybjsgfVxuXG4gICAgICB2YXIgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICAgICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdmFyIGhhc0NhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdmFsdWUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUikge1xuICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgZXJyb3IgPSB2YWx1ZS5lcnJvcjtcbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgICAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpZCA9IDA7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbmV4dElkKCkge1xuICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGlkKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbWFrZVByb21pc2UocHJvbWlzZSkge1xuICAgICAgcHJvbWlzZVtsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGlkKys7XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGwoZW50cmllcykge1xuICAgICAgcmV0dXJuIG5ldyBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCh0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGw7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZShlbnRyaWVzKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoZW50cmllcykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2U7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3QocmVhc29uKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0O1xuXG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlO1xuICAgIC8qKlxuICAgICAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICAgICAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgICAgIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICAgICAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIFRlcm1pbm9sb2d5XG4gICAgICAtLS0tLS0tLS0tLVxuXG4gICAgICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAgICAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAgICAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gICAgICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gICAgICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICAgICAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gICAgICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICAgICAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICAgICAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgICAgIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICAgICAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICAgICAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gICAgICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gICAgICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gICAgICBCYXNpYyBVc2FnZTpcbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBgYGBqc1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gb24gc3VjY2Vzc1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgICAgICAvLyBvbiBmYWlsdXJlXG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBvbiBmdWxmaWxsbWVudFxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIC8vIG9uIHJlamVjdGlvblxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgVXNhZ2U6XG4gICAgICAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICAgICAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgLy8gb24gcmVqZWN0aW9uXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gICAgICBgYGBqc1xuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICAgICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgICAgIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICAgICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgICAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBjbGFzcyBQcm9taXNlXG4gICAgICBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlclxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQGNvbnN0cnVjdG9yXG4gICAgKi9cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZShyZXNvbHZlcikge1xuICAgICAgdGhpc1tsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5leHRJZCgpO1xuICAgICAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgICAgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nICYmIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc1Jlc29sdmVyKCk7XG4gICAgICAgIHRoaXMgaW5zdGFuY2VvZiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSA/IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLmFsbCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yYWNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZXNvbHZlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZWplY3QgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldFNjaGVkdWxlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXI7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldEFzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fYXNhcCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwO1xuXG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLFxuXG4gICAgLyoqXG4gICAgICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQ2hhaW5pbmdcbiAgICAgIC0tLS0tLS0tXG5cbiAgICAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gICAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICAgICAgfSk7XG5cbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIHJlamVjdGVkLCBgcmVhc29uYCB3aWxsIGJlICdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jy5cbiAgICAgIH0pO1xuICAgICAgYGBgXG4gICAgICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBBc3NpbWlsYXRpb25cbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICAgICAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICAgICAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgICAgIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIElmIHRoZSBhc3NpbWxpYXRlZCBwcm9taXNlIHJlamVjdHMsIHRoZW4gdGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIGFsc28gcmVqZWN0LlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgU2ltcGxlIEV4YW1wbGVcbiAgICAgIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgRXhhbXBsZVxuICAgICAgLS0tLS0tLS0tLS0tLS1cblxuICAgICAgU3luY2hyb25vdXMgRXhhbXBsZVxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgYXV0aG9yLCBib29rcztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgICAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG5cbiAgICAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWlsdXJlKHJlYXNvbikge1xuXG4gICAgICB9XG5cbiAgICAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZEF1dGhvcigpLlxuICAgICAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICAgICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAgICAgLy8gZm91bmQgYm9va3NcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIHRoZW5cbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICB0aGVuOiBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCxcblxuICAgIC8qKlxuICAgICAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICAgICAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cblxuICAgICAgYGBganNcbiAgICAgIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZG4ndCBmaW5kIHRoYXQgYXV0aG9yJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHN5bmNocm9ub3VzXG4gICAgICB0cnkge1xuICAgICAgICBmaW5kQXV0aG9yKCk7XG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfVxuXG4gICAgICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gICAgICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgY2F0Y2hcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgICAgdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoIXRoaXMucHJvbWlzZVtsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGlucHV0KSkge1xuICAgICAgICB0aGlzLl9pbnB1dCAgICAgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5sZW5ndGggICAgID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5fcmVzdWx0ID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgdGhpcy5fZW51bWVyYXRlKCk7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QodGhpcy5wcm9taXNlLCBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkdmFsaWRhdGlvbkVycm9yKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCR2YWxpZGF0aW9uRXJyb3IoKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbmd0aCAgPSB0aGlzLmxlbmd0aDtcbiAgICAgIHZhciBpbnB1dCAgID0gdGhpcy5faW5wdXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbihlbnRyeSwgaSkge1xuICAgICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICAgICAgdmFyIHJlc29sdmUgPSBjLnJlc29sdmU7XG5cbiAgICAgIGlmIChyZXNvbHZlID09PSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0KSB7XG4gICAgICAgIHZhciB0aGVuID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihlbnRyeSk7XG5cbiAgICAgICAgaWYgKHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSR0aGVuJCRkZWZhdWx0ICYmXG4gICAgICAgICAgICBlbnRyeS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgICB0aGlzLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IGVudHJ5O1xuICAgICAgICB9IGVsc2UgaWYgKGMgPT09IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0KSB7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCB0aGVuKTtcbiAgICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uKHJlc29sdmUpIHsgcmVzb2x2ZShlbnRyeSk7IH0pLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUoZW50cnkpLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbihzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24ocHJvbWlzZSwgaSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsKCkge1xuICAgICAgdmFyIGxvY2FsO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IGdsb2JhbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIFAgPSBsb2NhbC5Qcm9taXNlO1xuXG4gICAgICBpZiAoUCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpID09PSAnW29iamVjdCBQcm9taXNlXScgJiYgIVAuY2FzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvY2FsLlByb21pc2UgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdDtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGw7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZSA9IHtcbiAgICAgICdQcm9taXNlJzogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQsXG4gICAgICAncG9seWZpbGwnOiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHRcbiAgICB9O1xuXG4gICAgLyogZ2xvYmFsIGRlZmluZTp0cnVlIG1vZHVsZTp0cnVlIHdpbmRvdzogdHJ1ZSAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZVsnYW1kJ10pIHtcbiAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7IH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlWydleHBvcnRzJ10pIHtcbiAgICAgIG1vZHVsZVsnZXhwb3J0cyddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpc1snRVM2UHJvbWlzZSddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQoKTtcbn0pLmNhbGwodGhpcyk7XG5cbiIsIi8qKlxuKiBDcmVhdGUgYW4gZXZlbnQgZW1pdHRlciB3aXRoIG5hbWVzcGFjZXNcbiogQG5hbWUgY3JlYXRlTmFtZXNwYWNlRW1pdHRlclxuKiBAZXhhbXBsZVxuKiB2YXIgZW1pdHRlciA9IHJlcXVpcmUoJy4vaW5kZXgnKSgpXG4qXG4qIGVtaXR0ZXIub24oJyonLCBmdW5jdGlvbiAoKSB7XG4qICAgY29uc29sZS5sb2coJ2FsbCBldmVudHMgZW1pdHRlZCcsIHRoaXMuZXZlbnQpXG4qIH0pXG4qXG4qIGVtaXR0ZXIub24oJ2V4YW1wbGUnLCBmdW5jdGlvbiAoKSB7XG4qICAgY29uc29sZS5sb2coJ2V4YW1wbGUgZXZlbnQgZW1pdHRlZCcpXG4qIH0pXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVOYW1lc3BhY2VFbWl0dGVyICgpIHtcbiAgdmFyIGVtaXR0ZXIgPSB7IF9mbnM6IHt9IH1cblxuICAvKipcbiAgKiBFbWl0IGFuIGV2ZW50LiBPcHRpb25hbGx5IG5hbWVzcGFjZSB0aGUgZXZlbnQuIFNlcGFyYXRlIHRoZSBuYW1lc3BhY2UgYW5kIGV2ZW50IHdpdGggYSBgOmBcbiAgKiBAbmFtZSBlbWl0XG4gICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IOKAkyB0aGUgbmFtZSBvZiB0aGUgZXZlbnQsIHdpdGggb3B0aW9uYWwgbmFtZXNwYWNlXG4gICogQHBhcmFtIHsuLi4qfSBkYXRhIOKAkyBkYXRhIHZhcmlhYmxlcyB0aGF0IHdpbGwgYmUgcGFzc2VkIGFzIGFyZ3VtZW50cyB0byB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgKiBAZXhhbXBsZVxuICAqIGVtaXR0ZXIuZW1pdCgnZXhhbXBsZScpXG4gICogZW1pdHRlci5lbWl0KCdkZW1vOnRlc3QnKVxuICAqIGVtaXR0ZXIuZW1pdCgnZGF0YScsIHsgZXhhbXBsZTogdHJ1ZX0sICdhIHN0cmluZycsIDEpXG4gICovXG4gIGVtaXR0ZXIuZW1pdCA9IGZ1bmN0aW9uIGVtaXQgKGV2ZW50KSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcbiAgICB2YXIgbmFtZXNwYWNlZCA9IG5hbWVzcGFjZXMoZXZlbnQpXG4gICAgaWYgKHRoaXMuX2Zuc1tldmVudF0pIGVtaXRBbGwoZXZlbnQsIHRoaXMuX2Zuc1tldmVudF0sIGFyZ3MpXG4gICAgaWYgKG5hbWVzcGFjZWQpIGVtaXRBbGwoZXZlbnQsIG5hbWVzcGFjZWQsIGFyZ3MpXG4gIH1cblxuICAvKipcbiAgKiBDcmVhdGUgZW4gZXZlbnQgbGlzdGVuZXIuXG4gICogQG5hbWUgb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAqIEBleGFtcGxlXG4gICogZW1pdHRlci5vbignZXhhbXBsZScsIGZ1bmN0aW9uICgpIHt9KVxuICAqIGVtaXR0ZXIub24oJ2RlbW8nLCBmdW5jdGlvbiAoKSB7fSlcbiAgKi9cbiAgZW1pdHRlci5vbiA9IGZ1bmN0aW9uIG9uIChldmVudCwgZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7IHRocm93IG5ldyBFcnJvcignY2FsbGJhY2sgcmVxdWlyZWQnKSB9XG4gICAgKHRoaXMuX2Zuc1tldmVudF0gPSB0aGlzLl9mbnNbZXZlbnRdIHx8IFtdKS5wdXNoKGZuKVxuICB9XG5cbiAgLyoqXG4gICogQ3JlYXRlIGVuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMgb25jZS5cbiAgKiBAbmFtZSBvbmNlXG4gICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgKiBAZXhhbXBsZVxuICAqIGVtaXR0ZXIub25jZSgnZXhhbXBsZScsIGZ1bmN0aW9uICgpIHt9KVxuICAqIGVtaXR0ZXIub25jZSgnZGVtbycsIGZ1bmN0aW9uICgpIHt9KVxuICAqL1xuICBlbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiBvbmNlIChldmVudCwgZm4pIHtcbiAgICBmdW5jdGlvbiBvbmUgKCkge1xuICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgZW1pdHRlci5vZmYoZXZlbnQsIG9uZSlcbiAgICB9XG4gICAgdGhpcy5vbihldmVudCwgb25lKVxuICB9XG5cbiAgLyoqXG4gICogU3RvcCBsaXN0ZW5pbmcgdG8gYW4gZXZlbnQuIFN0b3AgYWxsIGxpc3RlbmVycyBvbiBhbiBldmVudCBieSBvbmx5IHBhc3NpbmcgdGhlIGV2ZW50IG5hbWUuIFN0b3AgYSBzaW5nbGUgbGlzdGVuZXIgYnkgcGFzc2luZyB0aGF0IGV2ZW50IGhhbmRsZXIgYXMgYSBjYWxsYmFjay5cbiAgKiBZb3UgbXVzdCBiZSBleHBsaWNpdCBhYm91dCB3aGF0IHdpbGwgYmUgdW5zdWJzY3JpYmVkOiBgZW1pdHRlci5vZmYoJ2RlbW8nKWAgd2lsbCB1bnN1YnNjcmliZSBhbiBgZW1pdHRlci5vbignZGVtbycpYCBsaXN0ZW5lciwgXG4gICogYGVtaXR0ZXIub2ZmKCdkZW1vOmV4YW1wbGUnKWAgd2lsbCB1bnN1YnNjcmliZSBhbiBgZW1pdHRlci5vbignZGVtbzpleGFtcGxlJylgIGxpc3RlbmVyXG4gICogQG5hbWUgb2ZmXG4gICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXSDigJMgdGhlIHNwZWNpZmljIGhhbmRsZXJcbiAgKiBAZXhhbXBsZVxuICAqIGVtaXR0ZXIub2ZmKCdleGFtcGxlJylcbiAgKiBlbWl0dGVyLm9mZignZGVtbycsIGZ1bmN0aW9uICgpIHt9KVxuICAqL1xuICBlbWl0dGVyLm9mZiA9IGZ1bmN0aW9uIG9mZiAoZXZlbnQsIGZuKSB7XG4gICAgdmFyIGtlZXAgPSBbXVxuXG4gICAgaWYgKGV2ZW50ICYmIGZuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2Zucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fZm5zW2ldICE9PSBmbikge1xuICAgICAgICAgIGtlZXAucHVzaCh0aGlzLl9mbnNbaV0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBrZWVwLmxlbmd0aCA/IHRoaXMuX2Zuc1tldmVudF0gPSBrZWVwIDogZGVsZXRlIHRoaXMuX2Zuc1tldmVudF1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5hbWVzcGFjZXMgKGUpIHtcbiAgICB2YXIgb3V0ID0gW11cbiAgICB2YXIgYXJncyA9IGUuc3BsaXQoJzonKVxuICAgIHZhciBmbnMgPSBlbWl0dGVyLl9mbnNcbiAgICBPYmplY3Qua2V5cyhmbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJyonKSBvdXQgPSBvdXQuY29uY2F0KGZuc1trZXldKVxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gPT09IGtleSkgb3V0ID0gb3V0LmNvbmNhdChmbnNba2V5XSlcbiAgICB9KVxuICAgIHJldHVybiBvdXRcbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXRBbGwgKGUsIGZucywgYXJncykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWZuc1tpXSkgYnJlYWtcbiAgICAgIGZuc1tpXS5ldmVudCA9IGVcbiAgICAgIGZuc1tpXS5hcHBseShmbnNbaV0sIGFyZ3MpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVtaXR0ZXJcbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciBudW1iZXJJc05hbiA9IHJlcXVpcmUoJ251bWJlci1pcy1uYW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobnVtKSB7XG5cdGlmICh0eXBlb2YgbnVtICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hbihudW0pKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBudW1iZXIsIGdvdCAnICsgdHlwZW9mIG51bSk7XG5cdH1cblxuXHR2YXIgZXhwb25lbnQ7XG5cdHZhciB1bml0O1xuXHR2YXIgbmVnID0gbnVtIDwgMDtcblx0dmFyIHVuaXRzID0gWydCJywgJ2tCJywgJ01CJywgJ0dCJywgJ1RCJywgJ1BCJywgJ0VCJywgJ1pCJywgJ1lCJ107XG5cblx0aWYgKG5lZykge1xuXHRcdG51bSA9IC1udW07XG5cdH1cblxuXHRpZiAobnVtIDwgMSkge1xuXHRcdHJldHVybiAobmVnID8gJy0nIDogJycpICsgbnVtICsgJyBCJztcblx0fVxuXG5cdGV4cG9uZW50ID0gTWF0aC5taW4oTWF0aC5mbG9vcihNYXRoLmxvZyhudW0pIC8gTWF0aC5sb2coMTAwMCkpLCB1bml0cy5sZW5ndGggLSAxKTtcblx0bnVtID0gTnVtYmVyKChudW0gLyBNYXRoLnBvdygxMDAwLCBleHBvbmVudCkpLnRvRml4ZWQoMikpO1xuXHR1bml0ID0gdW5pdHNbZXhwb25lbnRdO1xuXG5cdHJldHVybiAobmVnID8gJy0nIDogJycpICsgbnVtICsgJyAnICsgdW5pdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiAoeCkge1xuXHRyZXR1cm4geCAhPT0geDtcbn07XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQmFiZWxcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5lbmNvZGUgPSBlbmNvZGU7XG4vKiBnbG9iYWw6IHdpbmRvdyAqL1xuXG52YXIgX3dpbmRvdyA9IHdpbmRvdztcbnZhciBidG9hID0gX3dpbmRvdy5idG9hO1xuZnVuY3Rpb24gZW5jb2RlKGRhdGEpIHtcbiAgcmV0dXJuIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpKSk7XG59XG5cbnZhciBpc1N1cHBvcnRlZCA9IGV4cG9ydHMuaXNTdXBwb3J0ZWQgPSBcImJ0b2FcIiBpbiB3aW5kb3c7IiwiLy8gR2VuZXJhdGVkIGJ5IEJhYmVsXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubmV3UmVxdWVzdCA9IG5ld1JlcXVlc3Q7XG5leHBvcnRzLnJlc29sdmVVcmwgPSByZXNvbHZlVXJsO1xuXG52YXIgX3Jlc29sdmVVcmwgPSByZXF1aXJlKFwicmVzb2x2ZS11cmxcIik7XG5cbnZhciBfcmVzb2x2ZVVybDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNvbHZlVXJsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gbmV3UmVxdWVzdCgpIHtcbiAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbn0gLyogZ2xvYmFsIHdpbmRvdyAqL1xuXG5cbmZ1bmN0aW9uIHJlc29sdmVVcmwob3JpZ2luLCBsaW5rKSB7XG4gIHJldHVybiAoMCwgX3Jlc29sdmVVcmwyLmRlZmF1bHQpKG9yaWdpbiwgbGluayk7XG59IiwiLy8gR2VuZXJhdGVkIGJ5IEJhYmVsXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZ2V0U291cmNlID0gZ2V0U291cmNlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRmlsZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRmlsZVNvdXJjZShmaWxlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbGVTb3VyY2UpO1xuXG4gICAgdGhpcy5fZmlsZSA9IGZpbGU7XG4gICAgdGhpcy5zaXplID0gZmlsZS5zaXplO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZpbGVTb3VyY2UsIFt7XG4gICAga2V5OiBcInNsaWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9maWxlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHt9XG4gIH1dKTtcblxuICByZXR1cm4gRmlsZVNvdXJjZTtcbn0oKTtcblxuZnVuY3Rpb24gZ2V0U291cmNlKGlucHV0KSB7XG4gIC8vIFNpbmNlIHdlIGVtdWxhdGUgdGhlIEJsb2IgdHlwZSBpbiBvdXIgdGVzdHMgKG5vdCBhbGwgdGFyZ2V0IGJyb3dzZXJzXG4gIC8vIHN1cHBvcnQgaXQpLCB3ZSBjYW5ub3QgdXNlIGBpbnN0YW5jZW9mYCBmb3IgdGVzdGluZyB3aGV0aGVyIHRoZSBpbnB1dCB2YWx1ZVxuICAvLyBjYW4gYmUgaGFuZGxlZC4gSW5zdGVhZCwgd2Ugc2ltcGx5IGNoZWNrIGlzIHRoZSBzbGljZSgpIGZ1bmN0aW9uIGFuZCB0aGVcbiAgLy8gc2l6ZSBwcm9wZXJ0eSBhcmUgYXZhaWxhYmxlLlxuICBpZiAodHlwZW9mIGlucHV0LnNsaWNlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGlucHV0LnNpemUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gbmV3IEZpbGVTb3VyY2UoaW5wdXQpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKFwic291cmNlIG9iamVjdCBtYXkgb25seSBiZSBhbiBpbnN0YW5jZSBvZiBGaWxlIG9yIEJsb2IgaW4gdGhpcyBlbnZpcm9ubWVudFwiKTtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgQmFiZWxcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zZXRJdGVtID0gc2V0SXRlbTtcbmV4cG9ydHMuZ2V0SXRlbSA9IGdldEl0ZW07XG5leHBvcnRzLnJlbW92ZUl0ZW0gPSByZW1vdmVJdGVtO1xuLyogZ2xvYmFsIHdpbmRvdywgbG9jYWxTdG9yYWdlICovXG5cbnZhciBoYXNTdG9yYWdlID0gZmFsc2U7XG50cnkge1xuICBoYXNTdG9yYWdlID0gXCJsb2NhbFN0b3JhZ2VcIiBpbiB3aW5kb3c7XG4gIC8vIEF0dGVtcHQgdG8gYWNjZXNzIGxvY2FsU3RvcmFnZVxuICBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xufSBjYXRjaCAoZSkge1xuICAvLyBJZiB3ZSB0cnkgdG8gYWNjZXNzIGxvY2FsU3RvcmFnZSBpbnNpZGUgYSBzYW5kYm94ZWQgaWZyYW1lLCBhIFNlY3VyaXR5RXJyb3JcbiAgLy8gaXMgdGhyb3duLlxuICBpZiAoZS5jb2RlID09PSBlLlNFQ1VSSVRZX0VSUikge1xuICAgIGhhc1N0b3JhZ2UgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbnZhciBjYW5TdG9yZVVSTHMgPSBleHBvcnRzLmNhblN0b3JlVVJMcyA9IGhhc1N0b3JhZ2U7XG5cbmZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICBpZiAoIWhhc1N0b3JhZ2UpIHJldHVybjtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBnZXRJdGVtKGtleSkge1xuICBpZiAoIWhhc1N0b3JhZ2UpIHJldHVybjtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5KSB7XG4gIGlmICghaGFzU3RvcmFnZSkgcmV0dXJuO1xuICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgQmFiZWxcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBEZXRhaWxlZEVycm9yID0gZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHMoRGV0YWlsZWRFcnJvciwgX0Vycm9yKTtcblxuICBmdW5jdGlvbiBEZXRhaWxlZEVycm9yKGVycm9yKSB7XG4gICAgdmFyIGNhdXNpbmdFcnIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuICAgIHZhciB4aHIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERldGFpbGVkRXJyb3IpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKERldGFpbGVkRXJyb3IpLmNhbGwodGhpcywgZXJyb3IubWVzc2FnZSkpO1xuXG4gICAgX3RoaXMub3JpZ2luYWxSZXF1ZXN0ID0geGhyO1xuICAgIF90aGlzLmNhdXNpbmdFcnJvciA9IGNhdXNpbmdFcnI7XG5cbiAgICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgaWYgKGNhdXNpbmdFcnIgIT0gbnVsbCkge1xuICAgICAgbWVzc2FnZSArPSBcIiwgY2F1c2VkIGJ5IFwiICsgY2F1c2luZ0Vyci50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAoeGhyICE9IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UgKz0gXCIsIG9yaWdpbmF0ZWQgZnJvbSByZXF1ZXN0IChyZXNwb25zZSBjb2RlOiBcIiArIHhoci5zdGF0dXMgKyBcIiwgcmVzcG9uc2UgdGV4dDogXCIgKyB4aHIucmVzcG9uc2VUZXh0ICsgXCIpXCI7XG4gICAgfVxuICAgIF90aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBEZXRhaWxlZEVycm9yO1xufShFcnJvcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERldGFpbGVkRXJyb3I7IiwiLy8gR2VuZXJhdGVkIGJ5IEJhYmVsXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGZpbmdlcnByaW50O1xuLyoqXG4gKiBHZW5lcmF0ZSBhIGZpbmdlcnByaW50IGZvciBhIGZpbGUgd2hpY2ggd2lsbCBiZSB1c2VkIHRoZSBzdG9yZSB0aGUgZW5kcG9pbnRcbiAqXG4gKiBAcGFyYW0ge0ZpbGV9IGZpbGVcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZmluZ2VycHJpbnQoZmlsZSkge1xuICByZXR1cm4gW1widHVzXCIsIGZpbGUubmFtZSwgZmlsZS50eXBlLCBmaWxlLnNpemUsIGZpbGUubGFzdE1vZGlmaWVkXS5qb2luKFwiLVwiKTtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgQmFiZWxcblwidXNlIHN0cmljdFwiO1xuXG52YXIgX3VwbG9hZCA9IHJlcXVpcmUoXCIuL3VwbG9hZFwiKTtcblxudmFyIF91cGxvYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBsb2FkKTtcblxudmFyIF9zdG9yYWdlID0gcmVxdWlyZShcIi4vbm9kZS9zdG9yYWdlXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKiBnbG9iYWwgd2luZG93ICovXG52YXIgZGVmYXVsdE9wdGlvbnMgPSBfdXBsb2FkMi5kZWZhdWx0LmRlZmF1bHRPcHRpb25zO1xuXG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIC8vIEJyb3dzZXIgZW52aXJvbm1lbnQgdXNpbmcgWE1MSHR0cFJlcXVlc3RcbiAgdmFyIF93aW5kb3cgPSB3aW5kb3c7XG4gIHZhciBYTUxIdHRwUmVxdWVzdCA9IF93aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG4gIHZhciBCbG9iID0gX3dpbmRvdy5CbG9iO1xuXG5cbiAgdmFyIGlzU3VwcG9ydGVkID0gWE1MSHR0cFJlcXVlc3QgJiYgQmxvYiAmJiB0eXBlb2YgQmxvYi5wcm90b3R5cGUuc2xpY2UgPT09IFwiZnVuY3Rpb25cIjtcbn0gZWxzZSB7XG4gIC8vIE5vZGUuanMgZW52aXJvbm1lbnQgdXNpbmcgaHR0cCBtb2R1bGVcbiAgdmFyIGlzU3VwcG9ydGVkID0gdHJ1ZTtcbn1cblxuLy8gVGhlIHVzYWdlIG9mIHRoZSBjb21tb25qcyBleHBvcnRpbmcgc3ludGF4IGluc3RlYWQgb2YgdGhlIG5ldyBFQ01BU2NyaXB0XG4vLyBvbmUgaXMgYWN0dWFsbHkgaW50ZWRlZCBhbmQgcHJldmVudHMgd2VpcmQgYmVoYXZpb3VyIGlmIHdlIGFyZSB0cnlpbmcgdG9cbi8vIGltcG9ydCB0aGlzIG1vZHVsZSBpbiBhbm90aGVyIG1vZHVsZSB1c2luZyBCYWJlbC5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBVcGxvYWQ6IF91cGxvYWQyLmRlZmF1bHQsXG4gIGlzU3VwcG9ydGVkOiBpc1N1cHBvcnRlZCxcbiAgY2FuU3RvcmVVUkxzOiBfc3RvcmFnZS5jYW5TdG9yZVVSTHMsXG4gIGRlZmF1bHRPcHRpb25zOiBkZWZhdWx0T3B0aW9uc1xufTsiLCIvLyBHZW5lcmF0ZWQgYnkgQmFiZWxcblwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvKiBnbG9iYWwgd2luZG93ICovXG5cblxuLy8gV2UgaW1wb3J0IHRoZSBmaWxlcyB1c2VkIGluc2lkZSB0aGUgTm9kZSBlbnZpcm9ubWVudCB3aGljaCBhcmUgcmV3cml0dGVuXG4vLyBmb3IgYnJvd3NlcnMgdXNpbmcgdGhlIHJ1bGVzIGRlZmluZWQgaW4gdGhlIHBhY2thZ2UuanNvblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZmluZ2VycHJpbnQgPSByZXF1aXJlKFwiLi9maW5nZXJwcmludFwiKTtcblxudmFyIF9maW5nZXJwcmludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maW5nZXJwcmludCk7XG5cbnZhciBfZXJyb3IgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcblxudmFyIF9lcnJvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcnJvcik7XG5cbnZhciBfZXh0ZW5kID0gcmVxdWlyZShcImV4dGVuZFwiKTtcblxudmFyIF9leHRlbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kKTtcblxudmFyIF9yZXF1ZXN0ID0gcmVxdWlyZShcIi4vbm9kZS9yZXF1ZXN0XCIpO1xuXG52YXIgX3NvdXJjZSA9IHJlcXVpcmUoXCIuL25vZGUvc291cmNlXCIpO1xuXG52YXIgX2Jhc2UgPSByZXF1aXJlKFwiLi9ub2RlL2Jhc2U2NFwiKTtcblxudmFyIEJhc2U2NCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9iYXNlKTtcblxudmFyIF9zdG9yYWdlID0gcmVxdWlyZShcIi4vbm9kZS9zdG9yYWdlXCIpO1xuXG52YXIgU3RvcmFnZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9zdG9yYWdlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICBlbmRwb2ludDogXCJcIixcbiAgZmluZ2VycHJpbnQ6IF9maW5nZXJwcmludDIuZGVmYXVsdCxcbiAgcmVzdW1lOiB0cnVlLFxuICBvblByb2dyZXNzOiBudWxsLFxuICBvbkNodW5rQ29tcGxldGU6IG51bGwsXG4gIG9uU3VjY2VzczogbnVsbCxcbiAgb25FcnJvcjogbnVsbCxcbiAgaGVhZGVyczoge30sXG4gIGNodW5rU2l6ZTogSW5maW5pdHksXG4gIHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gIHVwbG9hZFVybDogbnVsbCxcbiAgdXBsb2FkU2l6ZTogbnVsbCxcbiAgb3ZlcnJpZGVQYXRjaE1ldGhvZDogZmFsc2UsXG4gIHJldHJ5RGVsYXlzOiBudWxsXG59O1xuXG52YXIgVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBVcGxvYWQoZmlsZSwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVcGxvYWQpO1xuXG4gICAgdGhpcy5vcHRpb25zID0gKDAsIF9leHRlbmQyLmRlZmF1bHQpKHRydWUsIHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAvLyBUaGUgdW5kZXJseWluZyBGaWxlL0Jsb2Igb2JqZWN0XG4gICAgdGhpcy5maWxlID0gZmlsZTtcblxuICAgIC8vIFRoZSBVUkwgYWdhaW5zdCB3aGljaCB0aGUgZmlsZSB3aWxsIGJlIHVwbG9hZGVkXG4gICAgdGhpcy51cmwgPSBudWxsO1xuXG4gICAgLy8gVGhlIHVuZGVybHlpbmcgWEhSIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgUEFUQ0ggcmVxdWVzdFxuICAgIHRoaXMuX3hociA9IG51bGw7XG5cbiAgICAvLyBUaGUgZmluZ2VycGlucnQgZm9yIHRoZSBjdXJyZW50IGZpbGUgKHNldCBhZnRlciBzdGFydCgpKVxuICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gbnVsbDtcblxuICAgIC8vIFRoZSBvZmZzZXQgdXNlZCBpbiB0aGUgY3VycmVudCBQQVRDSCByZXF1ZXN0XG4gICAgdGhpcy5fb2Zmc2V0ID0gbnVsbDtcblxuICAgIC8vIFRydWUgaWYgdGhlIGN1cnJlbnQgUEFUQ0ggcmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkXG4gICAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlO1xuXG4gICAgLy8gVGhlIGZpbGUncyBzaXplIGluIGJ5dGVzXG4gICAgdGhpcy5fc2l6ZSA9IG51bGw7XG5cbiAgICAvLyBUaGUgU291cmNlIG9iamVjdCB3aGljaCB3aWxsIHdyYXAgYXJvdW5kIHRoZSBnaXZlbiBmaWxlIGFuZCBwcm92aWRlcyB1c1xuICAgIC8vIHdpdGggYSB1bmlmaWVkIGludGVyZmFjZSBmb3IgZ2V0dGluZyBpdHMgc2l6ZSBhbmQgc2xpY2UgY2h1bmtzIGZyb20gaXRzXG4gICAgLy8gY29udGVudCBhbGxvd2luZyB1cyB0byBlYXNpbHkgaGFuZGxlIEZpbGVzLCBCbG9icywgQnVmZmVycyBhbmQgU3RyZWFtcy5cbiAgICB0aGlzLl9zb3VyY2UgPSBudWxsO1xuXG4gICAgLy8gVGhlIGN1cnJlbnQgY291bnQgb2YgYXR0ZW1wdHMgd2hpY2ggaGF2ZSBiZWVuIG1hZGUuIE51bGwgaW5kaWNhdGVzIG5vbmUuXG4gICAgdGhpcy5fcmV0cnlBdHRlbXB0ID0gMDtcblxuICAgIC8vIFRoZSB0aW1lb3V0J3MgSUQgd2hpY2ggaXMgdXNlZCB0byBkZWxheSB0aGUgbmV4dCByZXRyeVxuICAgIHRoaXMuX3JldHJ5VGltZW91dCA9IG51bGw7XG5cbiAgICAvLyBUaGUgb2Zmc2V0IG9mIHRoZSByZW1vdGUgdXBsb2FkIGJlZm9yZSB0aGUgbGF0ZXN0IGF0dGVtcHQgd2FzIHN0YXJ0ZWQuXG4gICAgdGhpcy5fb2Zmc2V0QmVmb3JlUmV0cnkgPSAwO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFVwbG9hZCwgW3tcbiAgICBrZXk6IFwic3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZTtcblxuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJ0dXM6IG5vIGZpbGUgb3Igc3RyZWFtIHRvIHVwbG9hZCBwcm92aWRlZFwiKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZW5kcG9pbnQpIHtcbiAgICAgICAgdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcInR1czogbm8gZW5kcG9pbnQgcHJvdmlkZWRcIikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLl9zb3VyY2UgPSAoMCwgX3NvdXJjZS5nZXRTb3VyY2UpKGZpbGUsIHRoaXMub3B0aW9ucy5jaHVua1NpemUpO1xuXG4gICAgICAvLyBGaXJzdGx5LCBjaGVjayBpZiB0aGUgY2FsbGVyIGhhcyBzdXBwbGllZCBhIG1hbnVhbCB1cGxvYWQgc2l6ZSBvciBlbHNlXG4gICAgICAvLyB3ZSB3aWxsIHVzZSB0aGUgY2FsY3VsYXRlZCBzaXplIGJ5IHRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAgaWYgKHRoaXMub3B0aW9ucy51cGxvYWRTaXplICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHNpemUgPSArdGhpcy5vcHRpb25zLnVwbG9hZFNpemU7XG4gICAgICAgIGlmIChpc05hTihzaXplKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInR1czogY2Fubm90IGNvbnZlcnQgYHVwbG9hZFNpemVgIG9wdGlvbiBpbnRvIGEgbnVtYmVyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc2l6ZSA9IHNvdXJjZS5zaXplO1xuXG4gICAgICAgIC8vIFRoZSBzaXplIHByb3BlcnR5IHdpbGwgYmUgbnVsbCBpZiB3ZSBjYW5ub3QgY2FsY3VsYXRlIHRoZSBmaWxlJ3Mgc2l6ZSxcbiAgICAgICAgLy8gZm9yIGV4YW1wbGUgaWYgeW91IGhhbmRsZSBhIHN0cmVhbS5cbiAgICAgICAgaWYgKHNpemUgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInR1czogY2Fubm90IGF1dG9tYXRpY2FsbHkgZGVyaXZlIHVwbG9hZCdzIHNpemUgZnJvbSBpbnB1dCBhbmQgbXVzdCBiZSBzcGVjaWZpZWQgbWFudWFsbHkgdXNpbmcgdGhlIGB1cGxvYWRTaXplYCBvcHRpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldHJ5RGVsYXlzID0gdGhpcy5vcHRpb25zLnJldHJ5RGVsYXlzO1xuICAgICAgaWYgKHJldHJ5RGVsYXlzICE9IG51bGwpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyZXRyeURlbGF5cykgIT09IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInR1czogdGhlIGByZXRyeURlbGF5c2Agb3B0aW9uIG11c3QgZWl0aGVyIGJlIGFuIGFycmF5IG9yIG51bGxcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlcnJvckNhbGxiYWNrID0gX3RoaXMub3B0aW9ucy5vbkVycm9yO1xuICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbkVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBlcnJvciBjYWxsYmFjayB3aGljaCBtYXkgaGF2ZSBiZWVuIHNldC5cbiAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbkVycm9yID0gZXJyb3JDYWxsYmFjaztcblxuICAgICAgICAgICAgICAvLyBXZSB3aWxsIHJlc2V0IHRoZSBhdHRlbXB0IGNvdW50ZXIgaWZcbiAgICAgICAgICAgICAgLy8gLSB3ZSB3ZXJlIGFscmVhZHkgYWJsZSB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXIgKG9mZnNldCAhPSBudWxsKSBhbmRcbiAgICAgICAgICAgICAgLy8gLSB3ZSB3ZXJlIGFibGUgdG8gdXBsb2FkIGEgc21hbGwgY2h1bmsgb2YgZGF0YSB0byB0aGUgc2VydmVyXG4gICAgICAgICAgICAgIHZhciBzaG91bGRSZXNldERlbGF5cyA9IF90aGlzLl9vZmZzZXQgIT0gbnVsbCAmJiBfdGhpcy5fb2Zmc2V0ID4gX3RoaXMuX29mZnNldEJlZm9yZVJldHJ5O1xuICAgICAgICAgICAgICBpZiAoc2hvdWxkUmVzZXREZWxheXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmV0cnlBdHRlbXB0ID0gMDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBpc09ubGluZSA9IHRydWU7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIFwibmF2aWdhdG9yXCIgaW4gd2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3Iub25MaW5lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlzT25saW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBXZSBvbmx5IGF0dGVtcHQgYSByZXRyeSBpZlxuICAgICAgICAgICAgICAvLyAtIHdlIGRpZG4ndCBleGNlZWQgdGhlIG1heGl1bSBudW1iZXIgb2YgcmV0cmllcywgeWV0LCBhbmRcbiAgICAgICAgICAgICAgLy8gLSB0aGlzIGVycm9yIHdhcyBjYXVzZWQgYnkgYSByZXF1ZXN0IG9yIGl0J3MgcmVzcG9uc2UgYW5kXG4gICAgICAgICAgICAgIC8vIC0gdGhlIGJyb3dzZXIgZG9lcyBub3QgaW5kaWNhdGUgdGhhdCB3ZSBhcmUgb2ZmbGluZVxuICAgICAgICAgICAgICB2YXIgc2hvdWxkUmV0cnkgPSBfdGhpcy5fcmV0cnlBdHRlbXB0IDwgcmV0cnlEZWxheXMubGVuZ3RoICYmIGVyci5vcmlnaW5hbFJlcXVlc3QgIT0gbnVsbCAmJiBpc09ubGluZTtcblxuICAgICAgICAgICAgICBpZiAoIXNob3VsZFJldHJ5KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2VtaXRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBkZWxheSA9IHJldHJ5RGVsYXlzW190aGlzLl9yZXRyeUF0dGVtcHQrK107XG5cbiAgICAgICAgICAgICAgX3RoaXMuX29mZnNldEJlZm9yZVJldHJ5ID0gX3RoaXMuX29mZnNldDtcbiAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy51cGxvYWRVcmwgPSBfdGhpcy51cmw7XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3JldHJ5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBIFVSTCBoYXMgbWFudWFsbHkgYmVlbiBzcGVjaWZpZWQsIHNvIHdlIHRyeSB0byByZXN1bWVcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudXBsb2FkVXJsICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLm9wdGlvbnMudXBsb2FkVXJsO1xuICAgICAgICB0aGlzLl9yZXN1bWVVcGxvYWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUcnkgdG8gZmluZCB0aGUgZW5kcG9pbnQgZm9yIHRoZSBmaWxlIGluIHRoZSBzdG9yYWdlXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlc3VtZSkge1xuICAgICAgICB0aGlzLl9maW5nZXJwcmludCA9IHRoaXMub3B0aW9ucy5maW5nZXJwcmludChmaWxlKTtcbiAgICAgICAgdmFyIHJlc3VtZWRVcmwgPSBTdG9yYWdlLmdldEl0ZW0odGhpcy5fZmluZ2VycHJpbnQpO1xuXG4gICAgICAgIGlmIChyZXN1bWVkVXJsICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnVybCA9IHJlc3VtZWRVcmw7XG4gICAgICAgICAgdGhpcy5fcmVzdW1lVXBsb2FkKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFuIHVwbG9hZCBoYXMgbm90IHN0YXJ0ZWQgZm9yIHRoZSBmaWxlIHlldCwgc28gd2Ugc3RhcnQgYSBuZXcgb25lXG4gICAgICB0aGlzLl9jcmVhdGVVcGxvYWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWJvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICBpZiAodGhpcy5feGhyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgICAgICB0aGlzLl9zb3VyY2UuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fYWJvcnRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9yZXRyeVRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmV0cnlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcmV0cnlUaW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2VtaXRYaHJFcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW1pdFhockVycm9yKHhociwgZXJyLCBjYXVzaW5nRXJyKSB7XG4gICAgICB0aGlzLl9lbWl0RXJyb3IobmV3IF9lcnJvcjIuZGVmYXVsdChlcnIsIGNhdXNpbmdFcnIsIHhocikpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZW1pdEVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbWl0RXJyb3IoZXJyKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkVycm9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uRXJyb3IoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2VtaXRTdWNjZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbWl0U3VjY2VzcygpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU3VjY2VzcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vblN1Y2Nlc3MoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgbm90aWZpY2F0aW9uIHdoZW4gZGF0YSBoYXMgYmVlbiBzZW50IHRvIHRoZSBzZXJ2ZXIuIFRoaXNcbiAgICAgKiBkYXRhIG1heSBub3QgaGF2ZSBiZWVuIGFjY2VwdGVkIGJ5IHRoZSBzZXJ2ZXIgeWV0LlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gYnl0ZXNTZW50ICBOdW1iZXIgb2YgYnl0ZXMgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gYnl0ZXNUb3RhbCBUb3RhbCBudW1iZXIgb2YgYnl0ZXMgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2VtaXRQcm9ncmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW1pdFByb2dyZXNzKGJ5dGVzU2VudCwgYnl0ZXNUb3RhbCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25Qcm9ncmVzcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vblByb2dyZXNzKGJ5dGVzU2VudCwgYnl0ZXNUb3RhbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIG5vdGlmaWNhdGlvbiB3aGVuIGEgY2h1bmsgb2YgZGF0YSBoYXMgYmVlbiBzZW50IHRvIHRoZSBzZXJ2ZXJcbiAgICAgKiBhbmQgYWNjZXB0ZWQgYnkgdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGNodW5rU2l6ZSAgU2l6ZSBvZiB0aGUgY2h1bmsgdGhhdCB3YXMgYWNjZXB0ZWQgYnkgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGJ5dGVzQWNjZXB0ZWQgVG90YWwgbnVtYmVyIG9mIGJ5dGVzIHRoYXQgaGF2ZSBiZWVuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBieXRlc1RvdGFsIFRvdGFsIG51bWJlciBvZiBieXRlcyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZW1pdENodW5rQ29tcGxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2VtaXRDaHVua0NvbXBsZXRlKGNodW5rU2l6ZSwgYnl0ZXNBY2NlcHRlZCwgYnl0ZXNUb3RhbCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaHVua0NvbXBsZXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2h1bmtDb21wbGV0ZShjaHVua1NpemUsIGJ5dGVzQWNjZXB0ZWQsIGJ5dGVzVG90YWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaGVhZGVycyB1c2VkIGluIHRoZSByZXF1ZXN0IGFuZCB0aGUgd2l0aENyZWRlbnRpYWxzIHByb3BlcnR5XG4gICAgICogYXMgZGVmaW5lZCBpbiB0aGUgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0geGhyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfc2V0dXBYSFJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwWEhSKHhocikge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJUdXMtUmVzdW1hYmxlXCIsIFwiMS4wLjBcIik7XG4gICAgICB2YXIgaGVhZGVycyA9IHRoaXMub3B0aW9ucy5oZWFkZXJzO1xuXG4gICAgICBmb3IgKHZhciBuYW1lIGluIGhlYWRlcnMpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgaGVhZGVyc1tuYW1lXSk7XG4gICAgICB9XG5cbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB1cGxvYWQgdXNpbmcgdGhlIGNyZWF0aW9uIGV4dGVuc2lvbiBieSBzZW5kaW5nIGEgUE9TVFxuICAgICAqIHJlcXVlc3QgdG8gdGhlIGVuZHBvaW50LiBBZnRlciBzdWNjZXNzZnVsIGNyZWF0aW9uIHRoZSBmaWxlIHdpbGwgYmVcbiAgICAgKiB1cGxvYWRlZFxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfY3JlYXRlVXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVVcGxvYWQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHhociA9ICgwLCBfcmVxdWVzdC5uZXdSZXF1ZXN0KSgpO1xuICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHRoaXMub3B0aW9ucy5lbmRwb2ludCwgdHJ1ZSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XG4gICAgICAgICAgX3RoaXMyLl9lbWl0WGhyRXJyb3IoeGhyLCBuZXcgRXJyb3IoXCJ0dXM6IHVuZXhwZWN0ZWQgcmVzcG9uc2Ugd2hpbGUgY3JlYXRpbmcgdXBsb2FkXCIpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczIudXJsID0gKDAsIF9yZXF1ZXN0LnJlc29sdmVVcmwpKF90aGlzMi5vcHRpb25zLmVuZHBvaW50LCB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMb2NhdGlvblwiKSk7XG5cbiAgICAgICAgaWYgKF90aGlzMi5vcHRpb25zLnJlc3VtZSkge1xuICAgICAgICAgIFN0b3JhZ2Uuc2V0SXRlbShfdGhpczIuX2ZpbmdlcnByaW50LCBfdGhpczIudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5fb2Zmc2V0ID0gMDtcbiAgICAgICAgX3RoaXMyLl9zdGFydFVwbG9hZCgpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIF90aGlzMi5fZW1pdFhockVycm9yKHhociwgbmV3IEVycm9yKFwidHVzOiBmYWlsZWQgdG8gY3JlYXRlIHVwbG9hZFwiKSwgZXJyKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX3NldHVwWEhSKHhocik7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlVwbG9hZC1MZW5ndGhcIiwgdGhpcy5fc2l6ZSk7XG5cbiAgICAgIC8vIEFkZCBtZXRhZGF0YSBpZiB2YWx1ZXMgaGF2ZSBiZWVuIGFkZGVkXG4gICAgICB2YXIgbWV0YWRhdGEgPSBlbmNvZGVNZXRhZGF0YSh0aGlzLm9wdGlvbnMubWV0YWRhdGEpO1xuICAgICAgaWYgKG1ldGFkYXRhICE9PSBcIlwiKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiVXBsb2FkLU1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQobnVsbCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUcnkgdG8gcmVzdW1lIGFuIGV4aXN0aW5nIHVwbG9hZC4gRmlyc3QgYSBIRUFEIHJlcXVlc3Qgd2lsbCBiZSBzZW50XG4gICAgICogdG8gcmV0cmlldmUgdGhlIG9mZnNldC4gSWYgdGhlIHJlcXVlc3QgZmFpbHMgYSBuZXcgdXBsb2FkIHdpbGwgYmVcbiAgICAgKiBjcmVhdGVkLiBJbiB0aGUgY2FzZSBvZiBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgdGhlIGZpbGUgd2lsbCBiZSB1cGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Jlc3VtZVVwbG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzdW1lVXBsb2FkKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciB4aHIgPSAoMCwgX3JlcXVlc3QubmV3UmVxdWVzdCkoKTtcbiAgICAgIHhoci5vcGVuKFwiSEVBRFwiLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XG4gICAgICAgICAgaWYgKF90aGlzMy5vcHRpb25zLnJlc3VtZSkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHN0b3JlZCBmaW5nZXJwcmludCBhbmQgY29ycmVzcG9uZGluZyBlbmRwb2ludCxcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBmaWxlIGNhbiBub3QgYmUgZm91bmRcbiAgICAgICAgICAgIFN0b3JhZ2UucmVtb3ZlSXRlbShfdGhpczMuX2ZpbmdlcnByaW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUcnkgdG8gY3JlYXRlIGEgbmV3IHVwbG9hZFxuICAgICAgICAgIF90aGlzMy51cmwgPSBudWxsO1xuICAgICAgICAgIF90aGlzMy5fY3JlYXRlVXBsb2FkKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHhoci5nZXRSZXNwb25zZUhlYWRlcihcIlVwbG9hZC1PZmZzZXRcIiksIDEwKTtcbiAgICAgICAgaWYgKGlzTmFOKG9mZnNldCkpIHtcbiAgICAgICAgICBfdGhpczMuX2VtaXRYaHJFcnJvcih4aHIsIG5ldyBFcnJvcihcInR1czogaW52YWxpZCBvciBtaXNzaW5nIG9mZnNldCB2YWx1ZVwiKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHBhcnNlSW50KHhoci5nZXRSZXNwb25zZUhlYWRlcihcIlVwbG9hZC1MZW5ndGhcIiksIDEwKTtcbiAgICAgICAgaWYgKGlzTmFOKGxlbmd0aCkpIHtcbiAgICAgICAgICBfdGhpczMuX2VtaXRYaHJFcnJvcih4aHIsIG5ldyBFcnJvcihcInR1czogaW52YWxpZCBvciBtaXNzaW5nIGxlbmd0aCB2YWx1ZVwiKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBsb2FkIGhhcyBhbHJlYWR5IGJlZW4gY29tcGxldGVkIGFuZCB3ZSBkbyBub3QgbmVlZCB0byBzZW5kIGFkZGl0aW9uYWxcbiAgICAgICAgLy8gZGF0YSB0byB0aGUgc2VydmVyXG4gICAgICAgIGlmIChvZmZzZXQgPT09IGxlbmd0aCkge1xuICAgICAgICAgIF90aGlzMy5fZW1pdFByb2dyZXNzKGxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICBfdGhpczMuX2VtaXRTdWNjZXNzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLl9vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIF90aGlzMy5fc3RhcnRVcGxvYWQoKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpczMuX2VtaXRYaHJFcnJvcih4aHIsIG5ldyBFcnJvcihcInR1czogZmFpbGVkIHRvIHJlc3VtZSB1cGxvYWRcIiksIGVycik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9zZXR1cFhIUih4aHIpO1xuICAgICAgeGhyLnNlbmQobnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgdXBsb2FkaW5nIHRoZSBmaWxlIHVzaW5nIFBBVENIIHJlcXVlc3RzLiBUaGUgZmlsZSB3aWxsIGJlIGRpdmlkZWRcbiAgICAgKiBpbnRvIGNodW5rcyBhcyBzcGVjaWZpZWQgaW4gdGhlIGNodW5rU2l6ZSBvcHRpb24uIER1cmluZyB0aGUgdXBsb2FkXG4gICAgICogdGhlIG9uUHJvZ3Jlc3MgZXZlbnQgaGFuZGxlciBtYXkgYmUgaW52b2tlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3N0YXJ0VXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydFVwbG9hZCgpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgeGhyID0gdGhpcy5feGhyID0gKDAsIF9yZXF1ZXN0Lm5ld1JlcXVlc3QpKCk7XG5cbiAgICAgIC8vIFNvbWUgYnJvd3NlciBhbmQgc2VydmVycyBtYXkgbm90IHN1cHBvcnQgdGhlIFBBVENIIG1ldGhvZC4gRm9yIHRob3NlXG4gICAgICAvLyBjYXNlcywgeW91IGNhbiB0ZWxsIHR1cy1qcy1jbGllbnQgdG8gdXNlIGEgUE9TVCByZXF1ZXN0IHdpdGggdGhlXG4gICAgICAvLyBYLUhUVFAtTWV0aG9kLU92ZXJyaWRlIGhlYWRlciBmb3Igc2ltdWxhdGluZyBhIFBBVENIIHJlcXVlc3QuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm92ZXJyaWRlUGF0Y2hNZXRob2QpIHtcbiAgICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHRoaXMudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLUhUVFAtTWV0aG9kLU92ZXJyaWRlXCIsIFwiUEFUQ0hcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4aHIub3BlbihcIlBBVENIXCIsIHRoaXMudXJsLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCEoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkpIHtcbiAgICAgICAgICBfdGhpczQuX2VtaXRYaHJFcnJvcih4aHIsIG5ldyBFcnJvcihcInR1czogdW5leHBlY3RlZCByZXNwb25zZSB3aGlsZSB1cGxvYWRpbmcgY2h1bmtcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUludCh4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJVcGxvYWQtT2Zmc2V0XCIpLCAxMCk7XG4gICAgICAgIGlmIChpc05hTihvZmZzZXQpKSB7XG4gICAgICAgICAgX3RoaXM0Ll9lbWl0WGhyRXJyb3IoeGhyLCBuZXcgRXJyb3IoXCJ0dXM6IGludmFsaWQgb3IgbWlzc2luZyBvZmZzZXQgdmFsdWVcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNC5fZW1pdFByb2dyZXNzKG9mZnNldCwgX3RoaXM0Ll9zaXplKTtcbiAgICAgICAgX3RoaXM0Ll9lbWl0Q2h1bmtDb21wbGV0ZShvZmZzZXQgLSBfdGhpczQuX29mZnNldCwgb2Zmc2V0LCBfdGhpczQuX3NpemUpO1xuXG4gICAgICAgIF90aGlzNC5fb2Zmc2V0ID0gb2Zmc2V0O1xuXG4gICAgICAgIGlmIChvZmZzZXQgPT0gX3RoaXM0Ll9zaXplKSB7XG4gICAgICAgICAgLy8gWWF5LCBmaW5hbGx5IGRvbmUgOilcbiAgICAgICAgICBfdGhpczQuX2VtaXRTdWNjZXNzKCk7XG4gICAgICAgICAgX3RoaXM0Ll9zb3VyY2UuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczQuX3N0YXJ0VXBsb2FkKCk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgLy8gRG9uJ3QgZW1pdCBhbiBlcnJvciBpZiB0aGUgdXBsb2FkIHdhcyBhYm9ydGVkIG1hbnVhbGx5XG4gICAgICAgIGlmIChfdGhpczQuX2Fib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczQuX2VtaXRYaHJFcnJvcih4aHIsIG5ldyBFcnJvcihcInR1czogZmFpbGVkIHRvIHVwbG9hZCBjaHVuayBhdCBvZmZzZXQgXCIgKyBfdGhpczQuX29mZnNldCksIGVycik7XG4gICAgICB9O1xuXG4gICAgICAvLyBUZXN0IHN1cHBvcnQgZm9yIHByb2dyZXNzIGV2ZW50cyBiZWZvcmUgYXR0YWNoaW5nIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICBpZiAoXCJ1cGxvYWRcIiBpbiB4aHIpIHtcbiAgICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoIWUubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzNC5fZW1pdFByb2dyZXNzKHN0YXJ0ICsgZS5sb2FkZWQsIF90aGlzNC5fc2l6ZSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldHVwWEhSKHhocik7XG5cbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiVXBsb2FkLU9mZnNldFwiLCB0aGlzLl9vZmZzZXQpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vZmZzZXQrb2N0ZXQtc3RyZWFtXCIpO1xuXG4gICAgICB2YXIgc3RhcnQgPSB0aGlzLl9vZmZzZXQ7XG4gICAgICB2YXIgZW5kID0gdGhpcy5fb2Zmc2V0ICsgdGhpcy5vcHRpb25zLmNodW5rU2l6ZTtcblxuICAgICAgLy8gVGhlIHNwZWNpZmllZCBjaHVua1NpemUgbWF5IGJlIEluZmluaXR5IG9yIHRoZSBjYWxjbHVhdGVkIGVuZCBwb3NpdGlvblxuICAgICAgLy8gbWF5IGV4Y2VlZCB0aGUgZmlsZSdzIHNpemUuIEluIGJvdGggY2FzZXMsIHdlIGxpbWl0IHRoZSBlbmQgcG9zaXRpb24gdG9cbiAgICAgIC8vIHRoZSBpbnB1dCdzIHRvdGFsIHNpemUgZm9yIHNpbXBsZXIgY2FsY3VsYXRpb25zIGFuZCBjb3JyZWN0bmVzcy5cbiAgICAgIGlmIChlbmQgPT09IEluZmluaXR5IHx8IGVuZCA+IHRoaXMuX3NpemUpIHtcbiAgICAgICAgZW5kID0gdGhpcy5fc2l6ZTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQodGhpcy5fc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVXBsb2FkO1xufSgpO1xuXG5mdW5jdGlvbiBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSkge1xuICBpZiAoIUJhc2U2NC5pc1N1cHBvcnRlZCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgdmFyIGVuY29kZWQgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gbWV0YWRhdGEpIHtcbiAgICBlbmNvZGVkLnB1c2goa2V5ICsgXCIgXCIgKyBCYXNlNjQuZW5jb2RlKG1ldGFkYXRhW2tleV0pKTtcbiAgfVxuXG4gIHJldHVybiBlbmNvZGVkLmpvaW4oXCIsXCIpO1xufVxuXG5VcGxvYWQuZGVmYXVsdE9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcblxuZXhwb3J0cy5kZWZhdWx0ID0gVXBsb2FkOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG52YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkoYXJyKSB7XG5cdGlmICh0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHJldHVybiBBcnJheS5pc0FycmF5KGFycik7XG5cdH1cblxuXHRyZXR1cm4gdG9TdHIuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxudmFyIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuXHRpZiAoIW9iaiB8fCB0b1N0ci5jYWxsKG9iaikgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0dmFyIGhhc093bkNvbnN0cnVjdG9yID0gaGFzT3duLmNhbGwob2JqLCAnY29uc3RydWN0b3InKTtcblx0dmFyIGhhc0lzUHJvdG90eXBlT2YgPSBvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSAmJiBoYXNPd24uY2FsbChvYmouY29uc3RydWN0b3IucHJvdG90eXBlLCAnaXNQcm90b3R5cGVPZicpO1xuXHQvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XG5cdGlmIChvYmouY29uc3RydWN0b3IgJiYgIWhhc093bkNvbnN0cnVjdG9yICYmICFoYXNJc1Byb3RvdHlwZU9mKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG5cdC8vIGlmIGxhc3Qgb25lIGlzIG93biwgdGhlbiBhbGwgcHJvcGVydGllcyBhcmUgb3duLlxuXHR2YXIga2V5O1xuXHRmb3IgKGtleSBpbiBvYmopIHsvKiovfVxuXG5cdHJldHVybiB0eXBlb2Yga2V5ID09PSAndW5kZWZpbmVkJyB8fCBoYXNPd24uY2FsbChvYmosIGtleSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV4dGVuZCgpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1swXSxcblx0XHRpID0gMSxcblx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGRlZXAgPSBmYWxzZTtcblxuXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnYm9vbGVhbicpIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcblx0XHQvLyBza2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0aSA9IDI7XG5cdH0gZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnICYmIHR5cGVvZiB0YXJnZXQgIT09ICdmdW5jdGlvbicpIHx8IHRhcmdldCA9PSBudWxsKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHRmb3IgKDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1tpXTtcblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKG9wdGlvbnMgIT0gbnVsbCkge1xuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yIChuYW1lIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0c3JjID0gdGFyZ2V0W25hbWVdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1tuYW1lXTtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG5cdFx0XHRcdGlmICh0YXJnZXQgIT09IGNvcHkpIHtcblx0XHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0XHRpZiAoZGVlcCAmJiBjb3B5ICYmIChpc1BsYWluT2JqZWN0KGNvcHkpIHx8IChjb3B5SXNBcnJheSA9IGlzQXJyYXkoY29weSkpKSkge1xuXHRcdFx0XHRcdFx0aWYgKGNvcHlJc0FycmF5KSB7XG5cdFx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGlzQXJyYXkoc3JjKSA/IHNyYyA6IFtdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuXHRcdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gZXh0ZW5kKGRlZXAsIGNsb25lLCBjb3B5KTtcblxuXHRcdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjb3B5ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gY29weTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuXHRyZXR1cm4gdGFyZ2V0O1xufTtcblxuIiwiLy8gQ29weXJpZ2h0IDIwMTQgU2ltb24gTHlkZWxsXHJcbi8vIFgxMSAo4oCcTUlU4oCdKSBMaWNlbnNlZC4gKFNlZSBMSUNFTlNFLilcclxuXHJcbnZvaWQgKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcclxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgIGRlZmluZShmYWN0b3J5KVxyXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpXHJcbiAgfSBlbHNlIHtcclxuICAgIHJvb3QucmVzb2x2ZVVybCA9IGZhY3RvcnkoKVxyXG4gIH1cclxufSh0aGlzLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgZnVuY3Rpb24gcmVzb2x2ZVVybCgvKiAuLi51cmxzICovKSB7XHJcbiAgICB2YXIgbnVtVXJscyA9IGFyZ3VtZW50cy5sZW5ndGhcclxuXHJcbiAgICBpZiAobnVtVXJscyA9PT0gMCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXNvbHZlVXJsIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBhcmd1bWVudDsgZ290IG5vbmUuXCIpXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGJhc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKVxyXG4gICAgYmFzZS5ocmVmID0gYXJndW1lbnRzWzBdXHJcblxyXG4gICAgaWYgKG51bVVybHMgPT09IDEpIHtcclxuICAgICAgcmV0dXJuIGJhc2UuaHJlZlxyXG4gICAgfVxyXG5cclxuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdXHJcbiAgICBoZWFkLmluc2VydEJlZm9yZShiYXNlLCBoZWFkLmZpcnN0Q2hpbGQpXHJcblxyXG4gICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKVxyXG4gICAgdmFyIHJlc29sdmVkXHJcblxyXG4gICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IG51bVVybHM7IGluZGV4KyspIHtcclxuICAgICAgYS5ocmVmID0gYXJndW1lbnRzW2luZGV4XVxyXG4gICAgICByZXNvbHZlZCA9IGEuaHJlZlxyXG4gICAgICBiYXNlLmhyZWYgPSByZXNvbHZlZFxyXG4gICAgfVxyXG5cclxuICAgIGhlYWQucmVtb3ZlQ2hpbGQoYmFzZSlcclxuXHJcbiAgICByZXR1cm4gcmVzb2x2ZWRcclxuICB9XHJcblxyXG4gIHJldHVybiByZXNvbHZlVXJsXHJcblxyXG59KSk7XHJcbiIsIihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBsaXN0ID0gdGhpcy5tYXBbbmFtZV1cbiAgICBpZiAoIWxpc3QpIHtcbiAgICAgIGxpc3QgPSBbXVxuICAgICAgdGhpcy5tYXBbbmFtZV0gPSBsaXN0XG4gICAgfVxuICAgIGxpc3QucHVzaCh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgICByZXR1cm4gdmFsdWVzID8gdmFsdWVzWzBdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSB8fCBbXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IFtub3JtYWxpemVWYWx1ZSh2YWx1ZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpXG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAvLyBPbmx5IHN1cHBvcnQgQXJyYXlCdWZmZXJzIGZvciBQT1NUIG1ldGhvZC5cbiAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IGlucHV0XG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMpXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhlYWRlcnMoeGhyKSB7XG4gICAgdmFyIGhlYWQgPSBuZXcgSGVhZGVycygpXG4gICAgdmFyIHBhaXJzID0gKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJykudHJpbSgpLnNwbGl0KCdcXG4nKVxuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBzcGxpdC5zaGlmdCgpLnRyaW0oKVxuICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9KVxuICAgIHJldHVybiBoZWFkXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXNcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IG9wdGlvbnMuaGVhZGVycyA6IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3RcbiAgICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSAmJiAhaW5pdCkge1xuICAgICAgICByZXF1ZXN0ID0gaW5wdXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuICAgICAgICBpZiAoJ3Jlc3BvbnNlVVJMJyBpbiB4aHIpIHtcbiAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBzZWN1cml0eSB3YXJuaW5ncyBvbiBnZXRSZXNwb25zZUhlYWRlciB3aGVuIG5vdCBhbGxvd2VkIGJ5IENPUlNcbiAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcbiAgICAgICAgICByZXR1cm4geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG4gICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsInZhciBiZWwgPSByZXF1aXJlKCdiZWwnKSAvLyB0dXJucyB0ZW1wbGF0ZSB0YWcgaW50byBET00gZWxlbWVudHNcbnZhciBtb3JwaGRvbSA9IHJlcXVpcmUoJ21vcnBoZG9tJykgLy8gZWZmaWNpZW50bHkgZGlmZnMgKyBtb3JwaHMgdHdvIERPTSBlbGVtZW50c1xudmFyIGRlZmF1bHRFdmVudHMgPSByZXF1aXJlKCcuL3VwZGF0ZS1ldmVudHMuanMnKSAvLyBkZWZhdWx0IGV2ZW50cyB0byBiZSBjb3BpZWQgd2hlbiBkb20gZWxlbWVudHMgdXBkYXRlXG5cbm1vZHVsZS5leHBvcnRzID0gYmVsXG5cbi8vIFRPRE8gbW92ZSB0aGlzICsgZGVmYXVsdEV2ZW50cyB0byBhIG5ldyBtb2R1bGUgb25jZSB3ZSByZWNlaXZlIG1vcmUgZmVlZGJhY2tcbm1vZHVsZS5leHBvcnRzLnVwZGF0ZSA9IGZ1bmN0aW9uIChmcm9tTm9kZSwgdG9Ob2RlLCBvcHRzKSB7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9XG4gIGlmIChvcHRzLmV2ZW50cyAhPT0gZmFsc2UpIHtcbiAgICBpZiAoIW9wdHMub25CZWZvcmVFbFVwZGF0ZWQpIG9wdHMub25CZWZvcmVFbFVwZGF0ZWQgPSBjb3BpZXJcbiAgfVxuXG4gIHJldHVybiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRzKVxuXG4gIC8vIG1vcnBoZG9tIG9ubHkgY29waWVzIGF0dHJpYnV0ZXMuIHdlIGRlY2lkZWQgd2UgYWxzbyB3YW50ZWQgdG8gY29weSBldmVudHNcbiAgLy8gdGhhdCBjYW4gYmUgc2V0IHZpYSBhdHRyaWJ1dGVzXG4gIGZ1bmN0aW9uIGNvcGllciAoZiwgdCkge1xuICAgIC8vIGNvcHkgZXZlbnRzOlxuICAgIHZhciBldmVudHMgPSBvcHRzLmV2ZW50cyB8fCBkZWZhdWx0RXZlbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBldiA9IGV2ZW50c1tpXVxuICAgICAgaWYgKHRbZXZdKSB7IC8vIGlmIG5ldyBlbGVtZW50IGhhcyBhIHdoaXRlbGlzdGVkIGF0dHJpYnV0ZVxuICAgICAgICBmW2V2XSA9IHRbZXZdIC8vIHVwZGF0ZSBleGlzdGluZyBlbGVtZW50XG4gICAgICB9IGVsc2UgaWYgKGZbZXZdKSB7IC8vIGlmIGV4aXN0aW5nIGVsZW1lbnQgaGFzIGl0IGFuZCBuZXcgb25lIGRvZXNudFxuICAgICAgICBmW2V2XSA9IHVuZGVmaW5lZCAvLyByZW1vdmUgaXQgZnJvbSBleGlzdGluZyBlbGVtZW50XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNvcHkgdmFsdWVzIGZvciBmb3JtIGVsZW1lbnRzXG4gICAgaWYgKChmLm5vZGVOYW1lID09PSAnSU5QVVQnICYmIGYudHlwZSAhPT0gJ2ZpbGUnKSB8fCBmLm5vZGVOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgaWYgKHQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpID09PSBudWxsKSB0LnZhbHVlID0gZi52YWx1ZVxuICAgIH0gZWxzZSBpZiAoZi5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgaWYgKHQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpID09PSBudWxsKSBmLnZhbHVlID0gdC52YWx1ZVxuICAgIH1cbiAgfVxufVxuIiwidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnZ2xvYmFsL2RvY3VtZW50JylcclxudmFyIGh5cGVyeCA9IHJlcXVpcmUoJ2h5cGVyeCcpXHJcbnZhciBvbmxvYWQgPSByZXF1aXJlKCdvbi1sb2FkJylcclxuXHJcbnZhciBTVkdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydcclxudmFyIFhMSU5LTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaydcclxuXHJcbnZhciBCT09MX1BST1BTID0ge1xyXG4gIGF1dG9mb2N1czogMSxcclxuICBjaGVja2VkOiAxLFxyXG4gIGRlZmF1bHRjaGVja2VkOiAxLFxyXG4gIGRpc2FibGVkOiAxLFxyXG4gIGZvcm1ub3ZhbGlkYXRlOiAxLFxyXG4gIGluZGV0ZXJtaW5hdGU6IDEsXHJcbiAgcmVhZG9ubHk6IDEsXHJcbiAgcmVxdWlyZWQ6IDEsXHJcbiAgc2VsZWN0ZWQ6IDEsXHJcbiAgd2lsbHZhbGlkYXRlOiAxXHJcbn1cclxudmFyIFNWR19UQUdTID0gW1xyXG4gICdzdmcnLFxyXG4gICdhbHRHbHlwaCcsICdhbHRHbHlwaERlZicsICdhbHRHbHlwaEl0ZW0nLCAnYW5pbWF0ZScsICdhbmltYXRlQ29sb3InLFxyXG4gICdhbmltYXRlTW90aW9uJywgJ2FuaW1hdGVUcmFuc2Zvcm0nLCAnY2lyY2xlJywgJ2NsaXBQYXRoJywgJ2NvbG9yLXByb2ZpbGUnLFxyXG4gICdjdXJzb3InLCAnZGVmcycsICdkZXNjJywgJ2VsbGlwc2UnLCAnZmVCbGVuZCcsICdmZUNvbG9yTWF0cml4JyxcclxuICAnZmVDb21wb25lbnRUcmFuc2ZlcicsICdmZUNvbXBvc2l0ZScsICdmZUNvbnZvbHZlTWF0cml4JywgJ2ZlRGlmZnVzZUxpZ2h0aW5nJyxcclxuICAnZmVEaXNwbGFjZW1lbnRNYXAnLCAnZmVEaXN0YW50TGlnaHQnLCAnZmVGbG9vZCcsICdmZUZ1bmNBJywgJ2ZlRnVuY0InLFxyXG4gICdmZUZ1bmNHJywgJ2ZlRnVuY1InLCAnZmVHYXVzc2lhbkJsdXInLCAnZmVJbWFnZScsICdmZU1lcmdlJywgJ2ZlTWVyZ2VOb2RlJyxcclxuICAnZmVNb3JwaG9sb2d5JywgJ2ZlT2Zmc2V0JywgJ2ZlUG9pbnRMaWdodCcsICdmZVNwZWN1bGFyTGlnaHRpbmcnLFxyXG4gICdmZVNwb3RMaWdodCcsICdmZVRpbGUnLCAnZmVUdXJidWxlbmNlJywgJ2ZpbHRlcicsICdmb250JywgJ2ZvbnQtZmFjZScsXHJcbiAgJ2ZvbnQtZmFjZS1mb3JtYXQnLCAnZm9udC1mYWNlLW5hbWUnLCAnZm9udC1mYWNlLXNyYycsICdmb250LWZhY2UtdXJpJyxcclxuICAnZm9yZWlnbk9iamVjdCcsICdnJywgJ2dseXBoJywgJ2dseXBoUmVmJywgJ2hrZXJuJywgJ2ltYWdlJywgJ2xpbmUnLFxyXG4gICdsaW5lYXJHcmFkaWVudCcsICdtYXJrZXInLCAnbWFzaycsICdtZXRhZGF0YScsICdtaXNzaW5nLWdseXBoJywgJ21wYXRoJyxcclxuICAncGF0aCcsICdwYXR0ZXJuJywgJ3BvbHlnb24nLCAncG9seWxpbmUnLCAncmFkaWFsR3JhZGllbnQnLCAncmVjdCcsXHJcbiAgJ3NldCcsICdzdG9wJywgJ3N3aXRjaCcsICdzeW1ib2wnLCAndGV4dCcsICd0ZXh0UGF0aCcsICd0aXRsZScsICd0cmVmJyxcclxuICAndHNwYW4nLCAndXNlJywgJ3ZpZXcnLCAndmtlcm4nXHJcbl1cclxuXHJcbmZ1bmN0aW9uIGJlbENyZWF0ZUVsZW1lbnQgKHRhZywgcHJvcHMsIGNoaWxkcmVuKSB7XHJcbiAgdmFyIGVsXHJcblxyXG4gIC8vIElmIGFuIHN2ZyB0YWcsIGl0IG5lZWRzIGEgbmFtZXNwYWNlXHJcbiAgaWYgKFNWR19UQUdTLmluZGV4T2YodGFnKSAhPT0gLTEpIHtcclxuICAgIHByb3BzLm5hbWVzcGFjZSA9IFNWR05TXHJcbiAgfVxyXG5cclxuICAvLyBJZiB3ZSBhcmUgdXNpbmcgYSBuYW1lc3BhY2VcclxuICB2YXIgbnMgPSBmYWxzZVxyXG4gIGlmIChwcm9wcy5uYW1lc3BhY2UpIHtcclxuICAgIG5zID0gcHJvcHMubmFtZXNwYWNlXHJcbiAgICBkZWxldGUgcHJvcHMubmFtZXNwYWNlXHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgdGhlIGVsZW1lbnRcclxuICBpZiAobnMpIHtcclxuICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0YWcpXHJcbiAgfSBlbHNlIHtcclxuICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpXHJcbiAgfVxyXG5cclxuICAvLyBJZiBhZGRpbmcgb25sb2FkIGV2ZW50c1xyXG4gIGlmIChwcm9wcy5vbmxvYWQgfHwgcHJvcHMub251bmxvYWQpIHtcclxuICAgIHZhciBsb2FkID0gcHJvcHMub25sb2FkIHx8IGZ1bmN0aW9uICgpIHt9XHJcbiAgICB2YXIgdW5sb2FkID0gcHJvcHMub251bmxvYWQgfHwgZnVuY3Rpb24gKCkge31cclxuICAgIG9ubG9hZChlbCwgZnVuY3Rpb24gYmVsT25sb2FkICgpIHtcclxuICAgICAgbG9hZChlbClcclxuICAgIH0sIGZ1bmN0aW9uIGJlbE9udW5sb2FkICgpIHtcclxuICAgICAgdW5sb2FkKGVsKVxyXG4gICAgfSxcclxuICAgIC8vIFdlIGhhdmUgdG8gdXNlIG5vbi1zdGFuZGFyZCBgY2FsbGVyYCB0byBmaW5kIHdobyBpbnZva2VzIGBiZWxDcmVhdGVFbGVtZW50YFxyXG4gICAgYmVsQ3JlYXRlRWxlbWVudC5jYWxsZXIuY2FsbGVyLmNhbGxlcilcclxuICAgIGRlbGV0ZSBwcm9wcy5vbmxvYWRcclxuICAgIGRlbGV0ZSBwcm9wcy5vbnVubG9hZFxyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIHRoZSBwcm9wZXJ0aWVzXHJcbiAgZm9yICh2YXIgcCBpbiBwcm9wcykge1xyXG4gICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHApKSB7XHJcbiAgICAgIHZhciBrZXkgPSBwLnRvTG93ZXJDYXNlKClcclxuICAgICAgdmFyIHZhbCA9IHByb3BzW3BdXHJcbiAgICAgIC8vIE5vcm1hbGl6ZSBjbGFzc05hbWVcclxuICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzbmFtZScpIHtcclxuICAgICAgICBrZXkgPSAnY2xhc3MnXHJcbiAgICAgICAgcCA9ICdjbGFzcydcclxuICAgICAgfVxyXG4gICAgICAvLyBUaGUgZm9yIGF0dHJpYnV0ZSBnZXRzIHRyYW5zZm9ybWVkIHRvIGh0bWxGb3IsIGJ1dCB3ZSBqdXN0IHNldCBhcyBmb3JcclxuICAgICAgaWYgKHAgPT09ICdodG1sRm9yJykge1xyXG4gICAgICAgIHAgPSAnZm9yJ1xyXG4gICAgICB9XHJcbiAgICAgIC8vIElmIGEgcHJvcGVydHkgaXMgYm9vbGVhbiwgc2V0IGl0c2VsZiB0byB0aGUga2V5XHJcbiAgICAgIGlmIChCT09MX1BST1BTW2tleV0pIHtcclxuICAgICAgICBpZiAodmFsID09PSAndHJ1ZScpIHZhbCA9IGtleVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gJ2ZhbHNlJykgY29udGludWVcclxuICAgICAgfVxyXG4gICAgICAvLyBJZiBhIHByb3BlcnR5IHByZWZlcnMgYmVpbmcgc2V0IGRpcmVjdGx5IHZzIHNldEF0dHJpYnV0ZVxyXG4gICAgICBpZiAoa2V5LnNsaWNlKDAsIDIpID09PSAnb24nKSB7XHJcbiAgICAgICAgZWxbcF0gPSB2YWxcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobnMpIHtcclxuICAgICAgICAgIGlmIChwID09PSAneGxpbms6aHJlZicpIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoWExJTktOUywgcCwgdmFsKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgcCwgdmFsKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocCwgdmFsKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKGNoaWxkcykge1xyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNoaWxkcykpIHJldHVyblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIG5vZGUgPSBjaGlsZHNbaV1cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcclxuICAgICAgICBhcHBlbmRDaGlsZChub2RlKVxyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nIHx8XHJcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIERhdGUgfHxcclxuICAgICAgICBub2RlIGluc3RhbmNlb2YgUmVnRXhwKSB7XHJcbiAgICAgICAgbm9kZSA9IG5vZGUudG9TdHJpbmcoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWYgKGVsLmxhc3RDaGlsZCAmJiBlbC5sYXN0Q2hpbGQubm9kZU5hbWUgPT09ICcjdGV4dCcpIHtcclxuICAgICAgICAgIGVsLmxhc3RDaGlsZC5ub2RlVmFsdWUgKz0gbm9kZVxyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICB9XHJcbiAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChub2RlICYmIG5vZGUubm9kZVR5cGUpIHtcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChub2RlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFwcGVuZENoaWxkKGNoaWxkcmVuKVxyXG5cclxuICByZXR1cm4gZWxcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBoeXBlcngoYmVsQ3JlYXRlRWxlbWVudClcclxubW9kdWxlLmV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGJlbENyZWF0ZUVsZW1lbnRcclxuIiwidmFyIHRvcExldmVsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge31cbnZhciBtaW5Eb2MgPSByZXF1aXJlKCdtaW4tZG9jdW1lbnQnKTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50O1xufSBlbHNlIHtcbiAgICB2YXIgZG9jY3kgPSB0b3BMZXZlbFsnX19HTE9CQUxfRE9DVU1FTlRfQ0FDSEVANCddO1xuXG4gICAgaWYgKCFkb2NjeSkge1xuICAgICAgICBkb2NjeSA9IHRvcExldmVsWydfX0dMT0JBTF9ET0NVTUVOVF9DQUNIRUA0J10gPSBtaW5Eb2M7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkb2NjeTtcbn1cbiIsImlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIG1vZHVsZS5leHBvcnRzID0gc2VsZjtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7fTtcbn1cbiIsInZhciBhdHRyVG9Qcm9wID0gcmVxdWlyZSgnaHlwZXJzY3JpcHQtYXR0cmlidXRlLXRvLXByb3BlcnR5JylcblxudmFyIFZBUiA9IDAsIFRFWFQgPSAxLCBPUEVOID0gMiwgQ0xPU0UgPSAzLCBBVFRSID0gNFxudmFyIEFUVFJfS0VZID0gNSwgQVRUUl9LRVlfVyA9IDZcbnZhciBBVFRSX1ZBTFVFX1cgPSA3LCBBVFRSX1ZBTFVFID0gOFxudmFyIEFUVFJfVkFMVUVfU1EgPSA5LCBBVFRSX1ZBTFVFX0RRID0gMTBcbnZhciBBVFRSX0VRID0gMTEsIEFUVFJfQlJFQUsgPSAxMlxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChoLCBvcHRzKSB7XG4gIGggPSBhdHRyVG9Qcm9wKGgpXG4gIGlmICghb3B0cykgb3B0cyA9IHt9XG4gIHZhciBjb25jYXQgPSBvcHRzLmNvbmNhdCB8fCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBTdHJpbmcoYSkgKyBTdHJpbmcoYilcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RyaW5ncykge1xuICAgIHZhciBzdGF0ZSA9IFRFWFQsIHJlZyA9ICcnXG4gICAgdmFyIGFyZ2xlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICB2YXIgcGFydHMgPSBbXVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSA8IGFyZ2xlbiAtIDEpIHtcbiAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1tpKzFdXG4gICAgICAgIHZhciBwID0gcGFyc2Uoc3RyaW5nc1tpXSlcbiAgICAgICAgdmFyIHhzdGF0ZSA9IHN0YXRlXG4gICAgICAgIGlmICh4c3RhdGUgPT09IEFUVFJfVkFMVUVfRFEpIHhzdGF0ZSA9IEFUVFJfVkFMVUVcbiAgICAgICAgaWYgKHhzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUSkgeHN0YXRlID0gQVRUUl9WQUxVRVxuICAgICAgICBpZiAoeHN0YXRlID09PSBBVFRSX1ZBTFVFX1cpIHhzdGF0ZSA9IEFUVFJfVkFMVUVcbiAgICAgICAgaWYgKHhzdGF0ZSA9PT0gQVRUUikgeHN0YXRlID0gQVRUUl9LRVlcbiAgICAgICAgcC5wdXNoKFsgVkFSLCB4c3RhdGUsIGFyZyBdKVxuICAgICAgICBwYXJ0cy5wdXNoLmFwcGx5KHBhcnRzLCBwKVxuICAgICAgfSBlbHNlIHBhcnRzLnB1c2guYXBwbHkocGFydHMsIHBhcnNlKHN0cmluZ3NbaV0pKVxuICAgIH1cblxuICAgIHZhciB0cmVlID0gW251bGwse30sW11dXG4gICAgdmFyIHN0YWNrID0gW1t0cmVlLC0xXV1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY3VyID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdWzBdXG4gICAgICB2YXIgcCA9IHBhcnRzW2ldLCBzID0gcFswXVxuICAgICAgaWYgKHMgPT09IE9QRU4gJiYgL15cXC8vLnRlc3QocFsxXSkpIHtcbiAgICAgICAgdmFyIGl4ID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdWzFdXG4gICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICBzdGFja1tzdGFjay5sZW5ndGgtMV1bMF1bMl1baXhdID0gaChcbiAgICAgICAgICAgIGN1clswXSwgY3VyWzFdLCBjdXJbMl0ubGVuZ3RoID8gY3VyWzJdIDogdW5kZWZpbmVkXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHMgPT09IE9QRU4pIHtcbiAgICAgICAgdmFyIGMgPSBbcFsxXSx7fSxbXV1cbiAgICAgICAgY3VyWzJdLnB1c2goYylcbiAgICAgICAgc3RhY2sucHVzaChbYyxjdXJbMl0ubGVuZ3RoLTFdKVxuICAgICAgfSBlbHNlIGlmIChzID09PSBBVFRSX0tFWSB8fCAocyA9PT0gVkFSICYmIHBbMV0gPT09IEFUVFJfS0VZKSkge1xuICAgICAgICB2YXIga2V5ID0gJydcbiAgICAgICAgdmFyIGNvcHlLZXlcbiAgICAgICAgZm9yICg7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChwYXJ0c1tpXVswXSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgICAgIGtleSA9IGNvbmNhdChrZXksIHBhcnRzW2ldWzFdKVxuICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV1bMF0gPT09IFZBUiAmJiBwYXJ0c1tpXVsxXSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydHNbaV1bMl0gPT09ICdvYmplY3QnICYmICFrZXkpIHtcbiAgICAgICAgICAgICAgZm9yIChjb3B5S2V5IGluIHBhcnRzW2ldWzJdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldWzJdLmhhc093blByb3BlcnR5KGNvcHlLZXkpICYmICFjdXJbMV1bY29weUtleV0pIHtcbiAgICAgICAgICAgICAgICAgIGN1clsxXVtjb3B5S2V5XSA9IHBhcnRzW2ldWzJdW2NvcHlLZXldXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBrZXkgPSBjb25jYXQoa2V5LCBwYXJ0c1tpXVsyXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydHNbaV1bMF0gPT09IEFUVFJfRVEpIGkrK1xuICAgICAgICB2YXIgaiA9IGlcbiAgICAgICAgZm9yICg7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChwYXJ0c1tpXVswXSA9PT0gQVRUUl9WQUxVRSB8fCBwYXJ0c1tpXVswXSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgICAgIGlmICghY3VyWzFdW2tleV0pIGN1clsxXVtrZXldID0gc3RyZm4ocGFydHNbaV1bMV0pXG4gICAgICAgICAgICBlbHNlIGN1clsxXVtrZXldID0gY29uY2F0KGN1clsxXVtrZXldLCBwYXJ0c1tpXVsxXSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRzW2ldWzBdID09PSBWQVJcbiAgICAgICAgICAmJiAocGFydHNbaV1bMV0gPT09IEFUVFJfVkFMVUUgfHwgcGFydHNbaV1bMV0gPT09IEFUVFJfS0VZKSkge1xuICAgICAgICAgICAgaWYgKCFjdXJbMV1ba2V5XSkgY3VyWzFdW2tleV0gPSBzdHJmbihwYXJ0c1tpXVsyXSlcbiAgICAgICAgICAgIGVsc2UgY3VyWzFdW2tleV0gPSBjb25jYXQoY3VyWzFdW2tleV0sIHBhcnRzW2ldWzJdKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoa2V5Lmxlbmd0aCAmJiAhY3VyWzFdW2tleV0gJiYgaSA9PT0galxuICAgICAgICAgICAgJiYgKHBhcnRzW2ldWzBdID09PSBDTE9TRSB8fCBwYXJ0c1tpXVswXSA9PT0gQVRUUl9CUkVBSykpIHtcbiAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNib29sZWFuLWF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIGZhbHN5LCBub3Qgd2VsbCBiZWhhdmVkIHZhbHVlIGluIGJyb3dzZXJcbiAgICAgICAgICAgICAgY3VyWzFdW2tleV0gPSBrZXkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgY3VyWzFdW3BbMV1dID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChzID09PSBWQVIgJiYgcFsxXSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgY3VyWzFdW3BbMl1dID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChzID09PSBDTE9TRSkge1xuICAgICAgICBpZiAoc2VsZkNsb3NpbmcoY3VyWzBdKSAmJiBzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgaXggPSBzdGFja1tzdGFjay5sZW5ndGgtMV1bMV1cbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIHN0YWNrW3N0YWNrLmxlbmd0aC0xXVswXVsyXVtpeF0gPSBoKFxuICAgICAgICAgICAgY3VyWzBdLCBjdXJbMV0sIGN1clsyXS5sZW5ndGggPyBjdXJbMl0gOiB1bmRlZmluZWRcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gVkFSICYmIHBbMV0gPT09IFRFWFQpIHtcbiAgICAgICAgaWYgKHBbMl0gPT09IHVuZGVmaW5lZCB8fCBwWzJdID09PSBudWxsKSBwWzJdID0gJydcbiAgICAgICAgZWxzZSBpZiAoIXBbMl0pIHBbMl0gPSBjb25jYXQoJycsIHBbMl0pXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBbMl1bMF0pKSB7XG4gICAgICAgICAgY3VyWzJdLnB1c2guYXBwbHkoY3VyWzJdLCBwWzJdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1clsyXS5wdXNoKHBbMl0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gVEVYVCkge1xuICAgICAgICBjdXJbMl0ucHVzaChwWzFdKVxuICAgICAgfSBlbHNlIGlmIChzID09PSBBVFRSX0VRIHx8IHMgPT09IEFUVFJfQlJFQUspIHtcbiAgICAgICAgLy8gbm8tb3BcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5oYW5kbGVkOiAnICsgcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHJlZVsyXS5sZW5ndGggPiAxICYmIC9eXFxzKiQvLnRlc3QodHJlZVsyXVswXSkpIHtcbiAgICAgIHRyZWVbMl0uc2hpZnQoKVxuICAgIH1cblxuICAgIGlmICh0cmVlWzJdLmxlbmd0aCA+IDJcbiAgICB8fCAodHJlZVsyXS5sZW5ndGggPT09IDIgJiYgL1xcUy8udGVzdCh0cmVlWzJdWzFdKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ211bHRpcGxlIHJvb3QgZWxlbWVudHMgbXVzdCBiZSB3cmFwcGVkIGluIGFuIGVuY2xvc2luZyB0YWcnXG4gICAgICApXG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHRyZWVbMl1bMF0pICYmIHR5cGVvZiB0cmVlWzJdWzBdWzBdID09PSAnc3RyaW5nJ1xuICAgICYmIEFycmF5LmlzQXJyYXkodHJlZVsyXVswXVsyXSkpIHtcbiAgICAgIHRyZWVbMl1bMF0gPSBoKHRyZWVbMl1bMF1bMF0sIHRyZWVbMl1bMF1bMV0sIHRyZWVbMl1bMF1bMl0pXG4gICAgfVxuICAgIHJldHVybiB0cmVlWzJdWzBdXG5cbiAgICBmdW5jdGlvbiBwYXJzZSAoc3RyKSB7XG4gICAgICB2YXIgcmVzID0gW11cbiAgICAgIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XKSBzdGF0ZSA9IEFUVFJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJBdChpKVxuICAgICAgICBpZiAoc3RhdGUgPT09IFRFWFQgJiYgYyA9PT0gJzwnKSB7XG4gICAgICAgICAgaWYgKHJlZy5sZW5ndGgpIHJlcy5wdXNoKFtURVhULCByZWddKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBPUEVOXG4gICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nICYmICFxdW90KHN0YXRlKSkge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gT1BFTikge1xuICAgICAgICAgICAgcmVzLnB1c2goW09QRU4scmVnXSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgICAgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10pXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRSAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXMucHVzaChbQ0xPU0VdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBURVhUXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFRFWFQpIHtcbiAgICAgICAgICByZWcgKz0gY1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBPUEVOICYmIC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICByZXMucHVzaChbT1BFTiwgcmVnXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUlxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBPUEVOKSB7XG4gICAgICAgICAgcmVnICs9IGNcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUiAmJiAvW1xcdy1dLy50ZXN0KGMpKSB7XG4gICAgICAgICAgc3RhdGUgPSBBVFRSX0tFWVxuICAgICAgICAgIHJlZyA9IGNcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUiAmJiAvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgaWYgKHJlZy5sZW5ndGgpIHJlcy5wdXNoKFtBVFRSX0tFWSxyZWddKVxuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0JSRUFLXSlcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkgJiYgL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0tFWSxyZWddKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSX0tFWV9XXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfS0VZICYmIGMgPT09ICc9Jykge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0tFWSxyZWddLFtBVFRSX0VRXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9WQUxVRV9XXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgcmVnICs9IGNcbiAgICAgICAgfSBlbHNlIGlmICgoc3RhdGUgPT09IEFUVFJfS0VZX1cgfHwgc3RhdGUgPT09IEFUVFIpICYmIGMgPT09ICc9Jykge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0VRXSlcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVfV1xuICAgICAgICB9IGVsc2UgaWYgKChzdGF0ZSA9PT0gQVRUUl9LRVlfVyB8fCBzdGF0ZSA9PT0gQVRUUikgJiYgIS9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9CUkVBS10pXG4gICAgICAgICAgaWYgKC9bXFx3LV0vLnRlc3QoYykpIHtcbiAgICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgICAgICBzdGF0ZSA9IEFUVFJfS0VZXG4gICAgICAgICAgfSBlbHNlIHN0YXRlID0gQVRUUlxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1cgJiYgYyA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9WQUxVRV9EUVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1cgJiYgYyA9PT0gXCInXCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVfU1FcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUSAmJiBjID09PSAnXCInKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSxbQVRUUl9CUkVBS10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUSAmJiBjID09PSBcIidcIikge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10sW0FUVFJfQlJFQUtdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfVyAmJiAhL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9WQUxVRVxuICAgICAgICAgIGktLVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFICYmIC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddLFtBVFRSX0JSRUFLXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUlxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFIHx8IHN0YXRlID09PSBBVFRSX1ZBTFVFX1NRXG4gICAgICAgIHx8IHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRKSB7XG4gICAgICAgICAgcmVnICs9IGNcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXRlID09PSBURVhUICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgcmVzLnB1c2goW1RFWFQscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUUgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUSAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1NRICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfS0VZKSB7XG4gICAgICAgIHJlcy5wdXNoKFtBVFRSX0tFWSxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmZuICh4KSB7XG4gICAgaWYgKHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nKSByZXR1cm4geFxuICAgIGVsc2UgaWYgKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgcmV0dXJuIHhcbiAgICBlbHNlIGlmICh4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JykgcmV0dXJuIHhcbiAgICBlbHNlIHJldHVybiBjb25jYXQoJycsIHgpXG4gIH1cbn1cblxuZnVuY3Rpb24gcXVvdCAoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlID09PSBBVFRSX1ZBTFVFX1NRIHx8IHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRXG59XG5cbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG5mdW5jdGlvbiBoYXMgKG9iaiwga2V5KSB7IHJldHVybiBoYXNPd24uY2FsbChvYmosIGtleSkgfVxuXG52YXIgY2xvc2VSRSA9IFJlZ0V4cCgnXignICsgW1xuICAnYXJlYScsICdiYXNlJywgJ2Jhc2Vmb250JywgJ2Jnc291bmQnLCAnYnInLCAnY29sJywgJ2NvbW1hbmQnLCAnZW1iZWQnLFxuICAnZnJhbWUnLCAnaHInLCAnaW1nJywgJ2lucHV0JywgJ2lzaW5kZXgnLCAna2V5Z2VuJywgJ2xpbmsnLCAnbWV0YScsICdwYXJhbScsXG4gICdzb3VyY2UnLCAndHJhY2snLCAnd2JyJyxcbiAgLy8gU1ZHIFRBR1NcbiAgJ2FuaW1hdGUnLCAnYW5pbWF0ZVRyYW5zZm9ybScsICdjaXJjbGUnLCAnY3Vyc29yJywgJ2Rlc2MnLCAnZWxsaXBzZScsXG4gICdmZUJsZW5kJywgJ2ZlQ29sb3JNYXRyaXgnLCAnZmVDb21wb3NpdGUnLFxuICAnZmVDb252b2x2ZU1hdHJpeCcsICdmZURpZmZ1c2VMaWdodGluZycsICdmZURpc3BsYWNlbWVudE1hcCcsXG4gICdmZURpc3RhbnRMaWdodCcsICdmZUZsb29kJywgJ2ZlRnVuY0EnLCAnZmVGdW5jQicsICdmZUZ1bmNHJywgJ2ZlRnVuY1InLFxuICAnZmVHYXVzc2lhbkJsdXInLCAnZmVJbWFnZScsICdmZU1lcmdlTm9kZScsICdmZU1vcnBob2xvZ3knLFxuICAnZmVPZmZzZXQnLCAnZmVQb2ludExpZ2h0JywgJ2ZlU3BlY3VsYXJMaWdodGluZycsICdmZVNwb3RMaWdodCcsICdmZVRpbGUnLFxuICAnZmVUdXJidWxlbmNlJywgJ2ZvbnQtZmFjZS1mb3JtYXQnLCAnZm9udC1mYWNlLW5hbWUnLCAnZm9udC1mYWNlLXVyaScsXG4gICdnbHlwaCcsICdnbHlwaFJlZicsICdoa2VybicsICdpbWFnZScsICdsaW5lJywgJ21pc3NpbmctZ2x5cGgnLCAnbXBhdGgnLFxuICAncGF0aCcsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JlY3QnLCAnc2V0JywgJ3N0b3AnLCAndHJlZicsICd1c2UnLCAndmlldycsXG4gICd2a2Vybidcbl0uam9pbignfCcpICsgJykoPzpbXFwuI11bYS16QS1aMC05XFx1MDA3Ri1cXHVGRkZGXzotXSspKiQnKVxuZnVuY3Rpb24gc2VsZkNsb3NpbmcgKHRhZykgeyByZXR1cm4gY2xvc2VSRS50ZXN0KHRhZykgfVxuIiwibW9kdWxlLmV4cG9ydHMgPSBhdHRyaWJ1dGVUb1Byb3BlcnR5XG5cbnZhciB0cmFuc2Zvcm0gPSB7XG4gICdjbGFzcyc6ICdjbGFzc05hbWUnLFxuICAnZm9yJzogJ2h0bWxGb3InLFxuICAnaHR0cC1lcXVpdic6ICdodHRwRXF1aXYnXG59XG5cbmZ1bmN0aW9uIGF0dHJpYnV0ZVRvUHJvcGVydHkgKGgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YWdOYW1lLCBhdHRycywgY2hpbGRyZW4pIHtcbiAgICBmb3IgKHZhciBhdHRyIGluIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0ciBpbiB0cmFuc2Zvcm0pIHtcbiAgICAgICAgYXR0cnNbdHJhbnNmb3JtW2F0dHJdXSA9IGF0dHJzW2F0dHJdXG4gICAgICAgIGRlbGV0ZSBhdHRyc1thdHRyXVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaCh0YWdOYW1lLCBhdHRycywgY2hpbGRyZW4pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBNdXRhdGlvbk9ic2VydmVyICovXG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCdnbG9iYWwvZG9jdW1lbnQnKVxudmFyIHdpbmRvdyA9IHJlcXVpcmUoJ2dsb2JhbC93aW5kb3cnKVxudmFyIHdhdGNoID0gT2JqZWN0LmNyZWF0ZShudWxsKVxudmFyIEtFWV9JRCA9ICdvbmxvYWRpZCcgKyAobmV3IERhdGUoKSAlIDllNikudG9TdHJpbmcoMzYpXG52YXIgS0VZX0FUVFIgPSAnZGF0YS0nICsgS0VZX0lEXG52YXIgSU5ERVggPSAwXG5cbmlmICh3aW5kb3cgJiYgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgIGlmIChPYmplY3Qua2V5cyh3YXRjaCkubGVuZ3RoIDwgMSkgcmV0dXJuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChtdXRhdGlvbnNbaV0uYXR0cmlidXRlTmFtZSA9PT0gS0VZX0FUVFIpIHtcbiAgICAgICAgZWFjaEF0dHIobXV0YXRpb25zW2ldLCB0dXJub24sIHR1cm5vZmYpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBlYWNoTXV0YXRpb24obXV0YXRpb25zW2ldLnJlbW92ZWROb2RlcywgdHVybm9mZilcbiAgICAgIGVhY2hNdXRhdGlvbihtdXRhdGlvbnNbaV0uYWRkZWROb2RlcywgdHVybm9uKVxuICAgIH1cbiAgfSlcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtLRVlfQVRUUl1cbiAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbmxvYWQgKGVsLCBvbiwgb2ZmLCBjYWxsZXIpIHtcbiAgb24gPSBvbiB8fCBmdW5jdGlvbiAoKSB7fVxuICBvZmYgPSBvZmYgfHwgZnVuY3Rpb24gKCkge31cbiAgZWwuc2V0QXR0cmlidXRlKEtFWV9BVFRSLCAnbycgKyBJTkRFWClcbiAgd2F0Y2hbJ28nICsgSU5ERVhdID0gW29uLCBvZmYsIDAsIGNhbGxlciB8fCBvbmxvYWQuY2FsbGVyXVxuICBJTkRFWCArPSAxXG4gIHJldHVybiBlbFxufVxuXG5mdW5jdGlvbiB0dXJub24gKGluZGV4LCBlbCkge1xuICBpZiAod2F0Y2hbaW5kZXhdWzBdICYmIHdhdGNoW2luZGV4XVsyXSA9PT0gMCkge1xuICAgIHdhdGNoW2luZGV4XVswXShlbClcbiAgICB3YXRjaFtpbmRleF1bMl0gPSAxXG4gIH1cbn1cblxuZnVuY3Rpb24gdHVybm9mZiAoaW5kZXgsIGVsKSB7XG4gIGlmICh3YXRjaFtpbmRleF1bMV0gJiYgd2F0Y2hbaW5kZXhdWzJdID09PSAxKSB7XG4gICAgd2F0Y2hbaW5kZXhdWzFdKGVsKVxuICAgIHdhdGNoW2luZGV4XVsyXSA9IDBcbiAgfVxufVxuXG5mdW5jdGlvbiBlYWNoQXR0ciAobXV0YXRpb24sIG9uLCBvZmYpIHtcbiAgdmFyIG5ld1ZhbHVlID0gbXV0YXRpb24udGFyZ2V0LmdldEF0dHJpYnV0ZShLRVlfQVRUUilcbiAgaWYgKHNhbWVPcmlnaW4obXV0YXRpb24ub2xkVmFsdWUsIG5ld1ZhbHVlKSkge1xuICAgIHdhdGNoW25ld1ZhbHVlXSA9IHdhdGNoW211dGF0aW9uLm9sZFZhbHVlXVxuICAgIHJldHVyblxuICB9XG4gIGlmICh3YXRjaFttdXRhdGlvbi5vbGRWYWx1ZV0pIHtcbiAgICBvZmYobXV0YXRpb24ub2xkVmFsdWUsIG11dGF0aW9uLnRhcmdldClcbiAgfVxuICBpZiAod2F0Y2hbbmV3VmFsdWVdKSB7XG4gICAgb24obmV3VmFsdWUsIG11dGF0aW9uLnRhcmdldClcbiAgfVxufVxuXG5mdW5jdGlvbiBzYW1lT3JpZ2luIChvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgaWYgKCFvbGRWYWx1ZSB8fCAhbmV3VmFsdWUpIHJldHVybiBmYWxzZVxuICByZXR1cm4gd2F0Y2hbb2xkVmFsdWVdWzNdID09PSB3YXRjaFtuZXdWYWx1ZV1bM11cbn1cblxuZnVuY3Rpb24gZWFjaE11dGF0aW9uIChub2RlcywgZm4pIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh3YXRjaClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChub2Rlc1tpXSAmJiBub2Rlc1tpXS5nZXRBdHRyaWJ1dGUgJiYgbm9kZXNbaV0uZ2V0QXR0cmlidXRlKEtFWV9BVFRSKSkge1xuICAgICAgdmFyIG9ubG9hZGlkID0gbm9kZXNbaV0uZ2V0QXR0cmlidXRlKEtFWV9BVFRSKVxuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIGlmIChvbmxvYWRpZCA9PT0gaykge1xuICAgICAgICAgIGZuKGssIG5vZGVzW2ldKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAobm9kZXNbaV0uY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBlYWNoTXV0YXRpb24obm9kZXNbaV0uY2hpbGROb2RlcywgZm4pXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG4vLyBDcmVhdGUgYSByYW5nZSBvYmplY3QgZm9yIGVmZmljZW50bHkgcmVuZGVyaW5nIHN0cmluZ3MgdG8gZWxlbWVudHMuXG52YXIgcmFuZ2U7XG5cbnZhciBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50O1xuXG52YXIgdGVzdEVsID0gZG9jID9cbiAgICBkb2MuYm9keSB8fCBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JykgOlxuICAgIHt9O1xuXG52YXIgTlNfWEhUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5cbnZhciBFTEVNRU5UX05PREUgPSAxO1xudmFyIFRFWFRfTk9ERSA9IDM7XG52YXIgQ09NTUVOVF9OT0RFID0gODtcblxuLy8gRml4ZXMgPGh0dHBzOi8vZ2l0aHViLmNvbS9wYXRyaWNrLXN0ZWVsZS1pZGVtL21vcnBoZG9tL2lzc3Vlcy8zMj5cbi8vIChJRTcrIHN1cHBvcnQpIDw9SUU3IGRvZXMgbm90IHN1cHBvcnQgZWwuaGFzQXR0cmlidXRlKG5hbWUpXG52YXIgaGFzQXR0cmlidXRlTlM7XG5cbmlmICh0ZXN0RWwuaGFzQXR0cmlidXRlTlMpIHtcbiAgICBoYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsLCBuYW1lc3BhY2VVUkksIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZU5TKG5hbWVzcGFjZVVSSSwgbmFtZSk7XG4gICAgfTtcbn0gZWxzZSBpZiAodGVzdEVsLmhhc0F0dHJpYnV0ZSkge1xuICAgIGhhc0F0dHJpYnV0ZU5TID0gZnVuY3Rpb24oZWwsIG5hbWVzcGFjZVVSSSwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKG5hbWUpO1xuICAgIH07XG59IGVsc2Uge1xuICAgIGhhc0F0dHJpYnV0ZU5TID0gZnVuY3Rpb24oZWwsIG5hbWVzcGFjZVVSSSwgbmFtZSkge1xuICAgICAgICByZXR1cm4gISFlbC5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRvRWxlbWVudChzdHIpIHtcbiAgICBpZiAoIXJhbmdlICYmIGRvYy5jcmVhdGVSYW5nZSkge1xuICAgICAgICByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGRvYy5ib2R5KTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnQ7XG4gICAgaWYgKHJhbmdlICYmIHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCkge1xuICAgICAgICBmcmFnbWVudCA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYWdtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgICAgZnJhZ21lbnQuaW5uZXJIVE1MID0gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQuY2hpbGROb2Rlc1swXTtcbn1cblxuZnVuY3Rpb24gc3luY0Jvb2xlYW5BdHRyUHJvcChmcm9tRWwsIHRvRWwsIG5hbWUpIHtcbiAgICBpZiAoZnJvbUVsW25hbWVdICE9PSB0b0VsW25hbWVdKSB7XG4gICAgICAgIGZyb21FbFtuYW1lXSA9IHRvRWxbbmFtZV07XG4gICAgICAgIGlmIChmcm9tRWxbbmFtZV0pIHtcbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBzcGVjaWFsRWxIYW5kbGVycyA9IHtcbiAgICAvKipcbiAgICAgKiBOZWVkZWQgZm9yIElFLiBBcHBhcmVudGx5IElFIGRvZXNuJ3QgdGhpbmsgdGhhdCBcInNlbGVjdGVkXCIgaXMgYW5cbiAgICAgKiBhdHRyaWJ1dGUgd2hlbiByZWFkaW5nIG92ZXIgdGhlIGF0dHJpYnV0ZXMgdXNpbmcgc2VsZWN0RWwuYXR0cmlidXRlc1xuICAgICAqL1xuICAgIE9QVElPTjogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIHN5bmNCb29sZWFuQXR0clByb3AoZnJvbUVsLCB0b0VsLCAnc2VsZWN0ZWQnKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRoZSBcInZhbHVlXCIgYXR0cmlidXRlIGlzIHNwZWNpYWwgZm9yIHRoZSA8aW5wdXQ+IGVsZW1lbnQgc2luY2UgaXQgc2V0c1xuICAgICAqIHRoZSBpbml0aWFsIHZhbHVlLiBDaGFuZ2luZyB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSB3aXRob3V0IGNoYW5naW5nIHRoZVxuICAgICAqIFwidmFsdWVcIiBwcm9wZXJ0eSB3aWxsIGhhdmUgbm8gZWZmZWN0IHNpbmNlIGl0IGlzIG9ubHkgdXNlZCB0byB0aGUgc2V0IHRoZVxuICAgICAqIGluaXRpYWwgdmFsdWUuICBTaW1pbGFyIGZvciB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlLCBhbmQgXCJkaXNhYmxlZFwiLlxuICAgICAqL1xuICAgIElOUFVUOiBmdW5jdGlvbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgc3luY0Jvb2xlYW5BdHRyUHJvcChmcm9tRWwsIHRvRWwsICdjaGVja2VkJyk7XG4gICAgICAgIHN5bmNCb29sZWFuQXR0clByb3AoZnJvbUVsLCB0b0VsLCAnZGlzYWJsZWQnKTtcblxuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9PSB0b0VsLnZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSB0b0VsLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNBdHRyaWJ1dGVOUyh0b0VsLCBudWxsLCAndmFsdWUnKSkge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBURVhUQVJFQTogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIGlmIChmcm9tRWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tRWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZnJvbUVsLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdHdvIG5vZGUncyBuYW1lcyBhcmUgdGhlIHNhbWUuXG4gKlxuICogTk9URTogV2UgZG9uJ3QgYm90aGVyIGNoZWNraW5nIGBuYW1lc3BhY2VVUklgIGJlY2F1c2UgeW91IHdpbGwgbmV2ZXIgZmluZCB0d28gSFRNTCBlbGVtZW50cyB3aXRoIHRoZSBzYW1lXG4gKiAgICAgICBub2RlTmFtZSBhbmQgZGlmZmVyZW50IG5hbWVzcGFjZSBVUklzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiIFRoZSB0YXJnZXQgZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY29tcGFyZU5vZGVOYW1lcyhmcm9tRWwsIHRvRWwpIHtcbiAgICB2YXIgZnJvbU5vZGVOYW1lID0gZnJvbUVsLm5vZGVOYW1lO1xuICAgIHZhciB0b05vZGVOYW1lID0gdG9FbC5ub2RlTmFtZTtcblxuICAgIGlmIChmcm9tTm9kZU5hbWUgPT09IHRvTm9kZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRvRWwuYWN0dWFsaXplICYmXG4gICAgICAgIGZyb21Ob2RlTmFtZS5jaGFyQ29kZUF0KDApIDwgOTEgJiYgLyogZnJvbSB0YWcgbmFtZSBpcyB1cHBlciBjYXNlICovXG4gICAgICAgIHRvTm9kZU5hbWUuY2hhckNvZGVBdCgwKSA+IDkwIC8qIHRhcmdldCB0YWcgbmFtZSBpcyBsb3dlciBjYXNlICovKSB7XG4gICAgICAgIC8vIElmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBhIHZpcnR1YWwgRE9NIG5vZGUgdGhlbiB3ZSBtYXkgbmVlZCB0byBub3JtYWxpemUgdGhlIHRhZyBuYW1lXG4gICAgICAgIC8vIGJlZm9yZSBjb21wYXJpbmcuIE5vcm1hbCBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlIGluIHRoZSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIlxuICAgICAgICAvLyBhcmUgY29udmVydGVkIHRvIHVwcGVyIGNhc2VcbiAgICAgICAgcmV0dXJuIGZyb21Ob2RlTmFtZSA9PT0gdG9Ob2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIGVsZW1lbnQsIG9wdGlvbmFsbHkgd2l0aCBhIGtub3duIG5hbWVzcGFjZSBVUkkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIGVsZW1lbnQgbmFtZSwgZS5nLiAnZGl2JyBvciAnc3ZnJ1xuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lc3BhY2VVUkldIHRoZSBlbGVtZW50J3MgbmFtZXNwYWNlIFVSSSwgaS5lLiB0aGUgdmFsdWUgb2ZcbiAqIGl0cyBgeG1sbnNgIGF0dHJpYnV0ZSBvciBpdHMgaW5mZXJyZWQgbmFtZXNwYWNlLlxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyhuYW1lLCBuYW1lc3BhY2VVUkkpIHtcbiAgICByZXR1cm4gIW5hbWVzcGFjZVVSSSB8fCBuYW1lc3BhY2VVUkkgPT09IE5TX1hIVE1MID9cbiAgICAgICAgZG9jLmNyZWF0ZUVsZW1lbnQobmFtZSkgOlxuICAgICAgICBkb2MuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgbmFtZSk7XG59XG5cbi8qKlxuICogTG9vcCBvdmVyIGFsbCBvZiB0aGUgYXR0cmlidXRlcyBvbiB0aGUgdGFyZ2V0IG5vZGUgYW5kIG1ha2Ugc3VyZSB0aGUgb3JpZ2luYWxcbiAqIERPTSBub2RlIGhhcyB0aGUgc2FtZSBhdHRyaWJ1dGVzLiBJZiBhbiBhdHRyaWJ1dGUgZm91bmQgb24gdGhlIG9yaWdpbmFsIG5vZGVcbiAqIGlzIG5vdCBvbiB0aGUgbmV3IG5vZGUgdGhlbiByZW1vdmUgaXQgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fSBmcm9tTm9kZVxuICogQHBhcmFtICB7RWxlbWVudH0gdG9Ob2RlXG4gKi9cbmZ1bmN0aW9uIG1vcnBoQXR0cnMoZnJvbU5vZGUsIHRvTm9kZSkge1xuICAgIHZhciBhdHRycyA9IHRvTm9kZS5hdHRyaWJ1dGVzO1xuICAgIHZhciBpO1xuICAgIHZhciBhdHRyO1xuICAgIHZhciBhdHRyTmFtZTtcbiAgICB2YXIgYXR0ck5hbWVzcGFjZVVSSTtcbiAgICB2YXIgYXR0clZhbHVlO1xuICAgIHZhciBmcm9tVmFsdWU7XG5cbiAgICBpZiAodG9Ob2RlLmFzc2lnbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdG9Ob2RlLmFzc2lnbkF0dHJpYnV0ZXMoZnJvbU5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgICAgICBhdHRyTmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgIGF0dHJOYW1lc3BhY2VVUkkgPSBhdHRyLm5hbWVzcGFjZVVSSTtcbiAgICAgICAgICAgIGF0dHJWYWx1ZSA9IGF0dHIudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZTtcbiAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSBmcm9tTm9kZS5nZXRBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZnJvbVZhbHVlICE9PSBhdHRyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbU5vZGUuc2V0QXR0cmlidXRlTlMoYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSBmcm9tTm9kZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZyb21WYWx1ZSAhPT0gYXR0clZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYW55IGV4dHJhIGF0dHJpYnV0ZXMgZm91bmQgb24gdGhlIG9yaWdpbmFsIERPTSBlbGVtZW50IHRoYXRcbiAgICAvLyB3ZXJlbid0IGZvdW5kIG9uIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICBhdHRycyA9IGZyb21Ob2RlLmF0dHJpYnV0ZXM7XG5cbiAgICBmb3IgKGkgPSBhdHRycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgIGlmIChhdHRyLnNwZWNpZmllZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGF0dHJOYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgYXR0ck5hbWVzcGFjZVVSSSA9IGF0dHIubmFtZXNwYWNlVVJJO1xuXG4gICAgICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgICAgIGF0dHJOYW1lID0gYXR0ci5sb2NhbE5hbWUgfHwgYXR0ck5hbWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWhhc0F0dHJpYnV0ZU5TKHRvTm9kZSwgYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHJOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghaGFzQXR0cmlidXRlTlModG9Ob2RlLCBudWxsLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbU5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQ29waWVzIHRoZSBjaGlsZHJlbiBvZiBvbmUgRE9NIGVsZW1lbnQgdG8gYW5vdGhlciBET00gZWxlbWVudFxuICovXG5mdW5jdGlvbiBtb3ZlQ2hpbGRyZW4oZnJvbUVsLCB0b0VsKSB7XG4gICAgdmFyIGN1ckNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgIHZhciBuZXh0Q2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgdG9FbC5hcHBlbmRDaGlsZChjdXJDaGlsZCk7XG4gICAgICAgIGN1ckNoaWxkID0gbmV4dENoaWxkO1xuICAgIH1cbiAgICByZXR1cm4gdG9FbDtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEdldE5vZGVLZXkobm9kZSkge1xuICAgIHJldHVybiBub2RlLmlkO1xufVxuXG5mdW5jdGlvbiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRvTm9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGZyb21Ob2RlLm5vZGVOYW1lID09PSAnI2RvY3VtZW50JyB8fCBmcm9tTm9kZS5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICAgICAgICB2YXIgdG9Ob2RlSHRtbCA9IHRvTm9kZTtcbiAgICAgICAgICAgIHRvTm9kZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICAgICAgICB0b05vZGUuaW5uZXJIVE1MID0gdG9Ob2RlSHRtbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvTm9kZSA9IHRvRWxlbWVudCh0b05vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGdldE5vZGVLZXkgPSBvcHRpb25zLmdldE5vZGVLZXkgfHwgZGVmYXVsdEdldE5vZGVLZXk7XG4gICAgdmFyIG9uQmVmb3JlTm9kZUFkZGVkID0gb3B0aW9ucy5vbkJlZm9yZU5vZGVBZGRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVBZGRlZCA9IG9wdGlvbnMub25Ob2RlQWRkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVFbFVwZGF0ZWQgPSBvcHRpb25zLm9uQmVmb3JlRWxVcGRhdGVkIHx8IG5vb3A7XG4gICAgdmFyIG9uRWxVcGRhdGVkID0gb3B0aW9ucy5vbkVsVXBkYXRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZU5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uQmVmb3JlTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkID0gb3B0aW9ucy5vbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkIHx8IG5vb3A7XG4gICAgdmFyIGNoaWxkcmVuT25seSA9IG9wdGlvbnMuY2hpbGRyZW5Pbmx5ID09PSB0cnVlO1xuXG4gICAgLy8gVGhpcyBvYmplY3QgaXMgdXNlZCBhcyBhIGxvb2t1cCB0byBxdWlja2x5IGZpbmQgYWxsIGtleWVkIGVsZW1lbnRzIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZS5cbiAgICB2YXIgZnJvbU5vZGVzTG9va3VwID0ge307XG4gICAgdmFyIGtleWVkUmVtb3ZhbExpc3Q7XG5cbiAgICBmdW5jdGlvbiBhZGRLZXllZFJlbW92YWwoa2V5KSB7XG4gICAgICAgIGlmIChrZXllZFJlbW92YWxMaXN0KSB7XG4gICAgICAgICAgICBrZXllZFJlbW92YWxMaXN0LnB1c2goa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleWVkUmVtb3ZhbExpc3QgPSBba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKG5vZGUsIHNraXBLZXllZE5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJDaGlsZCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIGlmIChza2lwS2V5ZWROb2RlcyAmJiAoa2V5ID0gZ2V0Tm9kZUtleShjdXJDaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBza2lwcGluZyBrZXllZCBub2RlcyB0aGVuIHdlIGFkZCB0aGUga2V5XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGEgbGlzdCBzbyB0aGF0IGl0IGNhbiBiZSBoYW5kbGVkIGF0IHRoZSB2ZXJ5IGVuZC5cbiAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGtleSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZXBvcnQgdGhlIG5vZGUgYXMgZGlzY2FyZGVkIGlmIGl0IGlzIG5vdCBrZXllZC4gV2UgZG8gdGhpcyBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0IHRoZSBlbmQgd2UgbG9vcCB0aHJvdWdoIGFsbCBrZXllZCBlbGVtZW50cyB0aGF0IHdlcmUgdW5tYXRjaGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGVuIGRpc2NhcmQgdGhlbSBpbiBvbmUgZmluYWwgcGFzcy5cbiAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckNoaWxkLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKGN1ckNoaWxkLCBza2lwS2V5ZWROb2Rlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIERPTSBub2RlIG91dCBvZiB0aGUgb3JpZ2luYWwgRE9NXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtOb2RlfSBub2RlIFRoZSBub2RlIHRvIHJlbW92ZVxuICAgICAqIEBwYXJhbSAge05vZGV9IHBhcmVudE5vZGUgVGhlIG5vZGVzIHBhcmVudFxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IHNraXBLZXllZE5vZGVzIElmIHRydWUgdGhlbiBlbGVtZW50cyB3aXRoIGtleXMgd2lsbCBiZSBza2lwcGVkIGFuZCBub3QgZGlzY2FyZGVkLlxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUsIHBhcmVudE5vZGUsIHNraXBLZXllZE5vZGVzKSB7XG4gICAgICAgIGlmIChvbkJlZm9yZU5vZGVEaXNjYXJkZWQobm9kZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9uTm9kZURpc2NhcmRlZChub2RlKTtcbiAgICAgICAgd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMobm9kZSwgc2tpcEtleWVkTm9kZXMpO1xuICAgIH1cblxuICAgIC8vIC8vIFRyZWVXYWxrZXIgaW1wbGVtZW50YXRpb24gaXMgbm8gZmFzdGVyLCBidXQga2VlcGluZyB0aGlzIGFyb3VuZCBpbiBjYXNlIHRoaXMgY2hhbmdlcyBpbiB0aGUgZnV0dXJlXG4gICAgLy8gZnVuY3Rpb24gaW5kZXhUcmVlKHJvb3QpIHtcbiAgICAvLyAgICAgdmFyIHRyZWVXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgIC8vICAgICAgICAgcm9vdCxcbiAgICAvLyAgICAgICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UKTtcbiAgICAvL1xuICAgIC8vICAgICB2YXIgZWw7XG4gICAgLy8gICAgIHdoaWxlKChlbCA9IHRyZWVXYWxrZXIubmV4dE5vZGUoKSkpIHtcbiAgICAvLyAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGVsKTtcbiAgICAvLyAgICAgICAgIGlmIChrZXkpIHtcbiAgICAvLyAgICAgICAgICAgICBmcm9tTm9kZXNMb29rdXBba2V5XSA9IGVsO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gLy8gTm9kZUl0ZXJhdG9yIGltcGxlbWVudGF0aW9uIGlzIG5vIGZhc3RlciwgYnV0IGtlZXBpbmcgdGhpcyBhcm91bmQgaW4gY2FzZSB0aGlzIGNoYW5nZXMgaW4gdGhlIGZ1dHVyZVxuICAgIC8vXG4gICAgLy8gZnVuY3Rpb24gaW5kZXhUcmVlKG5vZGUpIHtcbiAgICAvLyAgICAgdmFyIG5vZGVJdGVyYXRvciA9IGRvY3VtZW50LmNyZWF0ZU5vZGVJdGVyYXRvcihub2RlLCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCk7XG4gICAgLy8gICAgIHZhciBlbDtcbiAgICAvLyAgICAgd2hpbGUoKGVsID0gbm9kZUl0ZXJhdG9yLm5leHROb2RlKCkpKSB7XG4gICAgLy8gICAgICAgICB2YXIga2V5ID0gZ2V0Tm9kZUtleShlbCk7XG4gICAgLy8gICAgICAgICBpZiAoa2V5KSB7XG4gICAgLy8gICAgICAgICAgICAgZnJvbU5vZGVzTG9va3VwW2tleV0gPSBlbDtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIGZ1bmN0aW9uIGluZGV4VHJlZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21Ob2Rlc0xvb2t1cFtrZXldID0gY3VyQ2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gV2FsayByZWN1cnNpdmVseVxuICAgICAgICAgICAgICAgIGluZGV4VHJlZShjdXJDaGlsZCk7XG5cbiAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5kZXhUcmVlKGZyb21Ob2RlKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZU5vZGVBZGRlZChlbCkge1xuICAgICAgICBvbk5vZGVBZGRlZChlbCk7XG5cbiAgICAgICAgdmFyIGN1ckNoaWxkID0gZWwuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBjdXJDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgdmFyIGtleSA9IGdldE5vZGVLZXkoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIHZhciB1bm1hdGNoZWRGcm9tRWwgPSBmcm9tTm9kZXNMb29rdXBba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodW5tYXRjaGVkRnJvbUVsICYmIGNvbXBhcmVOb2RlTmFtZXMoY3VyQ2hpbGQsIHVubWF0Y2hlZEZyb21FbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodW5tYXRjaGVkRnJvbUVsLCBjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIG1vcnBoRWwodW5tYXRjaGVkRnJvbUVsLCBjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVOb2RlQWRkZWQoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgY3VyQ2hpbGQgPSBuZXh0U2libGluZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vcnBoRWwoZnJvbUVsLCB0b0VsLCBjaGlsZHJlbk9ubHkpIHtcbiAgICAgICAgdmFyIHRvRWxLZXkgPSBnZXROb2RlS2V5KHRvRWwpO1xuICAgICAgICB2YXIgY3VyRnJvbU5vZGVLZXk7XG5cbiAgICAgICAgaWYgKHRvRWxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgd2l0aCBhbiBJRCBpcyBiZWluZyBtb3JwaGVkIHRoZW4gaXQgaXMgd2lsbCBiZSBpbiB0aGUgZmluYWxcbiAgICAgICAgICAgIC8vIERPTSBzbyBjbGVhciBpdCBvdXQgb2YgdGhlIHNhdmVkIGVsZW1lbnRzIGNvbGxlY3Rpb25cbiAgICAgICAgICAgIGRlbGV0ZSBmcm9tTm9kZXNMb29rdXBbdG9FbEtleV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9Ob2RlLmlzU2FtZU5vZGUgJiYgdG9Ob2RlLmlzU2FtZU5vZGUoZnJvbU5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNoaWxkcmVuT25seSkge1xuICAgICAgICAgICAgaWYgKG9uQmVmb3JlRWxVcGRhdGVkKGZyb21FbCwgdG9FbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3JwaEF0dHJzKGZyb21FbCwgdG9FbCk7XG4gICAgICAgICAgICBvbkVsVXBkYXRlZChmcm9tRWwpO1xuXG4gICAgICAgICAgICBpZiAob25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tRWwubm9kZU5hbWUgIT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICAgIHZhciBjdXJUb05vZGVDaGlsZCA9IHRvRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB2YXIgY3VyVG9Ob2RlS2V5O1xuXG4gICAgICAgICAgICB2YXIgZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdGcm9tRWw7XG5cbiAgICAgICAgICAgIG91dGVyOiB3aGlsZSAoY3VyVG9Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0b05leHRTaWJsaW5nID0gY3VyVG9Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY3VyVG9Ob2RlS2V5ID0gZ2V0Tm9kZUtleShjdXJUb05vZGVDaGlsZCk7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VyRnJvbU5vZGVDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVDaGlsZC5pc1NhbWVOb2RlICYmIGN1clRvTm9kZUNoaWxkLmlzU2FtZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlS2V5ID0gZ2V0Tm9kZUtleShjdXJGcm9tTm9kZUNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRnJvbU5vZGVUeXBlID0gY3VyRnJvbU5vZGVDaGlsZC5ub2RlVHlwZTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNDb21wYXRpYmxlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3RoIG5vZGVzIGJlaW5nIGNvbXBhcmVkIGFyZSBFbGVtZW50IG5vZGVzXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0YXJnZXQgbm9kZSBoYXMgYSBrZXkgc28gd2Ugd2FudCB0byBtYXRjaCBpdCB1cCB3aXRoIHRoZSBjb3JyZWN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVLZXkgIT09IGN1ckZyb21Ob2RlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBET00gdHJlZSBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcga2V5IHNvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBjaGVjayBvdXIgbG9va3VwIHRvIHNlZSBpZiB0aGVyZSBpcyBhIG1hdGNoaW5nIGVsZW1lbnQgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBET00gdHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChtYXRjaGluZ0Zyb21FbCA9IGZyb21Ob2Rlc0xvb2t1cFtjdXJUb05vZGVLZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nID09PSBtYXRjaGluZ0Zyb21FbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHNpbmdsZSBlbGVtZW50IHJlbW92YWxzLiBUbyBhdm9pZCByZW1vdmluZyB0aGUgb3JpZ2luYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRE9NIG5vZGUgb3V0IG9mIHRoZSB0cmVlIChzaW5jZSB0aGF0IGNhbiBicmVhayBDU1MgdHJhbnNpdGlvbnMsIGV0Yy4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSB3aWxsIGluc3RlYWQgZGlzY2FyZCB0aGUgY3VycmVudCBub2RlIGFuZCB3YWl0IHVudGlsIHRoZSBuZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGlvbiB0byBwcm9wZXJseSBtYXRjaCB1cCB0aGUga2V5ZWQgdGFyZ2V0IGVsZW1lbnQgd2l0aCBpdHMgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpbiB0aGUgb3JpZ2luYWwgdHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoaW5nIGtleWVkIGVsZW1lbnQgc29tZXdoZXJlIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGV0J3MgbW92aW5nIHRoZSBvcmlnaW5hbCBET00gbm9kZSBpbnRvIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCBtb3JwaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdC5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBXZSB1c2UgaW5zZXJ0QmVmb3JlIGluc3RlYWQgb2YgcmVwbGFjZUNoaWxkIGJlY2F1c2Ugd2Ugd2FudCB0byBnbyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBgcmVtb3ZlTm9kZSgpYCBmdW5jdGlvbiBmb3IgdGhlIG5vZGUgdGhhdCBpcyBiZWluZyBkaXNjYXJkZWQgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbGlmZWN5Y2xlIGhvb2tzIGFyZSBjb3JyZWN0bHkgaW52b2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tRWwuaW5zZXJ0QmVmb3JlKG1hdGNoaW5nRnJvbUVsLCBjdXJGcm9tTm9kZUNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGN1ckZyb21Ob2RlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIHNraXAgbmVzdGVkIGtleWVkIG5vZGVzIGZyb20gYmVpbmcgcmVtb3ZlZCBzaW5jZSB0aGVyZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgc3RpbGwgYSBjaGFuY2UgdGhleSB3aWxsIGJlIG1hdGNoZWQgdXAgbGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCB0cnVlIC8qIHNraXAga2V5ZWQgbm9kZXMgKi8pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbU5leHRTaWJsaW5nID0gY3VyRnJvbU5vZGVDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IG1hdGNoaW5nRnJvbUVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG5vZGVzIGFyZSBub3QgY29tcGF0aWJsZSBzaW5jZSB0aGUgXCJ0b1wiIG5vZGUgaGFzIGEga2V5IGFuZCB0aGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIG5vIG1hdGNoaW5nIGtleWVkIG5vZGUgaW4gdGhlIHNvdXJjZSB0cmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1ckZyb21Ob2RlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBvcmlnaW5hbCBoYXMgYSBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gaXNDb21wYXRpYmxlICE9PSBmYWxzZSAmJiBjb21wYXJlTm9kZU5hbWVzKGN1ckZyb21Ob2RlQ2hpbGQsIGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGNvbXBhdGlibGUgRE9NIGVsZW1lbnRzIHNvIHRyYW5zZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBcImZyb21cIiBub2RlIHRvIG1hdGNoIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRhcmdldCBET00gbm9kZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChjdXJGcm9tTm9kZUNoaWxkLCBjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1ckZyb21Ob2RlVHlwZSA9PT0gVEVYVF9OT0RFIHx8IGN1ckZyb21Ob2RlVHlwZSA9PSBDT01NRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3RoIG5vZGVzIGJlaW5nIGNvbXBhcmVkIGFyZSBUZXh0IG9yIENvbW1lbnQgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbXBseSB1cGRhdGUgbm9kZVZhbHVlIG9uIHRoZSBvcmlnaW5hbCBub2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIHRoZSB0ZXh0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZC5ub2RlVmFsdWUgPSBjdXJUb05vZGVDaGlsZC5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZHZhbmNlIGJvdGggdGhlIFwidG9cIiBjaGlsZCBhbmQgdGhlIFwiZnJvbVwiIGNoaWxkIHNpbmNlIHdlIGZvdW5kIGEgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGNvbXBhdGlibGUgbWF0Y2ggc28gcmVtb3ZlIHRoZSBvbGQgbm9kZSBmcm9tIHRoZSBET00gYW5kIGNvbnRpbnVlIHRyeWluZyB0byBmaW5kIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2ggaW4gdGhlIG9yaWdpbmFsIERPTS4gSG93ZXZlciwgd2Ugb25seSBkbyB0aGlzIGlmIHRoZSBmcm9tIG5vZGUgaXMgbm90IGtleWVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIGl0IGlzIHBvc3NpYmxlIHRoYXQgYSBrZXllZCBub2RlIG1pZ2h0IG1hdGNoIHVwIHdpdGggYSBub2RlIHNvbWV3aGVyZSBlbHNlIGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyB0YXJnZXQgdHJlZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBkaXNjYXJkIGl0IGp1c3QgeWV0IHNpbmNlIGl0IHN0aWxsIG1pZ2h0IGZpbmQgYVxuICAgICAgICAgICAgICAgICAgICAvLyBob21lIGluIHRoZSBmaW5hbCBET00gdHJlZS4gQWZ0ZXIgZXZlcnl0aGluZyBpcyBkb25lIHdlIHdpbGwgcmVtb3ZlIGFueSBrZXllZCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IGRpZG4ndCBmaW5kIGEgaG9tZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGN1ckZyb21Ob2RlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIHNraXAgbmVzdGVkIGtleWVkIG5vZGVzIGZyb20gYmVpbmcgcmVtb3ZlZCBzaW5jZSB0aGVyZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgc3RpbGwgYSBjaGFuY2UgdGhleSB3aWxsIGJlIG1hdGNoZWQgdXAgbGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCB0cnVlIC8qIHNraXAga2V5ZWQgbm9kZXMgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBnb3QgdGhpcyBmYXIgdGhlbiB3ZSBkaWQgbm90IGZpbmQgYSBjYW5kaWRhdGUgbWF0Y2ggZm9yXG4gICAgICAgICAgICAgICAgLy8gb3VyIFwidG8gbm9kZVwiIGFuZCB3ZSBleGhhdXN0ZWQgYWxsIG9mIHRoZSBjaGlsZHJlbiBcImZyb21cIlxuICAgICAgICAgICAgICAgIC8vIG5vZGVzLiBUaGVyZWZvcmUsIHdlIHdpbGwganVzdCBhcHBlbmQgdGhlIGN1cnJlbnQgXCJ0b1wiIG5vZGVcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgZW5kXG4gICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUtleSAmJiAobWF0Y2hpbmdGcm9tRWwgPSBmcm9tTm9kZXNMb29rdXBbY3VyVG9Ob2RlS2V5XSkgJiYgY29tcGFyZU5vZGVOYW1lcyhtYXRjaGluZ0Zyb21FbCwgY3VyVG9Ob2RlQ2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21FbC5hcHBlbmRDaGlsZChtYXRjaGluZ0Zyb21FbCk7XG4gICAgICAgICAgICAgICAgICAgIG1vcnBoRWwobWF0Y2hpbmdGcm9tRWwsIGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb25CZWZvcmVOb2RlQWRkZWRSZXN1bHQgPSBvbkJlZm9yZU5vZGVBZGRlZChjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gb25CZWZvcmVOb2RlQWRkZWRSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVDaGlsZC5hY3R1YWxpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IGN1clRvTm9kZUNoaWxkLmFjdHVhbGl6ZShmcm9tRWwub3duZXJEb2N1bWVudCB8fCBkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbUVsLmFwcGVuZENoaWxkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU5vZGVBZGRlZChjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgaGF2ZSBwcm9jZXNzZWQgYWxsIG9mIHRoZSBcInRvIG5vZGVzXCIuIElmIGN1ckZyb21Ob2RlQ2hpbGQgaXNcbiAgICAgICAgICAgIC8vIG5vbi1udWxsIHRoZW4gd2Ugc3RpbGwgaGF2ZSBzb21lIGZyb20gbm9kZXMgbGVmdCBvdmVyIHRoYXQgbmVlZFxuICAgICAgICAgICAgLy8gdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgd2hpbGUgKGN1ckZyb21Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGlmICgoY3VyRnJvbU5vZGVLZXkgPSBnZXROb2RlS2V5KGN1ckZyb21Ob2RlQ2hpbGQpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGUgbm9kZSBpcyBrZXllZCBpdCBtaWdodCBiZSBtYXRjaGVkIHVwIGxhdGVyIHNvIHdlIGRlZmVyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgICAgICAgICAgICBhZGRLZXllZFJlbW92YWwoY3VyRnJvbU5vZGVLZXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIHNraXAgbmVzdGVkIGtleWVkIG5vZGVzIGZyb20gYmVpbmcgcmVtb3ZlZCBzaW5jZSB0aGVyZSBpc1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBzdGlsbCBhIGNoYW5jZSB0aGV5IHdpbGwgYmUgbWF0Y2hlZCB1cCBsYXRlclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGN1ckZyb21Ob2RlQ2hpbGQsIGZyb21FbCwgdHJ1ZSAvKiBza2lwIGtleWVkIG5vZGVzICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcGVjaWFsRWxIYW5kbGVyID0gc3BlY2lhbEVsSGFuZGxlcnNbZnJvbUVsLm5vZGVOYW1lXTtcbiAgICAgICAgaWYgKHNwZWNpYWxFbEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNwZWNpYWxFbEhhbmRsZXIoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgfVxuICAgIH0gLy8gRU5EOiBtb3JwaEVsKC4uLilcblxuICAgIHZhciBtb3JwaGVkTm9kZSA9IGZyb21Ob2RlO1xuICAgIHZhciBtb3JwaGVkTm9kZVR5cGUgPSBtb3JwaGVkTm9kZS5ub2RlVHlwZTtcbiAgICB2YXIgdG9Ob2RlVHlwZSA9IHRvTm9kZS5ub2RlVHlwZTtcblxuICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBhcmUgZ2l2ZW4gdHdvIERPTSBub2RlcyB0aGF0IGFyZSBub3RcbiAgICAgICAgLy8gY29tcGF0aWJsZSAoZS5nLiA8ZGl2PiAtLT4gPHNwYW4+IG9yIDxkaXY+IC0tPiBURVhUKVxuICAgICAgICBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIGlmICh0b05vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmVOb2RlTmFtZXMoZnJvbU5vZGUsIHRvTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSBtb3ZlQ2hpbGRyZW4oZnJvbU5vZGUsIGNyZWF0ZUVsZW1lbnROUyh0b05vZGUubm9kZU5hbWUsIHRvTm9kZS5uYW1lc3BhY2VVUkkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdvaW5nIGZyb20gYW4gZWxlbWVudCBub2RlIHRvIGEgdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSB0b05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBURVhUX05PREUgfHwgbW9ycGhlZE5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHsgLy8gVGV4dCBvciBjb21tZW50IG5vZGVcbiAgICAgICAgICAgIGlmICh0b05vZGVUeXBlID09PSBtb3JwaGVkTm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZS5ub2RlVmFsdWUgPSB0b05vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBtb3JwaGVkTm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGV4dCBub2RlIHRvIHNvbWV0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSB0b05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobW9ycGhlZE5vZGUgPT09IHRvTm9kZSkge1xuICAgICAgICAvLyBUaGUgXCJ0byBub2RlXCIgd2FzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIFwiZnJvbSBub2RlXCIgc28gd2UgaGFkIHRvXG4gICAgICAgIC8vIHRvc3Mgb3V0IHRoZSBcImZyb20gbm9kZVwiIGFuZCB1c2UgdGhlIFwidG8gbm9kZVwiXG4gICAgICAgIG9uTm9kZURpc2NhcmRlZChmcm9tTm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbW9ycGhFbChtb3JwaGVkTm9kZSwgdG9Ob2RlLCBjaGlsZHJlbk9ubHkpO1xuXG4gICAgICAgIC8vIFdlIG5vdyBuZWVkIHRvIGxvb3Agb3ZlciBhbnkga2V5ZWQgbm9kZXMgdGhhdCBtaWdodCBuZWVkIHRvIGJlXG4gICAgICAgIC8vIHJlbW92ZWQuIFdlIG9ubHkgZG8gdGhlIHJlbW92YWwgaWYgd2Uga25vdyB0aGF0IHRoZSBrZXllZCBub2RlXG4gICAgICAgIC8vIG5ldmVyIGZvdW5kIGEgbWF0Y2guIFdoZW4gYSBrZXllZCBub2RlIGlzIG1hdGNoZWQgdXAgd2UgcmVtb3ZlXG4gICAgICAgIC8vIGl0IG91dCBvZiBmcm9tTm9kZXNMb29rdXAgYW5kIHdlIHVzZSBmcm9tTm9kZXNMb29rdXAgdG8gZGV0ZXJtaW5lXG4gICAgICAgIC8vIGlmIGEga2V5ZWQgbm9kZSBoYXMgYmVlbiBtYXRjaGVkIHVwIG9yIG5vdFxuICAgICAgICBpZiAoa2V5ZWRSZW1vdmFsTGlzdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wLCBsZW49a2V5ZWRSZW1vdmFsTGlzdC5sZW5ndGg7IGk8bGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxUb1JlbW92ZSA9IGZyb21Ob2Rlc0xvb2t1cFtrZXllZFJlbW92YWxMaXN0W2ldXTtcbiAgICAgICAgICAgICAgICBpZiAoZWxUb1JlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGVsVG9SZW1vdmUsIGVsVG9SZW1vdmUucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY2hpbGRyZW5Pbmx5ICYmIG1vcnBoZWROb2RlICE9PSBmcm9tTm9kZSAmJiBmcm9tTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGlmIChtb3JwaGVkTm9kZS5hY3R1YWxpemUpIHtcbiAgICAgICAgICAgIG1vcnBoZWROb2RlID0gbW9ycGhlZE5vZGUuYWN0dWFsaXplKGZyb21Ob2RlLm93bmVyRG9jdW1lbnQgfHwgZG9jKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoYWQgdG8gc3dhcCBvdXQgdGhlIGZyb20gbm9kZSB3aXRoIGEgbmV3IG5vZGUgYmVjYXVzZSB0aGUgb2xkXG4gICAgICAgIC8vIG5vZGUgd2FzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIHRhcmdldCBub2RlIHRoZW4gd2UgbmVlZCB0b1xuICAgICAgICAvLyByZXBsYWNlIHRoZSBvbGQgRE9NIG5vZGUgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlLiBUaGlzIGlzIG9ubHlcbiAgICAgICAgLy8gcG9zc2libGUgaWYgdGhlIG9yaWdpbmFsIERPTSBub2RlIHdhcyBwYXJ0IG9mIGEgRE9NIHRyZWUgd2hpY2hcbiAgICAgICAgLy8gd2Uga25vdyBpcyB0aGUgY2FzZSBpZiBpdCBoYXMgYSBwYXJlbnQgbm9kZS5cbiAgICAgICAgZnJvbU5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobW9ycGhlZE5vZGUsIGZyb21Ob2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9ycGhlZE5vZGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbW9ycGhkb207XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFtcbiAgLy8gYXR0cmlidXRlIGV2ZW50cyAoY2FuIGJlIHNldCB3aXRoIGF0dHJpYnV0ZXMpXG4gICdvbmNsaWNrJyxcbiAgJ29uZGJsY2xpY2snLFxuICAnb25tb3VzZWRvd24nLFxuICAnb25tb3VzZXVwJyxcbiAgJ29ubW91c2VvdmVyJyxcbiAgJ29ubW91c2Vtb3ZlJyxcbiAgJ29ubW91c2VvdXQnLFxuICAnb25kcmFnc3RhcnQnLFxuICAnb25kcmFnJyxcbiAgJ29uZHJhZ2VudGVyJyxcbiAgJ29uZHJhZ2xlYXZlJyxcbiAgJ29uZHJhZ292ZXInLFxuICAnb25kcm9wJyxcbiAgJ29uZHJhZ2VuZCcsXG4gICdvbmtleWRvd24nLFxuICAnb25rZXlwcmVzcycsXG4gICdvbmtleXVwJyxcbiAgJ29udW5sb2FkJyxcbiAgJ29uYWJvcnQnLFxuICAnb25lcnJvcicsXG4gICdvbnJlc2l6ZScsXG4gICdvbnNjcm9sbCcsXG4gICdvbnNlbGVjdCcsXG4gICdvbmNoYW5nZScsXG4gICdvbnN1Ym1pdCcsXG4gICdvbnJlc2V0JyxcbiAgJ29uZm9jdXMnLFxuICAnb25ibHVyJyxcbiAgJ29uaW5wdXQnLFxuICAvLyBvdGhlciBjb21tb24gZXZlbnRzXG4gICdvbmNvbnRleHRtZW51JyxcbiAgJ29uZm9jdXNpbicsXG4gICdvbmZvY3Vzb3V0J1xuXVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB5b3lvaWZ5QXBwZW5kQ2hpbGQgKGVsLCBjaGlsZHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbm9kZSA9IGNoaWxkc1tpXVxuICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICB5b3lvaWZ5QXBwZW5kQ2hpbGQoZWwsIG5vZGUpXG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG5vZGUgPT09ICdudW1iZXInIHx8XG4gICAgICB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICBub2RlIGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICAgbm9kZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgbm9kZSA9IG5vZGUudG9TdHJpbmcoKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoZWwubGFzdENoaWxkICYmIGVsLmxhc3RDaGlsZC5ub2RlTmFtZSA9PT0gJyN0ZXh0Jykge1xuICAgICAgICBlbC5sYXN0Q2hpbGQubm9kZVZhbHVlICs9IG5vZGVcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlKVxuICAgIH1cbiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlKSB7XG4gICAgICBlbC5hcHBlbmRDaGlsZChub2RlKVxuICAgIH1cbiAgfVxufVxuIiwidmFyIHRvcExldmVsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge31cbnZhciBtaW5Eb2MgPSByZXF1aXJlKCdtaW4tZG9jdW1lbnQnKTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50O1xufSBlbHNlIHtcbiAgICB2YXIgZG9jY3kgPSB0b3BMZXZlbFsnX19HTE9CQUxfRE9DVU1FTlRfQ0FDSEVANCddO1xuXG4gICAgaWYgKCFkb2NjeSkge1xuICAgICAgICBkb2NjeSA9IHRvcExldmVsWydfX0dMT0JBTF9ET0NVTUVOVF9DQUNIRUA0J10gPSBtaW5Eb2M7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkb2NjeTtcbn1cbiIsImlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIG1vZHVsZS5leHBvcnRzID0gc2VsZjtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7fTtcbn1cbiIsImNvbnN0IFV0aWxzID0gcmVxdWlyZSgnLi4vY29yZS9VdGlscycpXG5jb25zdCBUcmFuc2xhdG9yID0gcmVxdWlyZSgnLi4vY29yZS9UcmFuc2xhdG9yJylcbmNvbnN0IGVlID0gcmVxdWlyZSgnbmFtZXNwYWNlLWVtaXR0ZXInKVxuY29uc3QgVXBweVNvY2tldCA9IHJlcXVpcmUoJy4vVXBweVNvY2tldCcpXG4vLyBjb25zdCBlbl9VUyA9IHJlcXVpcmUoJy4uL2xvY2FsZXMvZW5fVVMnKVxuLy8gaW1wb3J0IGRlZXBGcmVlemUgZnJvbSAnZGVlcC1mcmVlemUtc3RyaWN0J1xuXG4vKipcbiAqIE1haW4gVXBweSBjb3JlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdHMgZ2VuZXJhbCBvcHRpb25zLCBsaWtlIGxvY2FsZXMsIHRvIHNob3cgbW9kYWwgb3Igbm90IHRvIHNob3dcbiAqL1xuY2xhc3MgVXBweSB7XG4gIGNvbnN0cnVjdG9yIChvcHRzKSB7XG4gICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgLy8gbG9hZCBFbmdsaXNoIGFzIHRoZSBkZWZhdWx0IGxvY2FsZVxuICAgICAgLy8gbG9jYWxlOiBlbl9VUyxcbiAgICAgIGF1dG9Qcm9jZWVkOiB0cnVlLFxuICAgICAgZGVidWc6IGZhbHNlXG4gICAgfVxuXG4gICAgLy8gTWVyZ2UgZGVmYXVsdCBvcHRpb25zIHdpdGggdGhlIG9uZXMgc2V0IGJ5IHVzZXJcbiAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cylcblxuICAgIC8vIC8vIERpY3RhdGVzIGluIHdoYXQgb3JkZXIgZGlmZmVyZW50IHBsdWdpbiB0eXBlcyBhcmUgcmFuOlxuICAgIC8vIHRoaXMudHlwZXMgPSBbICdwcmVzZXR0ZXInLCAnb3JjaGVzdHJhdG9yJywgJ3Byb2dyZXNzaW5kaWNhdG9yJyxcbiAgICAvLyAgICAgICAgICAgICAgICAgJ2FjcXVpcmVyJywgJ21vZGlmaWVyJywgJ3VwbG9hZGVyJywgJ3ByZXNlbnRlcicsICdkZWJ1Z2dlciddXG5cbiAgICAvLyBDb250YWluZXIgZm9yIGRpZmZlcmVudCB0eXBlcyBvZiBwbHVnaW5zXG4gICAgdGhpcy5wbHVnaW5zID0ge31cblxuICAgIHRoaXMudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKHtsb2NhbGU6IHRoaXMub3B0cy5sb2NhbGV9KVxuICAgIHRoaXMuaTE4biA9IHRoaXMudHJhbnNsYXRvci50cmFuc2xhdGUuYmluZCh0aGlzLnRyYW5zbGF0b3IpXG4gICAgdGhpcy5nZXRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUuYmluZCh0aGlzKVxuICAgIHRoaXMudXBkYXRlTWV0YSA9IHRoaXMudXBkYXRlTWV0YS5iaW5kKHRoaXMpXG4gICAgdGhpcy5pbml0U29ja2V0ID0gdGhpcy5pbml0U29ja2V0LmJpbmQodGhpcylcbiAgICB0aGlzLmxvZyA9IHRoaXMubG9nLmJpbmQodGhpcylcbiAgICB0aGlzLmFkZEZpbGUgPSB0aGlzLmFkZEZpbGUuYmluZCh0aGlzKVxuXG4gICAgdGhpcy5idXMgPSB0aGlzLmVtaXR0ZXIgPSBlZSgpXG4gICAgdGhpcy5vbiA9IHRoaXMuYnVzLm9uLmJpbmQodGhpcy5idXMpXG4gICAgdGhpcy5lbWl0ID0gdGhpcy5idXMuZW1pdC5iaW5kKHRoaXMuYnVzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZpbGVzOiB7fSxcbiAgICAgIGNhcGFiaWxpdGllczoge1xuICAgICAgICByZXN1bWFibGVVcGxvYWRzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHRvdGFsUHJvZ3Jlc3M6IDBcbiAgICB9XG5cbiAgICAvLyBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nXG4gICAgaWYgKHRoaXMub3B0cy5kZWJ1Zykge1xuICAgICAgZ2xvYmFsLlVwcHlTdGF0ZSA9IHRoaXMuc3RhdGVcbiAgICAgIGdsb2JhbC51cHB5TG9nID0gJydcbiAgICAgIGdsb2JhbC5VcHB5QWRkRmlsZSA9IHRoaXMuYWRkRmlsZS5iaW5kKHRoaXMpXG4gICAgICBnbG9iYWwuX1VwcHkgPSB0aGlzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb24gYWxsIHBsdWdpbnMgYW5kIHJ1biBgdXBkYXRlYCBvbiB0aGVtLiBDYWxsZWQgZWFjaCB0aW1lIHN0YXRlIGNoYW5nZXNcbiAgICpcbiAgICovXG4gIHVwZGF0ZUFsbCAoc3RhdGUpIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLnBsdWdpbnMpLmZvckVhY2goKHBsdWdpblR5cGUpID0+IHtcbiAgICAgIHRoaXMucGx1Z2luc1twbHVnaW5UeXBlXS5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICAgICAgcGx1Z2luLnVwZGF0ZShzdGF0ZSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7bmV3U3RhdGV9IG9iamVjdFxuICAgKi9cbiAgc2V0U3RhdGUgKHN0YXRlVXBkYXRlKSB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLCBzdGF0ZVVwZGF0ZSlcbiAgICB0aGlzLmVtaXQoJ2NvcmU6c3RhdGUtdXBkYXRlJywgdGhpcy5zdGF0ZSwgbmV3U3RhdGUsIHN0YXRlVXBkYXRlKVxuXG4gICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlXG4gICAgdGhpcy51cGRhdGVBbGwodGhpcy5zdGF0ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgc3RhdGVcbiAgICpcbiAgICovXG4gIGdldFN0YXRlICgpIHtcbiAgICAvLyB1c2UgZGVlcEZyZWV6ZSBmb3IgZGVidWdnaW5nXG4gICAgLy8gcmV0dXJuIGRlZXBGcmVlemUodGhpcy5zdGF0ZSlcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVxuICB9XG5cbiAgdXBkYXRlTWV0YSAoZGF0YSwgZmlsZUlEKSB7XG4gICAgY29uc3QgdXBkYXRlZEZpbGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRTdGF0ZSgpLmZpbGVzKVxuICAgIGNvbnN0IG5ld01ldGEgPSBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkRmlsZXNbZmlsZUlEXS5tZXRhLCBkYXRhKVxuICAgIHVwZGF0ZWRGaWxlc1tmaWxlSURdID0gT2JqZWN0LmFzc2lnbih7fSwgdXBkYXRlZEZpbGVzW2ZpbGVJRF0sIHtcbiAgICAgIG1ldGE6IG5ld01ldGFcbiAgICB9KVxuICAgIHRoaXMuc2V0U3RhdGUoe2ZpbGVzOiB1cGRhdGVkRmlsZXN9KVxuICB9XG5cbiAgYWRkRmlsZSAoZmlsZSkge1xuICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZmlsZXMpXG5cbiAgICBjb25zdCBmaWxlTmFtZSA9IGZpbGUubmFtZSB8fCAnbm9uYW1lJ1xuICAgIGNvbnN0IGZpbGVUeXBlID0gVXRpbHMuZ2V0RmlsZVR5cGUoZmlsZSkgPyBVdGlscy5nZXRGaWxlVHlwZShmaWxlKS5zcGxpdCgnLycpIDogWycnLCAnJ11cbiAgICBjb25zdCBmaWxlVHlwZUdlbmVyYWwgPSBmaWxlVHlwZVswXVxuICAgIGNvbnN0IGZpbGVUeXBlU3BlY2lmaWMgPSBmaWxlVHlwZVsxXVxuICAgIGNvbnN0IGZpbGVFeHRlbnNpb24gPSBVdGlscy5nZXRGaWxlTmFtZUFuZEV4dGVuc2lvbihmaWxlTmFtZSlbMV1cbiAgICBjb25zdCBpc1JlbW90ZSA9IGZpbGUuaXNSZW1vdGUgfHwgZmFsc2VcblxuICAgIGNvbnN0IGZpbGVJRCA9IFV0aWxzLmdlbmVyYXRlRmlsZUlEKGZpbGVOYW1lKVxuXG4gICAgY29uc3QgbmV3RmlsZSA9IHtcbiAgICAgIHNvdXJjZTogZmlsZS5zb3VyY2UgfHwgJycsXG4gICAgICBpZDogZmlsZUlELFxuICAgICAgbmFtZTogZmlsZU5hbWUsXG4gICAgICBleHRlbnNpb246IGZpbGVFeHRlbnNpb24gfHwgJycsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIG5hbWU6IGZpbGVOYW1lXG4gICAgICB9LFxuICAgICAgdHlwZToge1xuICAgICAgICBnZW5lcmFsOiBmaWxlVHlwZUdlbmVyYWwsXG4gICAgICAgIHNwZWNpZmljOiBmaWxlVHlwZVNwZWNpZmljXG4gICAgICB9LFxuICAgICAgZGF0YTogZmlsZS5kYXRhLFxuICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgcGVyY2VudGFnZTogMCxcbiAgICAgICAgdXBsb2FkQ29tcGxldGU6IGZhbHNlLFxuICAgICAgICB1cGxvYWRTdGFydGVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHNpemU6IGZpbGUuZGF0YS5zaXplIHx8ICdOL0EnLFxuICAgICAgaXNSZW1vdGU6IGlzUmVtb3RlLFxuICAgICAgcmVtb3RlOiBmaWxlLnJlbW90ZSB8fCAnJ1xuICAgIH1cblxuICAgIHVwZGF0ZWRGaWxlc1tmaWxlSURdID0gbmV3RmlsZVxuICAgIHRoaXMuc2V0U3RhdGUoe2ZpbGVzOiB1cGRhdGVkRmlsZXN9KVxuXG4gICAgdGhpcy5idXMuZW1pdCgnZmlsZS1hZGRlZCcsIGZpbGVJRClcbiAgICB0aGlzLmxvZyhgQWRkZWQgZmlsZTogJHtmaWxlTmFtZX0sICR7ZmlsZUlEfSwgbWltZSB0eXBlOiAke2ZpbGVUeXBlfWApXG5cbiAgICBpZiAoZmlsZVR5cGVHZW5lcmFsID09PSAnaW1hZ2UnICYmICFpc1JlbW90ZSkge1xuICAgICAgdGhpcy5hZGRUaHVtYm5haWwobmV3RmlsZS5pZClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRzLmF1dG9Qcm9jZWVkKSB7XG4gICAgICB0aGlzLmJ1cy5lbWl0KCdjb3JlOnVwbG9hZCcpXG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRmlsZSAoZmlsZUlEKSB7XG4gICAgY29uc3QgdXBkYXRlZEZpbGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRTdGF0ZSgpLmZpbGVzKVxuICAgIGRlbGV0ZSB1cGRhdGVkRmlsZXNbZmlsZUlEXVxuICAgIHRoaXMuc2V0U3RhdGUoe2ZpbGVzOiB1cGRhdGVkRmlsZXN9KVxuICAgIHRoaXMubG9nKGBSZW1vdmVkIGZpbGU6ICR7ZmlsZUlEfWApXG4gIH1cblxuICBhZGRUaHVtYm5haWwgKGZpbGVJRCkge1xuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldFN0YXRlKCkuZmlsZXNbZmlsZUlEXVxuXG4gICAgVXRpbHMucmVhZEZpbGUoZmlsZS5kYXRhKVxuICAgICAgLnRoZW4oKGltZ0RhdGFVUkkpID0+IFV0aWxzLmNyZWF0ZUltYWdlVGh1bWJuYWlsKGltZ0RhdGFVUkksIDIwMCkpXG4gICAgICAudGhlbigodGh1bWJuYWlsKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0U3RhdGUoKS5maWxlcylcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkRmlsZXNbZmlsZUlEXSwge1xuICAgICAgICAgIHByZXZpZXc6IHRodW1ibmFpbFxuICAgICAgICB9KVxuICAgICAgICB1cGRhdGVkRmlsZXNbZmlsZUlEXSA9IHVwZGF0ZWRGaWxlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2ZpbGVzOiB1cGRhdGVkRmlsZXN9KVxuICAgICAgfSlcbiAgfVxuXG4gIHN0YXJ0VXBsb2FkICgpIHtcbiAgICB0aGlzLmVtaXQoJ2NvcmU6dXBsb2FkJylcbiAgfVxuXG4gIGNhbGN1bGF0ZVByb2dyZXNzIChkYXRhKSB7XG4gICAgY29uc3QgZmlsZUlEID0gZGF0YS5pZFxuICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0U3RhdGUoKS5maWxlcylcbiAgICBpZiAoIXVwZGF0ZWRGaWxlc1tmaWxlSURdKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUcnlpbmcgdG8gc2V0IHByb2dyZXNzIGZvciBhIGZpbGUgdGhhdOKAmXMgbm90IHdpdGggdXMgYW55bW9yZTogJywgZmlsZUlEKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlZEZpbGUgPSBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkRmlsZXNbZmlsZUlEXSxcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgcHJvZ3Jlc3M6IE9iamVjdC5hc3NpZ24oe30sIHVwZGF0ZWRGaWxlc1tmaWxlSURdLnByb2dyZXNzLCB7XG4gICAgICAgICAgYnl0ZXNVcGxvYWRlZDogZGF0YS5ieXRlc1VwbG9hZGVkLFxuICAgICAgICAgIGJ5dGVzVG90YWw6IGRhdGEuYnl0ZXNUb3RhbCxcbiAgICAgICAgICBwZXJjZW50YWdlOiBNYXRoLnJvdW5kKChkYXRhLmJ5dGVzVXBsb2FkZWQgLyBkYXRhLmJ5dGVzVG90YWwgKiAxMDApLnRvRml4ZWQoMikpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKSlcbiAgICB1cGRhdGVkRmlsZXNbZGF0YS5pZF0gPSB1cGRhdGVkRmlsZVxuXG4gICAgLy8gY2FsY3VsYXRlIHRvdGFsIHByb2dyZXNzLCB1c2luZyB0aGUgbnVtYmVyIG9mIGZpbGVzIGN1cnJlbnRseSB1cGxvYWRpbmcsXG4gICAgLy8gbXVsdGlwbGllZCBieSAxMDAgYW5kIHRoZSBzdW1tIG9mIGluZGl2aWR1YWwgcHJvZ3Jlc3Mgb2YgZWFjaCBmaWxlXG4gICAgY29uc3QgaW5Qcm9ncmVzcyA9IE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykuZmlsdGVyKChmaWxlKSA9PiB7XG4gICAgICByZXR1cm4gdXBkYXRlZEZpbGVzW2ZpbGVdLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWRcbiAgICB9KVxuICAgIGNvbnN0IHByb2dyZXNzTWF4ID0gaW5Qcm9ncmVzcy5sZW5ndGggKiAxMDBcbiAgICBsZXQgcHJvZ3Jlc3NBbGwgPSAwXG4gICAgaW5Qcm9ncmVzcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICBwcm9ncmVzc0FsbCA9IHByb2dyZXNzQWxsICsgdXBkYXRlZEZpbGVzW2ZpbGVdLnByb2dyZXNzLnBlcmNlbnRhZ2VcbiAgICB9KVxuXG4gICAgY29uc3QgdG90YWxQcm9ncmVzcyA9IE1hdGgucm91bmQoKHByb2dyZXNzQWxsICogMTAwIC8gcHJvZ3Jlc3NNYXgpLnRvRml4ZWQoMikpXG5cbiAgICAvLyBpZiAodG90YWxQcm9ncmVzcyA9PT0gMTAwKSB7XG4gICAgLy8gICBjb25zdCBjb21wbGV0ZUZpbGVzID0gT2JqZWN0LmtleXModXBkYXRlZEZpbGVzKS5maWx0ZXIoKGZpbGUpID0+IHtcbiAgICAvLyAgICAgLy8gdGhpcyBzaG91bGQgYmUgYHVwbG9hZENvbXBsZXRlYFxuICAgIC8vICAgICByZXR1cm4gdXBkYXRlZEZpbGVzW2ZpbGVdLnByb2dyZXNzLnBlcmNlbnRhZ2UgPT09IDEwMFxuICAgIC8vICAgfSlcbiAgICAvLyAgIHRoaXMuZW1pdCgnY29yZTpzdWNjZXNzJywgY29tcGxldGVGaWxlcy5sZW5ndGgpXG4gICAgLy8gfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0b3RhbFByb2dyZXNzOiB0b3RhbFByb2dyZXNzLFxuICAgICAgZmlsZXM6IHVwZGF0ZWRGaWxlc1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGxpc3RlbmVycyBmb3IgYWxsIGdsb2JhbCBhY3Rpb25zLCBsaWtlOlxuICAgKiBgZmlsZS1hZGRgLCBgZmlsZS1yZW1vdmVgLCBgdXBsb2FkLXByb2dyZXNzYCwgYHJlc2V0YFxuICAgKlxuICAgKi9cbiAgYWN0aW9ucyAoKSB7XG4gICAgLy8gdGhpcy5idXMub24oJyonLCAocGF5bG9hZCkgPT4ge1xuICAgIC8vICAgY29uc29sZS5sb2coJ2VtaXR0ZWQ6ICcsIHRoaXMuZXZlbnQpXG4gICAgLy8gICBjb25zb2xlLmxvZygnd2l0aCBwYXlsb2FkOiAnLCBwYXlsb2FkKVxuICAgIC8vIH0pXG5cbiAgICAvLyBjb25zdCBidXMgPSB0aGlzLmJ1c1xuXG4gICAgdGhpcy5vbignY29yZTpmaWxlLWFkZCcsIChkYXRhKSA9PiB7XG4gICAgICB0aGlzLmFkZEZpbGUoZGF0YSlcbiAgICB9KVxuXG4gICAgLy8gYHJlbW92ZS1maWxlYCByZW1vdmVzIGEgZmlsZSBmcm9tIGBzdGF0ZS5maWxlc2AsIGZvciBleGFtcGxlIHdoZW5cbiAgICAvLyBhIHVzZXIgZGVjaWRlcyBub3QgdG8gdXBsb2FkIHBhcnRpY3VsYXIgZmlsZSBhbmQgY2xpY2tzIGEgYnV0dG9uIHRvIHJlbW92ZSBpdFxuICAgIHRoaXMub24oJ2NvcmU6ZmlsZS1yZW1vdmUnLCAoZmlsZUlEKSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUZpbGUoZmlsZUlEKVxuICAgIH0pXG5cbiAgICB0aGlzLm9uKCdjb3JlOmNhbmNlbC1hbGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IHRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgICAgT2JqZWN0LmtleXMoZmlsZXMpLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVzW2ZpbGVdLmlkKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5vbignY29yZTp1cGxvYWQtc3RhcnRlZCcsIChmaWxlSUQsIHVwbG9hZCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZEZpbGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRTdGF0ZSgpLmZpbGVzKVxuICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkRmlsZXNbZmlsZUlEXSxcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgIHByb2dyZXNzOiBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkRmlsZXNbZmlsZUlEXS5wcm9ncmVzcywge1xuICAgICAgICAgICAgdXBsb2FkU3RhcnRlZDogRGF0ZS5ub3coKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICkpXG4gICAgICB1cGRhdGVkRmlsZXNbZmlsZUlEXSA9IHVwZGF0ZWRGaWxlXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe2ZpbGVzOiB1cGRhdGVkRmlsZXN9KVxuICAgIH0pXG5cbiAgICAvLyBjb25zdCB0aHJvdHRsZWRDYWxjdWxhdGVQcm9ncmVzcyA9IHRocm90dGxlKDEwMDAsIChkYXRhKSA9PiB0aGlzLmNhbGN1bGF0ZVByb2dyZXNzKGRhdGEpKVxuXG4gICAgdGhpcy5vbignY29yZTp1cGxvYWQtcHJvZ3Jlc3MnLCAoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5jYWxjdWxhdGVQcm9ncmVzcyhkYXRhKVxuICAgICAgLy8gdGhyb3R0bGVkQ2FsY3VsYXRlUHJvZ3Jlc3MoZGF0YSlcbiAgICB9KVxuXG4gICAgdGhpcy5vbignY29yZTp1cGxvYWQtc3VjY2VzcycsIChmaWxlSUQsIHVwbG9hZFVSTCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZEZpbGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRTdGF0ZSgpLmZpbGVzKVxuICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkRmlsZXNbZmlsZUlEXSwge1xuICAgICAgICBwcm9ncmVzczogT2JqZWN0LmFzc2lnbih7fSwgdXBkYXRlZEZpbGVzW2ZpbGVJRF0ucHJvZ3Jlc3MsIHtcbiAgICAgICAgICB1cGxvYWRDb21wbGV0ZTogdHJ1ZVxuICAgICAgICB9KSxcbiAgICAgICAgdXBsb2FkVVJMOiB1cGxvYWRVUkxcbiAgICAgIH0pXG4gICAgICB1cGRhdGVkRmlsZXNbZmlsZUlEXSA9IHVwZGF0ZWRGaWxlXG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZ2V0U3RhdGUoKS50b3RhbFByb2dyZXNzKVxuXG4gICAgICBpZiAodGhpcy5nZXRTdGF0ZSgpLnRvdGFsUHJvZ3Jlc3MgPT09IDEwMCkge1xuICAgICAgICBjb25zdCBjb21wbGV0ZUZpbGVzID0gT2JqZWN0LmtleXModXBkYXRlZEZpbGVzKS5maWx0ZXIoKGZpbGUpID0+IHtcbiAgICAgICAgICAvLyB0aGlzIHNob3VsZCBiZSBgdXBsb2FkQ29tcGxldGVgXG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZWRGaWxlc1tmaWxlXS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmVtaXQoJ2NvcmU6c3VjY2VzcycsIGNvbXBsZXRlRmlsZXMubGVuZ3RoKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXM6IHVwZGF0ZWRGaWxlc1xuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5vbignY29yZTp1cGRhdGUtbWV0YScsIChkYXRhLCBmaWxlSUQpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlTWV0YShkYXRhLCBmaWxlSUQpXG4gICAgfSlcblxuICAgIC8vIHNob3cgaW5mb3JtZXIgaWYgb2ZmbGluZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsICgpID0+IHRoaXMuaXNPbmxpbmUodHJ1ZSkpXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsICgpID0+IHRoaXMuaXNPbmxpbmUoZmFsc2UpKVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmlzT25saW5lKCksIDMwMDApXG4gICAgfVxuICB9XG5cbiAgaXNPbmxpbmUgKHN0YXR1cykge1xuICAgIGNvbnN0IG9ubGluZSA9IHN0YXR1cyB8fCB3aW5kb3cubmF2aWdhdG9yLm9uTGluZVxuICAgIGlmICghb25saW5lKSB7XG4gICAgICB0aGlzLmVtaXQoJ2lzLW9mZmxpbmUnKVxuICAgICAgdGhpcy5lbWl0KCdpbmZvcm1lcicsICdObyBpbnRlcm5ldCBjb25uZWN0aW9uJywgJ2Vycm9yJywgMClcbiAgICAgIHRoaXMud2FzT2ZmbGluZSA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KCdpcy1vbmxpbmUnKVxuICAgICAgaWYgKHRoaXMud2FzT2ZmbGluZSkge1xuICAgICAgICB0aGlzLmVtaXQoJ2luZm9ybWVyJywgJ0Nvbm5lY3RlZCEnLCAnc3VjY2VzcycsIDMwMDApXG4gICAgICAgIHRoaXMud2FzT2ZmbGluZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgcGx1Z2luIHdpdGggQ29yZVxuICpcbiAqIEBwYXJhbSB7Q2xhc3N9IFBsdWdpbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIFBsdWdpbiBsYXRlclxuICogQHJldHVybiB7T2JqZWN0fSBzZWxmIGZvciBjaGFpbmluZ1xuICovXG4gIHVzZSAoUGx1Z2luLCBvcHRzKSB7XG4gICAgLy8gUHJlcGFyZSBwcm9wcyB0byBwYXNzIHRvIHBsdWdpbnNcbiAgICAvLyBjb25zdCBwcm9wcyA9IHtcbiAgICAvLyAgIGdldFN0YXRlOiB0aGlzLmdldFN0YXRlLmJpbmQodGhpcyksXG4gICAgLy8gICBzZXRTdGF0ZTogdGhpcy5zZXRTdGF0ZS5iaW5kKHRoaXMpLFxuICAgIC8vICAgdXBkYXRlTWV0YTogdGhpcy51cGRhdGVNZXRhLmJpbmQodGhpcyksXG4gICAgLy8gICBhZGRGaWxlOiB0aGlzLmFkZEZpbGUuYmluZCh0aGlzKSxcbiAgICAvLyAgIGkxOG46IHRoaXMuaTE4bi5iaW5kKHRoaXMpLFxuICAgIC8vICAgYnVzOiB0aGlzLmVlLFxuICAgIC8vICAgbG9nOiB0aGlzLmxvZy5iaW5kKHRoaXMpXG4gICAgLy8gfVxuXG4gICAgLy8gSW5zdGFudGlhdGVcbiAgICBjb25zdCBwbHVnaW4gPSBuZXcgUGx1Z2luKHRoaXMsIG9wdHMpXG4gICAgY29uc3QgcGx1Z2luTmFtZSA9IHBsdWdpbi5pZFxuICAgIHRoaXMucGx1Z2luc1twbHVnaW4udHlwZV0gPSB0aGlzLnBsdWdpbnNbcGx1Z2luLnR5cGVdIHx8IFtdXG5cbiAgICBpZiAoIXBsdWdpbk5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBwbHVnaW4gbXVzdCBoYXZlIGEgbmFtZScpXG4gICAgfVxuXG4gICAgaWYgKCFwbHVnaW4udHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIHBsdWdpbiBtdXN0IGhhdmUgYSB0eXBlJylcbiAgICB9XG5cbiAgICBsZXQgZXhpc3RzUGx1Z2luQWxyZWFkeSA9IHRoaXMuZ2V0UGx1Z2luKHBsdWdpbk5hbWUpXG4gICAgaWYgKGV4aXN0c1BsdWdpbkFscmVhZHkpIHtcbiAgICAgIGxldCBtc2cgPSBgQWxyZWFkeSBmb3VuZCBhIHBsdWdpbiBuYW1lZCAnJHtleGlzdHNQbHVnaW5BbHJlYWR5Lm5hbWV9Jy5cbiAgICAgICAgVHJpZWQgdG8gdXNlOiAnJHtwbHVnaW5OYW1lfScuXG4gICAgICAgIFVwcHkgaXMgY3VycmVudGx5IGxpbWl0ZWQgdG8gcnVubmluZyBvbmUgb2YgZXZlcnkgcGx1Z2luLlxuICAgICAgICBTaGFyZSB5b3VyIHVzZSBjYXNlIHdpdGggdXMgb3ZlciBhdFxuICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vdHJhbnNsb2FkaXQvdXBweS9pc3N1ZXMvXG4gICAgICAgIGlmIHlvdSB3YW50IHVzIHRvIHJlY29uc2lkZXIuYFxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZylcbiAgICB9XG5cbiAgICB0aGlzLnBsdWdpbnNbcGx1Z2luLnR5cGVdLnB1c2gocGx1Z2luKVxuICAgIHBsdWdpbi5pbnN0YWxsKClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuLyoqXG4gKiBGaW5kIG9uZSBQbHVnaW4gYnkgbmFtZVxuICpcbiAqIEBwYXJhbSBzdHJpbmcgbmFtZSBkZXNjcmlwdGlvblxuICovXG4gIGdldFBsdWdpbiAobmFtZSkge1xuICAgIGxldCBmb3VuZFBsdWdpbiA9IGZhbHNlXG4gICAgdGhpcy5pdGVyYXRlUGx1Z2lucygocGx1Z2luKSA9PiB7XG4gICAgICBjb25zdCBwbHVnaW5OYW1lID0gcGx1Z2luLmlkXG4gICAgICBpZiAocGx1Z2luTmFtZSA9PT0gbmFtZSkge1xuICAgICAgICBmb3VuZFBsdWdpbiA9IHBsdWdpblxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3VuZFBsdWdpblxuICB9XG5cbi8qKlxuICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBgdXNlYGQgcGx1Z2luc1xuICpcbiAqIEBwYXJhbSBmdW5jdGlvbiBtZXRob2QgZGVzY3JpcHRpb25cbiAqL1xuICBpdGVyYXRlUGx1Z2lucyAobWV0aG9kKSB7XG4gICAgT2JqZWN0LmtleXModGhpcy5wbHVnaW5zKS5mb3JFYWNoKChwbHVnaW5UeXBlKSA9PiB7XG4gICAgICB0aGlzLnBsdWdpbnNbcGx1Z2luVHlwZV0uZm9yRWFjaChtZXRob2QpXG4gICAgfSlcbiAgfVxuXG4vKipcbiAqIExvZ3Mgc3R1ZmYgdG8gY29uc29sZSwgb25seSBpZiBgZGVidWdgIGlzIHNldCB0byB0cnVlLiBTaWxlbnQgaW4gcHJvZHVjdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd8T2JqZWN0fSB0byBsb2dcbiAqL1xuICBsb2cgKG1zZywgdHlwZSkge1xuICAgIGlmICghdGhpcy5vcHRzLmRlYnVnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKG1zZyA9PT0gYCR7bXNnfWApIHtcbiAgICAgIGNvbnNvbGUubG9nKGBMT0c6ICR7bXNnfWApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZGlyKG1zZylcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgY29uc29sZS5lcnJvcihgTE9HOiAke21zZ31gKVxuICAgIH1cblxuICAgIGdsb2JhbC51cHB5TG9nID0gZ2xvYmFsLnVwcHlMb2cgKyAnXFxuJyArICdERUJVRyBMT0c6ICcgKyBtc2dcbiAgfVxuXG4gIGluaXRTb2NrZXQgKG9wdHMpIHtcbiAgICBpZiAoIXRoaXMuc29ja2V0KSB7XG4gICAgICB0aGlzLnNvY2tldCA9IG5ldyBVcHB5U29ja2V0KG9wdHMpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc29ja2V0XG4gIH1cblxuICAvLyBpbnN0YWxsQWxsICgpIHtcbiAgLy8gICBPYmplY3Qua2V5cyh0aGlzLnBsdWdpbnMpLmZvckVhY2goKHBsdWdpblR5cGUpID0+IHtcbiAgLy8gICAgIHRoaXMucGx1Z2luc1twbHVnaW5UeXBlXS5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgLy8gICAgICAgcGx1Z2luLmluc3RhbGwodGhpcylcbiAgLy8gICAgIH0pXG4gIC8vICAgfSlcbiAgLy8gfVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFjdGlvbnMsIGluc3RhbGxzIGFsbCBwbHVnaW5zIChieSBpdGVyYXRpbmcgb24gdGhlbSBhbmQgY2FsbGluZyBgaW5zdGFsbGApLCBzZXRzIG9wdGlvbnNcbiAqXG4gKi9cbiAgcnVuICgpIHtcbiAgICB0aGlzLmxvZygnQ29yZSBpcyBydW4sIGluaXRpYWxpemluZyBhY3Rpb25zLi4uJylcblxuICAgIHRoaXMuYWN0aW9ucygpXG5cbiAgICAvLyBGb3JzZSBzZXQgYGF1dG9Qcm9jZWVkYCBvcHRpb24gdG8gZmFsc2UgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHNlbGVjdG9yIFBsdWdpbnMgYWN0aXZlXG4gICAgLy8gaWYgKHRoaXMucGx1Z2lucy5hY3F1aXJlciAmJiB0aGlzLnBsdWdpbnMuYWNxdWlyZXIubGVuZ3RoID4gMSkge1xuICAgIC8vICAgdGhpcy5vcHRzLmF1dG9Qcm9jZWVkID0gZmFsc2VcbiAgICAvLyB9XG5cbiAgICAvLyBJbnN0YWxsIGFsbCBwbHVnaW5zXG4gICAgLy8gdGhpcy5pbnN0YWxsQWxsKClcblxuICAgIHJldHVyblxuICB9XG59XG5cbi8vIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcbi8vICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVwcHkpKSB7XG4vLyAgICAgcmV0dXJuIG5ldyBVcHB5KG9wdHMpXG4vLyAgIH1cbi8vIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVXBweSkpIHtcbiAgICByZXR1cm4gbmV3IFVwcHkob3B0cylcbiAgfVxufVxuIiwiLyoqXG4gKiBUcmFuc2xhdGVzIHN0cmluZ3Mgd2l0aCBpbnRlcnBvbGF0aW9uICYgcGx1cmFsaXphdGlvbiBzdXBwb3J0LlxuICogRXh0ZW5zaWJsZSB3aXRoIGN1c3RvbSBkaWN0aW9uYXJpZXMgYW5kIHBsdXJhbGl6YXRpb24gZnVuY3Rpb25zLlxuICpcbiAqIEJvcnJvd3MgaGVhdmlseSBmcm9tIGFuZCBpbnNwaXJlZCBieSBQb2x5Z2xvdCBodHRwczovL2dpdGh1Yi5jb20vYWlyYm5iL3BvbHlnbG90LmpzLFxuICogYmFzaWNhbGx5IGEgc3RyaXBwZWQtZG93biB2ZXJzaW9uIG9mIGl0LiBEaWZmZXJlbmNlczogcGx1cmFsaXphdGlvbiBmdW5jdGlvbnMgYXJlIG5vdCBoYXJkY29kZWRcbiAqIGFuZCBjYW4gYmUgZWFzaWx5IGFkZGVkIGFtb25nIHdpdGggZGljdGlvbmFyaWVzLCBuZXN0ZWQgb2JqZWN0cyBhcmUgdXNlZCBmb3IgcGx1cmFsaXphdGlvblxuICogYXMgb3Bwb3NlZCB0byBgfHx8fGAgZGVsaW1ldGVyXG4gKlxuICogVXNhZ2UgZXhhbXBsZTogYHRyYW5zbGF0b3IudHJhbnNsYXRlKCdmaWxlc19jaG9zZW4nLCB7c21hcnRfY291bnQ6IDN9KWBcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0c1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFRyYW5zbGF0b3Ige1xuICBjb25zdHJ1Y3RvciAob3B0cykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgbG9jYWxlOiB7XG4gICAgICAgIHN0cmluZ3M6IHt9LFxuICAgICAgICBwbHVyYWxpemU6IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgaWYgKG4gPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAwXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cylcbiAgICB0aGlzLmxvY2FsZSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLmxvY2FsZSwgb3B0cy5sb2NhbGUpXG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLm9wdHMubG9jYWxlKVxuXG4gICAgLy8gdGhpcy5sb2NhbGUucGx1cmFsaXplID0gdGhpcy5sb2NhbGUgPyB0aGlzLmxvY2FsZS5wbHVyYWxpemUgOiBkZWZhdWx0UGx1cmFsaXplXG4gICAgLy8gdGhpcy5sb2NhbGUuc3RyaW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIGVuX1VTLnN0cmluZ3MsIHRoaXMub3B0cy5sb2NhbGUuc3RyaW5ncylcbiAgfVxuXG4vKipcbiAqIFRha2VzIGEgc3RyaW5nIHdpdGggcGxhY2Vob2xkZXIgdmFyaWFibGVzIGxpa2UgYCV7c21hcnRfY291bnR9IGZpbGUgc2VsZWN0ZWRgXG4gKiBhbmQgcmVwbGFjZXMgaXQgd2l0aCB2YWx1ZXMgZnJvbSBvcHRpb25zIGB7c21hcnRfY291bnQ6IDV9YFxuICpcbiAqIEBsaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS9haXJibmIvcG9seWdsb3QuanMvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWlyYm5iL3BvbHlnbG90LmpzL2Jsb2IvbWFzdGVyL2xpYi9wb2x5Z2xvdC5qcyNMMjk5XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBocmFzZSB0aGF0IG5lZWRzIGludGVycG9sYXRpb24sIHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyB3aXRoIHZhbHVlcyB0aGF0IHdpbGwgYmUgdXNlZCB0byByZXBsYWNlIHBsYWNlaG9sZGVyc1xuICogQHJldHVybiB7c3RyaW5nfSBpbnRlcnBvbGF0ZWRcbiAqL1xuICBpbnRlcnBvbGF0ZSAocGhyYXNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZVxuICAgIGNvbnN0IGRvbGxhclJlZ2V4ID0gL1xcJC9nXG4gICAgY29uc3QgZG9sbGFyQmlsbHNZYWxsID0gJyQkJCQnXG5cbiAgICBmb3IgKGxldCBhcmcgaW4gb3B0aW9ucykge1xuICAgICAgaWYgKGFyZyAhPT0gJ18nICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoYXJnKSkge1xuICAgICAgICAvLyBFbnN1cmUgcmVwbGFjZW1lbnQgdmFsdWUgaXMgZXNjYXBlZCB0byBwcmV2ZW50IHNwZWNpYWwgJC1wcmVmaXhlZFxuICAgICAgICAvLyByZWdleCByZXBsYWNlIHRva2Vucy4gdGhlIFwiJCQkJFwiIGlzIG5lZWRlZCBiZWNhdXNlIGVhY2ggXCIkXCIgbmVlZHMgdG9cbiAgICAgICAgLy8gYmUgZXNjYXBlZCB3aXRoIFwiJFwiIGl0c2VsZiwgYW5kIHdlIG5lZWQgdHdvIGluIHRoZSByZXN1bHRpbmcgb3V0cHV0LlxuICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSBvcHRpb25zW2FyZ11cbiAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXBsYWNlbWVudCA9IHJlcGxhY2UuY2FsbChvcHRpb25zW2FyZ10sIGRvbGxhclJlZ2V4LCBkb2xsYXJCaWxsc1lhbGwpXG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgY3JlYXRlIGEgbmV3IGBSZWdFeHBgIGVhY2ggdGltZSBpbnN0ZWFkIG9mIHVzaW5nIGEgbW9yZS1lZmZpY2llbnRcbiAgICAgICAgLy8gc3RyaW5nIHJlcGxhY2Ugc28gdGhhdCB0aGUgc2FtZSBhcmd1bWVudCBjYW4gYmUgcmVwbGFjZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgLy8gaW4gdGhlIHNhbWUgcGhyYXNlLlxuICAgICAgICBwaHJhc2UgPSByZXBsYWNlLmNhbGwocGhyYXNlLCBuZXcgUmVnRXhwKCclXFxcXHsnICsgYXJnICsgJ1xcXFx9JywgJ2cnKSwgcmVwbGFjZW1lbnQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwaHJhc2VcbiAgfVxuXG4vKipcbiAqIFB1YmxpYyB0cmFuc2xhdGUgbWV0aG9kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgd2l0aCB2YWx1ZXMgdGhhdCB3aWxsIGJlIHVzZWQgbGF0ZXIgdG8gcmVwbGFjZSBwbGFjZWhvbGRlcnMgaW4gc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRyYW5zbGF0ZWQgKGFuZCBpbnRlcnBvbGF0ZWQpXG4gKi9cbiAgdHJhbnNsYXRlIChrZXksIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnNtYXJ0X2NvdW50KSB7XG4gICAgICB2YXIgcGx1cmFsID0gdGhpcy5sb2NhbGUucGx1cmFsaXplKG9wdGlvbnMuc21hcnRfY291bnQpXG4gICAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0ZSh0aGlzLm9wdHMubG9jYWxlLnN0cmluZ3Nba2V5XVtwbHVyYWxdLCBvcHRpb25zKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRlKHRoaXMub3B0cy5sb2NhbGUuc3RyaW5nc1trZXldLCBvcHRpb25zKVxuICB9XG59XG4iLCJjb25zdCBlZSA9IHJlcXVpcmUoJ25hbWVzcGFjZS1lbWl0dGVyJylcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBVcHB5U29ja2V0IHtcbiAgY29uc3RydWN0b3IgKG9wdHMpIHtcbiAgICB0aGlzLnF1ZXVlZCA9IFtdXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZVxuICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChvcHRzLnRhcmdldClcbiAgICB0aGlzLmVtaXR0ZXIgPSBlZSgpXG5cbiAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSAoZSkgPT4ge1xuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlXG5cbiAgICAgIHdoaWxlICh0aGlzLnF1ZXVlZC5sZW5ndGggPiAwICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5xdWV1ZWRbMF1cbiAgICAgICAgdGhpcy5zZW5kKGZpcnN0LmFjdGlvbiwgZmlyc3QucGF5bG9hZClcbiAgICAgICAgdGhpcy5xdWV1ZWQgPSB0aGlzLnF1ZXVlZC5zbGljZSgxKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSAoZSkgPT4ge1xuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZU1lc3NhZ2UgPSB0aGlzLl9oYW5kbGVNZXNzYWdlLmJpbmQodGhpcylcblxuICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMuX2hhbmRsZU1lc3NhZ2VcblxuICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcylcbiAgICB0aGlzLmVtaXQgPSB0aGlzLmVtaXQuYmluZCh0aGlzKVxuICAgIHRoaXMub24gPSB0aGlzLm9uLmJpbmQodGhpcylcbiAgICB0aGlzLm9uY2UgPSB0aGlzLm9uY2UuYmluZCh0aGlzKVxuICAgIHRoaXMuc2VuZCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpXG4gIH1cblxuICBjbG9zZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc29ja2V0LmNsb3NlKClcbiAgfVxuXG4gIHNlbmQgKGFjdGlvbiwgcGF5bG9hZCkge1xuICAgIC8vIGF0dGFjaCB1dWlkXG5cbiAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICB0aGlzLnF1ZXVlZC5wdXNoKHthY3Rpb24sIHBheWxvYWR9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhY3Rpb24sXG4gICAgICBwYXlsb2FkXG4gICAgfSkpXG4gIH1cblxuICBvbiAoYWN0aW9uLCBoYW5kbGVyKSB7XG4gICAgY29uc29sZS5sb2coYWN0aW9uKVxuICAgIHRoaXMuZW1pdHRlci5vbihhY3Rpb24sIGhhbmRsZXIpXG4gIH1cblxuICBlbWl0IChhY3Rpb24sIHBheWxvYWQpIHtcbiAgICBjb25zb2xlLmxvZyhhY3Rpb24pXG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoYWN0aW9uLCBwYXlsb2FkKVxuICB9XG5cbiAgb25jZSAoYWN0aW9uLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5lbWl0dGVyLm9uY2UoYWN0aW9uLCBoYW5kbGVyKVxuICB9XG5cbiAgX2hhbmRsZU1lc3NhZ2UgKGUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZS5kYXRhKVxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSlcbiAgICAgIHRoaXMuZW1pdChtZXNzYWdlLmFjdGlvbiwgbWVzc2FnZS5wYXlsb2FkKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH1cbiAgfVxufVxuIiwiLy8gaW1wb3J0IG1pbWUgZnJvbSAnbWltZS10eXBlcydcbi8vIGltcG9ydCBwaWNhIGZyb20gJ3BpY2EnXG5cbi8qKlxuICogQSBjb2xsZWN0aW9uIG9mIHNtYWxsIHV0aWxpdHkgZnVuY3Rpb25zIHRoYXQgaGVscCB3aXRoIGRvbSBtYW5pcHVsYXRpb24sIGFkZGluZyBsaXN0ZW5lcnMsXG4gKiBwcm9taXNlcyBhbmQgb3RoZXIgZ29vZCB0aGluZ3MuXG4gKlxuICogQG1vZHVsZSBVdGlsc1xuICovXG5cbi8qKlxuICogU2hhbGxvdyBmbGF0dGVuIG5lc3RlZCBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW4gKGFycikge1xuICByZXR1cm4gW10uY29uY2F0LmFwcGx5KFtdLCBhcnIpXG59XG5cbmZ1bmN0aW9uIGlzVG91Y2hEZXZpY2UgKCkge1xuICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IC8vIHdvcmtzIG9uIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgICBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgICAvLyB3b3JrcyBvbiBJRTEwLzExIGFuZCBTdXJmYWNlXG59XG5cbi8vIC8qKlxuLy8gICogU2hvcnRlciBhbmQgZmFzdCB3YXkgdG8gc2VsZWN0IGEgc2luZ2xlIG5vZGUgaW4gdGhlIERPTVxuLy8gICogQHBhcmFtICAgeyBTdHJpbmcgfSBzZWxlY3RvciAtIHVuaXF1ZSBkb20gc2VsZWN0b3Jcbi8vICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gY3R4IC0gRE9NIG5vZGUgd2hlcmUgdGhlIHRhcmdldCBvZiBvdXIgc2VhcmNoIHdpbGwgaXMgbG9jYXRlZFxuLy8gICogQHJldHVybnMgeyBPYmplY3QgfSBkb20gbm9kZSBmb3VuZFxuLy8gICovXG4vLyBmdW5jdGlvbiAkIChzZWxlY3RvciwgY3R4KSB7XG4vLyAgIHJldHVybiAoY3R4IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuLy8gfVxuXG4vLyAvKipcbi8vICAqIFNob3J0ZXIgYW5kIGZhc3Qgd2F5IHRvIHNlbGVjdCBtdWx0aXBsZSBub2RlcyBpbiB0aGUgRE9NXG4vLyAgKiBAcGFyYW0gICB7IFN0cmluZ3xBcnJheSB9IHNlbGVjdG9yIC0gRE9NIHNlbGVjdG9yIG9yIG5vZGVzIGxpc3Rcbi8vICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gY3R4IC0gRE9NIG5vZGUgd2hlcmUgdGhlIHRhcmdldHMgb2Ygb3VyIHNlYXJjaCB3aWxsIGlzIGxvY2F0ZWRcbi8vICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZG9tIG5vZGVzIGZvdW5kXG4vLyAgKi9cbi8vIGZ1bmN0aW9uICQkIChzZWxlY3RvciwgY3R4KSB7XG4vLyAgIHZhciBlbHNcbi8vICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbi8vICAgICBlbHMgPSAoY3R4IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKVxuLy8gICB9IGVsc2Uge1xuLy8gICAgIGVscyA9IHNlbGVjdG9yXG4vLyAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVscylcbi8vICAgfVxuLy8gfVxuXG5mdW5jdGlvbiB0cnVuY2F0ZVN0cmluZyAoc3RyLCBsZW5ndGgpIHtcbiAgaWYgKHN0ci5sZW5ndGggPiBsZW5ndGgpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBsZW5ndGggLyAyKSArICcuLi4nICsgc3RyLnN1YnN0cihzdHIubGVuZ3RoIC0gbGVuZ3RoIC8gNCwgc3RyLmxlbmd0aClcbiAgfVxuICByZXR1cm4gc3RyXG5cbiAgLy8gbW9yZSBwcmVjaXNlIHZlcnNpb24gaWYgbmVlZGVkXG4gIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzgzMTU4M1xufVxuXG5mdW5jdGlvbiBzZWNvbmRzVG9UaW1lIChyYXdTZWNvbmRzKSB7XG4gIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihyYXdTZWNvbmRzIC8gMzYwMCkgJSAyNFxuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihyYXdTZWNvbmRzIC8gNjApICUgNjBcbiAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IocmF3U2Vjb25kcyAlIDYwKVxuXG4gIHJldHVybiB7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzIH1cbn1cblxuLyoqXG4gKiBQYXJ0aXRpb24gYXJyYXkgYnkgYSBncm91cGluZyBmdW5jdGlvbi5cbiAqIEBwYXJhbSAge1t0eXBlXX0gYXJyYXkgICAgICBJbnB1dCBhcnJheVxuICogQHBhcmFtICB7W3R5cGVdfSBncm91cGluZ0ZuIEdyb3VwaW5nIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgQXJyYXkgb2YgYXJyYXlzXG4gKi9cbmZ1bmN0aW9uIGdyb3VwQnkgKGFycmF5LCBncm91cGluZ0ZuKSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgIGxldCBrZXkgPSBncm91cGluZ0ZuKGl0ZW0pXG4gICAgbGV0IHhzID0gcmVzdWx0LmdldChrZXkpIHx8IFtdXG4gICAgeHMucHVzaChpdGVtKVxuICAgIHJlc3VsdC5zZXQoa2V5LCB4cylcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sIG5ldyBNYXAoKSlcbn1cblxuLyoqXG4gKiBUZXN0cyBpZiBldmVyeSBhcnJheSBlbGVtZW50IHBhc3NlcyBwcmVkaWNhdGVcbiAqIEBwYXJhbSAge0FycmF5fSAgYXJyYXkgICAgICAgSW5wdXQgYXJyYXlcbiAqIEBwYXJhbSAge09iamVjdH0gcHJlZGljYXRlRm4gUHJlZGljYXRlXG4gKiBAcmV0dXJuIHtib29sfSAgICAgICAgICAgICAgIEV2ZXJ5IGVsZW1lbnQgcGFzc1xuICovXG5mdW5jdGlvbiBldmVyeSAoYXJyYXksIHByZWRpY2F0ZUZuKSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlZGljYXRlRm4oaXRlbSlcbiAgfSwgdHJ1ZSlcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBsaXN0IGludG8gYXJyYXlcbiovXG5mdW5jdGlvbiB0b0FycmF5IChsaXN0KSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChsaXN0IHx8IFtdLCAwKVxufVxuXG4vKipcbiAqIFRha2VzIGEgZmlsZU5hbWUgYW5kIHR1cm5zIGl0IGludG8gZmlsZUlELCBieSBjb252ZXJ0aW5nIHRvIGxvd2VyY2FzZSxcbiAqIHJlbW92aW5nIGV4dHJhIGNoYXJhY3RlcnMgYW5kIGFkZGluZyB1bml4IHRpbWVzdGFtcFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlTmFtZVxuICpcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGaWxlSUQgKGZpbGVOYW1lKSB7XG4gIGxldCBmaWxlSUQgPSBmaWxlTmFtZS50b0xvd2VyQ2FzZSgpXG4gIGZpbGVJRCA9IGZpbGVJRC5yZXBsYWNlKC9bXkEtWjAtOV0vaWcsICcnKVxuICBmaWxlSUQgPSBmaWxlSUQgKyBEYXRlLm5vdygpXG4gIHJldHVybiBmaWxlSURcbn1cblxuZnVuY3Rpb24gZXh0ZW5kICguLi5vYmpzKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KHRoaXMsIFt7fV0uY29uY2F0KG9ianMpKVxufVxuXG4vKipcbiAqIFRha2VzIGZ1bmN0aW9uIG9yIGNsYXNzLCByZXR1cm5zIGl0cyBuYW1lLlxuICogQmVjYXVzZSBJRSBkb2VzbuKAmXQgc3VwcG9ydCBgY29uc3RydWN0b3IubmFtZWAuXG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kZmtheWUvNjM4NDQzOSwgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTU3MTQ0NDVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZm4g4oCUIGZ1bmN0aW9uXG4gKlxuICovXG4vLyBmdW5jdGlvbiBnZXRGbk5hbWUgKGZuKSB7XG4vLyAgIHZhciBmID0gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nXG4vLyAgIHZhciBzID0gZiAmJiAoKGZuLm5hbWUgJiYgWycnLCBmbi5uYW1lXSkgfHwgZm4udG9TdHJpbmcoKS5tYXRjaCgvZnVuY3Rpb24gKFteXFwoXSspLykpXG4vLyAgIHJldHVybiAoIWYgJiYgJ25vdCBhIGZ1bmN0aW9uJykgfHwgKHMgJiYgc1sxXSB8fCAnYW5vbnltb3VzJylcbi8vIH1cblxuZnVuY3Rpb24gZ2V0UHJvcG9ydGlvbmFsSW1hZ2VIZWlnaHQgKGltZywgbmV3V2lkdGgpIHtcbiAgdmFyIGFzcGVjdCA9IGltZy53aWR0aCAvIGltZy5oZWlnaHRcbiAgdmFyIG5ld0hlaWdodCA9IE1hdGgucm91bmQobmV3V2lkdGggLyBhc3BlY3QpXG4gIHJldHVybiBuZXdIZWlnaHRcbn1cblxuZnVuY3Rpb24gZ2V0RmlsZVR5cGUgKGZpbGUpIHtcbiAgaWYgKGZpbGUudHlwZSkge1xuICAgIHJldHVybiBmaWxlLnR5cGVcbiAgfVxuICByZXR1cm4gJydcbiAgLy8gcmV0dXJuIG1pbWUubG9va3VwKGZpbGUubmFtZSlcbn1cblxuLy8gcmV0dXJucyBbZmlsZU5hbWUsIGZpbGVFeHRdXG5mdW5jdGlvbiBnZXRGaWxlTmFtZUFuZEV4dGVuc2lvbiAoZnVsbEZpbGVOYW1lKSB7XG4gIHZhciByZSA9IC8oPzpcXC4oW14uXSspKT8kL1xuICB2YXIgZmlsZUV4dCA9IHJlLmV4ZWMoZnVsbEZpbGVOYW1lKVsxXVxuICB2YXIgZmlsZU5hbWUgPSBmdWxsRmlsZU5hbWUucmVwbGFjZSgnLicgKyBmaWxlRXh0LCAnJylcbiAgcmV0dXJuIFtmaWxlTmFtZSwgZmlsZUV4dF1cbn1cblxuLyoqXG4gKiBSZWFkcyBmaWxlIGFzIGRhdGEgVVJJIGZyb20gZmlsZSBvYmplY3QsXG4gKiB0aGUgb25lIHlvdSBnZXQgZnJvbSBpbnB1dFt0eXBlPWZpbGVdIG9yIGRyYWcgJiBkcm9wLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaWxlIG9iamVjdFxuICogQHJldHVybiB7UHJvbWlzZX0gZGF0YVVSTCBvZiB0aGUgZmlsZVxuICpcbiAqL1xuZnVuY3Rpb24gcmVhZEZpbGUgKGZpbGVPYmopIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKGV2LnRhcmdldC5yZXN1bHQpXG4gICAgfSlcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlT2JqKVxuXG4gICAgLy8gZnVuY3Rpb24gd29ya2VyU2NyaXB0ICgpIHtcbiAgICAvLyAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IGZpbGUgPSBlLmRhdGEuZmlsZVxuICAgIC8vICAgICB0cnkge1xuICAgIC8vICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyU3luYygpXG4gICAgLy8gICAgICAgcG9zdE1lc3NhZ2Uoe1xuICAgIC8vICAgICAgICAgZmlsZTogcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSlcbiAgICAvLyAgICAgICB9KVxuICAgIC8vICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH0pXG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gY29uc3Qgd29ya2VyID0gbWFrZVdvcmtlcih3b3JrZXJTY3JpcHQpXG4gICAgLy8gd29ya2VyLnBvc3RNZXNzYWdlKHtmaWxlOiBmaWxlT2JqfSlcbiAgICAvLyB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgLy8gICBjb25zdCBmaWxlRGF0YVVSTCA9IGUuZGF0YS5maWxlXG4gICAgLy8gICBjb25zb2xlLmxvZygnRklMRSBfIERBVEEgXyBVUkwnKVxuICAgIC8vICAgcmV0dXJuIHJlc29sdmUoZmlsZURhdGFVUkwpXG4gICAgLy8gfSlcbiAgfSlcbn1cblxuLyoqXG4gKiBSZXNpemVzIGFuIGltYWdlIHRvIHNwZWNpZmllZCB3aWR0aCBhbmQgcHJvcG9ydGlvbmFsIGhlaWdodCwgdXNpbmcgY2FudmFzXG4gKiBTZWUgaHR0cHM6Ly9kYXZpZHdhbHNoLm5hbWUvcmVzaXplLWltYWdlLWNhbnZhcyxcbiAqIGh0dHA6Ly9iYWJhbGFuLmNvbS9yZXNpemluZy1pbWFnZXMtd2l0aC1qYXZhc2NyaXB0L1xuICogQFRPRE8gc2VlIGlmIHdlIG5lZWQgaHR0cHM6Ly9naXRodWIuY29tL3N0b21pdGEvaW9zLWltYWdlZmlsZS1tZWdhcGl4ZWwgZm9yIGlPU1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBEYXRhIFVSSSBvZiB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAqIEBwYXJhbSB7U3RyaW5nfSB3aWR0aCBvZiB0aGUgcmVzdWx0aW5nIGltYWdlXG4gKiBAcmV0dXJuIHtTdHJpbmd9IERhdGEgVVJJIG9mIHRoZSByZXNpemVkIGltYWdlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUltYWdlVGh1bWJuYWlsIChpbWdEYXRhVVJJLCBuZXdXaWR0aCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdJbWFnZVdpZHRoID0gbmV3V2lkdGhcbiAgICAgIGNvbnN0IG5ld0ltYWdlSGVpZ2h0ID0gZ2V0UHJvcG9ydGlvbmFsSW1hZ2VIZWlnaHQoaW1nLCBuZXdJbWFnZVdpZHRoKVxuXG4gICAgICAvLyBjcmVhdGUgYW4gb2ZmLXNjcmVlbiBjYW52YXNcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuXG4gICAgICAvLyBzZXQgaXRzIGRpbWVuc2lvbiB0byB0YXJnZXQgc2l6ZVxuICAgICAgY2FudmFzLndpZHRoID0gbmV3SW1hZ2VXaWR0aFxuICAgICAgY2FudmFzLmhlaWdodCA9IG5ld0ltYWdlSGVpZ2h0XG5cbiAgICAgIC8vIGRyYXcgc291cmNlIGltYWdlIGludG8gdGhlIG9mZi1zY3JlZW4gY2FudmFzOlxuICAgICAgLy8gY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIG5ld0ltYWdlV2lkdGgsIG5ld0ltYWdlSGVpZ2h0KVxuXG4gICAgICAvLyBwaWNhLnJlc2l6ZUNhbnZhcyhpbWcsIGNhbnZhcywgKGVycikgPT4ge1xuICAgICAgLy8gICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAvLyAgIGNvbnN0IHRodW1ibmFpbCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpXG4gICAgICAvLyAgIHJldHVybiByZXNvbHZlKHRodW1ibmFpbClcbiAgICAgIC8vIH0pXG5cbiAgICAgIC8vIGVuY29kZSBpbWFnZSB0byBkYXRhLXVyaSB3aXRoIGJhc2U2NCB2ZXJzaW9uIG9mIGNvbXByZXNzZWQgaW1hZ2VcbiAgICAgIC8vIGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCBxdWFsaXR5KTsgIC8vIHF1YWxpdHkgPSBbMC4wLCAxLjBdXG4gICAgICBjb25zdCB0aHVtYm5haWwgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKVxuICAgICAgcmV0dXJuIHJlc29sdmUodGh1bWJuYWlsKVxuICAgIH0pXG4gICAgaW1nLnNyYyA9IGltZ0RhdGFVUklcbiAgfSlcbn1cblxuZnVuY3Rpb24gZGF0YVVSSXRvQmxvYiAoZGF0YVVSSSwgb3B0cywgdG9GaWxlKSB7XG4gIC8vIGdldCB0aGUgYmFzZTY0IGRhdGFcbiAgdmFyIGRhdGEgPSBkYXRhVVJJLnNwbGl0KCcsJylbMV1cblxuICAvLyB1c2VyIG1heSBwcm92aWRlIG1pbWUgdHlwZSwgaWYgbm90IGdldCBpdCBmcm9tIGRhdGEgVVJJXG4gIHZhciBtaW1lVHlwZSA9IG9wdHMubWltZVR5cGUgfHwgZGF0YVVSSS5zcGxpdCgnLCcpWzBdLnNwbGl0KCc6JylbMV0uc3BsaXQoJzsnKVswXVxuXG4gIC8vIGRlZmF1bHQgdG8gcGxhaW4vdGV4dCBpZiBkYXRhIFVSSSBoYXMgbm8gbWltZVR5cGVcbiAgaWYgKG1pbWVUeXBlID09IG51bGwpIHtcbiAgICBtaW1lVHlwZSA9ICdwbGFpbi90ZXh0J1xuICB9XG5cbiAgdmFyIGJpbmFyeSA9IGF0b2IoZGF0YSlcbiAgdmFyIGFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJheS5wdXNoKGJpbmFyeS5jaGFyQ29kZUF0KGkpKVxuICB9XG5cbiAgLy8gQ29udmVydCB0byBhIEZpbGU/XG4gIGlmICh0b0ZpbGUpIHtcbiAgICByZXR1cm4gbmV3IEZpbGUoW25ldyBVaW50OEFycmF5KGFycmF5KV0sIG9wdHMubmFtZSB8fCAnJywge3R5cGU6IG1pbWVUeXBlfSlcbiAgfVxuXG4gIHJldHVybiBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXSwge3R5cGU6IG1pbWVUeXBlfSlcbn1cblxuZnVuY3Rpb24gZGF0YVVSSXRvRmlsZSAoZGF0YVVSSSwgb3B0cykge1xuICByZXR1cm4gZGF0YVVSSXRvQmxvYihkYXRhVVJJLCBvcHRzLCB0cnVlKVxufVxuXG4vKipcbiAqIENvcGllcyB0ZXh0IHRvIGNsaXBib2FyZCBieSBjcmVhdGluZyBhbiBhbG1vc3QgaW52aXNpYmxlIHRleHRhcmVhLFxuICogYWRkaW5nIHRleHQgdGhlcmUsIHRoZW4gcnVubmluZyBleGVjQ29tbWFuZCgnY29weScpLlxuICogRmFsbHMgYmFjayB0byBwcm9tcHQoKSB3aGVuIHRoZSBlYXN5IHdheSBmYWlscyAoaGVsbG8sIFNhZmFyaSEpXG4gKiBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMwODEwMzIyXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRleHRUb0NvcHlcbiAqIEBwYXJhbSB7U3RyaW5nfSBmYWxsYmFja1N0cmluZ1xuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkICh0ZXh0VG9Db3B5LCBmYWxsYmFja1N0cmluZykge1xuICBmYWxsYmFja1N0cmluZyA9IGZhbGxiYWNrU3RyaW5nIHx8ICdDb3B5IHRoZSBVUkwgYmVsb3cnXG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJylcbiAgICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywge1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgd2lkdGg6ICcyZW0nLFxuICAgICAgaGVpZ2h0OiAnMmVtJyxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIGJveFNoYWRvdzogJ25vbmUnLFxuICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuICAgIH0pXG5cbiAgICB0ZXh0QXJlYS52YWx1ZSA9IHRleHRUb0NvcHlcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKVxuICAgIHRleHRBcmVhLnNlbGVjdCgpXG5cbiAgICBjb25zdCBtYWdpY0NvcHlGYWlsZWQgPSAoZXJyKSA9PiB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKVxuICAgICAgd2luZG93LnByb21wdChmYWxsYmFja1N0cmluZywgdGV4dFRvQ29weSlcbiAgICAgIHJldHVybiByZWplY3QoJ09vcHMsIHVuYWJsZSB0byBjb3B5IGRpc3BsYXllZCBmYWxsYmFjayBwcm9tcHQ6ICcgKyBlcnIpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpXG4gICAgICBpZiAoIXN1Y2Nlc3NmdWwpIHtcbiAgICAgICAgcmV0dXJuIG1hZ2ljQ29weUZhaWxlZCgnY29weSBjb21tYW5kIHVuYXZhaWxhYmxlJylcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpXG4gICAgICByZXR1cm4gcmVzb2x2ZSgpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKVxuICAgICAgcmV0dXJuIG1hZ2ljQ29weUZhaWxlZChlcnIpXG4gICAgfVxuICB9KVxufVxuXG4vLyBmdW5jdGlvbiBjcmVhdGVJbmxpbmVXb3JrZXIgKHdvcmtlckZ1bmN0aW9uKSB7XG4vLyAgIGxldCBjb2RlID0gd29ya2VyRnVuY3Rpb24udG9TdHJpbmcoKVxuLy8gICBjb2RlID0gY29kZS5zdWJzdHJpbmcoY29kZS5pbmRleE9mKCd7JykgKyAxLCBjb2RlLmxhc3RJbmRleE9mKCd9JykpXG4vL1xuLy8gICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NvZGVdLCB7dHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnfSlcbi8vICAgY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKVxuLy9cbi8vICAgcmV0dXJuIHdvcmtlclxuLy8gfVxuXG4vLyBmdW5jdGlvbiBtYWtlV29ya2VyIChzY3JpcHQpIHtcbi8vICAgdmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTFxuLy8gICB2YXIgQmxvYiA9IHdpbmRvdy5CbG9iXG4vLyAgIHZhciBXb3JrZXIgPSB3aW5kb3cuV29ya2VyXG4vL1xuLy8gICBpZiAoIVVSTCB8fCAhQmxvYiB8fCAhV29ya2VyIHx8ICFzY3JpcHQpIHtcbi8vICAgICByZXR1cm4gbnVsbFxuLy8gICB9XG4vL1xuLy8gICBsZXQgY29kZSA9IHNjcmlwdC50b1N0cmluZygpXG4vLyAgIGNvZGUgPSBjb2RlLnN1YnN0cmluZyhjb2RlLmluZGV4T2YoJ3snKSArIDEsIGNvZGUubGFzdEluZGV4T2YoJ30nKSlcbi8vXG4vLyAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NvZGVdKVxuLy8gICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKVxuLy8gICByZXR1cm4gd29ya2VyXG4vLyB9XG5cbmZ1bmN0aW9uIGdldFNwZWVkIChmaWxlUHJvZ3Jlc3MpIHtcbiAgaWYgKCFmaWxlUHJvZ3Jlc3MuYnl0ZXNVcGxvYWRlZCkgcmV0dXJuIDBcblxuICBjb25zdCB0aW1lRWxhcHNlZCA9IChuZXcgRGF0ZSgpKSAtIGZpbGVQcm9ncmVzcy51cGxvYWRTdGFydGVkXG4gIGNvbnN0IHVwbG9hZFNwZWVkID0gZmlsZVByb2dyZXNzLmJ5dGVzVXBsb2FkZWQgLyAodGltZUVsYXBzZWQgLyAxMDAwKVxuICByZXR1cm4gdXBsb2FkU3BlZWRcbn1cblxuZnVuY3Rpb24gZ2V0RVRBIChmaWxlUHJvZ3Jlc3MpIHtcbiAgaWYgKCFmaWxlUHJvZ3Jlc3MuYnl0ZXNVcGxvYWRlZCkgcmV0dXJuIDBcblxuICBjb25zdCB1cGxvYWRTcGVlZCA9IGdldFNwZWVkKGZpbGVQcm9ncmVzcylcbiAgY29uc3QgYnl0ZXNSZW1haW5pbmcgPSBmaWxlUHJvZ3Jlc3MuYnl0ZXNUb3RhbCAtIGZpbGVQcm9ncmVzcy5ieXRlc1VwbG9hZGVkXG4gIGNvbnN0IHNlY29uZHNSZW1haW5pbmcgPSBNYXRoLnJvdW5kKGJ5dGVzUmVtYWluaW5nIC8gdXBsb2FkU3BlZWQgKiAxMCkgLyAxMFxuXG4gIHJldHVybiBzZWNvbmRzUmVtYWluaW5nXG59XG5cbmZ1bmN0aW9uIHByZXR0eUVUQSAoc2Vjb25kcykge1xuICBjb25zdCB0aW1lID0gc2Vjb25kc1RvVGltZShzZWNvbmRzKVxuXG4gIC8vIE9ubHkgZGlzcGxheSBob3VycyBhbmQgbWludXRlcyBpZiB0aGV5IGFyZSBncmVhdGVyIHRoYW4gMCBidXQgYWx3YXlzXG4gIC8vIGRpc3BsYXkgbWludXRlcyBpZiBob3VycyBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgLy8gRGlzcGxheSBhIGxlYWRpbmcgemVybyBpZiB0aGUgdGhlcmUgaXMgYSBwcmVjZWRpbmcgdW5pdDogMW0gMDVzLCBidXQgNXNcbiAgY29uc3QgaG91cnNTdHIgPSB0aW1lLmhvdXJzID8gdGltZS5ob3VycyArICdoICcgOiAnJ1xuICBjb25zdCBtaW51dGVzVmFsID0gdGltZS5ob3VycyA/ICgnMCcgKyB0aW1lLm1pbnV0ZXMpLnN1YnN0cigtMikgOiB0aW1lLm1pbnV0ZXNcbiAgY29uc3QgbWludXRlc1N0ciA9IG1pbnV0ZXNWYWwgPyBtaW51dGVzVmFsICsgJ20gJyA6ICcnXG4gIGNvbnN0IHNlY29uZHNWYWwgPSBtaW51dGVzVmFsID8gKCcwJyArIHRpbWUuc2Vjb25kcykuc3Vic3RyKC0yKSA6IHRpbWUuc2Vjb25kc1xuICBjb25zdCBzZWNvbmRzU3RyID0gc2Vjb25kc1ZhbCArICdzJ1xuXG4gIHJldHVybiBgJHtob3Vyc1N0cn0ke21pbnV0ZXNTdHJ9JHtzZWNvbmRzU3RyfWBcbn1cblxuLy8gZnVuY3Rpb24gbWFrZUNhY2hpbmdGdW5jdGlvbiAoKSB7XG4vLyAgIGxldCBjYWNoZWRFbCA9IG51bGxcbi8vICAgbGV0IGxhc3RVcGRhdGUgPSBEYXRlLm5vdygpXG4vL1xuLy8gICByZXR1cm4gZnVuY3Rpb24gY2FjaGVFbGVtZW50IChlbCwgdGltZSkge1xuLy8gICAgIGlmIChEYXRlLm5vdygpIC0gbGFzdFVwZGF0ZSA8IHRpbWUpIHtcbi8vICAgICAgIHJldHVybiBjYWNoZWRFbFxuLy8gICAgIH1cbi8vXG4vLyAgICAgY2FjaGVkRWwgPSBlbFxuLy8gICAgIGxhc3RVcGRhdGUgPSBEYXRlLm5vdygpXG4vL1xuLy8gICAgIHJldHVybiBlbFxuLy8gICB9XG4vLyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZW5lcmF0ZUZpbGVJRCxcbiAgdG9BcnJheSxcbiAgZXZlcnksXG4gIGZsYXR0ZW4sXG4gIGdyb3VwQnksXG4gIC8vICQsXG4gIC8vICQkLFxuICBleHRlbmQsXG4gIHJlYWRGaWxlLFxuICBjcmVhdGVJbWFnZVRodW1ibmFpbCxcbiAgZ2V0UHJvcG9ydGlvbmFsSW1hZ2VIZWlnaHQsXG4gIGlzVG91Y2hEZXZpY2UsXG4gIGdldEZpbGVOYW1lQW5kRXh0ZW5zaW9uLFxuICB0cnVuY2F0ZVN0cmluZyxcbiAgZ2V0RmlsZVR5cGUsXG4gIHNlY29uZHNUb1RpbWUsXG4gIGRhdGFVUkl0b0Jsb2IsXG4gIGRhdGFVUkl0b0ZpbGUsXG4gIGdldFNwZWVkLFxuICBnZXRFVEEsXG4gIC8vIG1ha2VXb3JrZXIsXG4gIC8vIG1ha2VDYWNoaW5nRnVuY3Rpb24sXG4gIGNvcHlUb0NsaXBib2FyZCxcbiAgcHJldHR5RVRBXG59XG4iLCJjb25zdCBDb3JlID0gcmVxdWlyZSgnLi9Db3JlJylcbm1vZHVsZS5leHBvcnRzID0gQ29yZVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcblxubW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZGVtb0xpbmsgPSBwcm9wcy5kZW1vID8gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbmJlbDBbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzBdXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweVByb3ZpZGVyLWF1dGhCdG5EZW1vXCIpXG5hYyhiZWwwLCBbXCJQcm9jZWVkIHdpdGggRGVtbyBBY2NvdW50XCJdKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KHByb3BzLmhhbmRsZURlbW9BdXRoKSkgOiBudWxsXG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWw0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsNC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlQcm92aWRlci1hdXRoXCIpXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKVxuYmVsMi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlQcm92aWRlci1hdXRoVGl0bGVcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbmJlbDAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5UHJvdmlkZXItYXV0aFRpdGxlTmFtZVwiKVxuYWMoYmVsMCwgW2FyZ3VtZW50c1swXV0pXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgICBQbGVhc2UgYXV0aGVudGljYXRlIHdpdGggXCIsYmVsMCxiZWwxLFwiIHRvIHNlbGVjdCBmaWxlc1xcbiAgICAgIFwiXSlcbnZhciBiZWwzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuYmVsM1tcIm9uY2xpY2tcIl0gPSBhcmd1bWVudHNbMV1cbmJlbDMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5UHJvdmlkZXItYXV0aEJ0blwiKVxuYWMoYmVsMywgW1wiQXV0aGVudGljYXRlXCJdKVxuYWMoYmVsNCwgW1wiXFxuICAgICAgXCIsYmVsMixcIlxcbiAgICAgIFwiLGJlbDMsXCJcXG4gICAgICBcIixhcmd1bWVudHNbMl0sXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDRcbiAgICB9KHByb3BzLnBsdWdpbk5hbWUscHJvcHMuaGFuZGxlQXV0aCxkZW1vTGluaykpXG59XG4iLCJjb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbmFjKGJlbDAsIFtcIlxcbiAgICAgICAgU29tZXRoaW5nIHdlbnQgd3JvbmcuICBQcm9iYWJseSBvdXIgZmF1bHQuIFwiLGFyZ3VtZW50c1swXSxcIlxcbiAgICAgIFwiXSlcbmFjKGJlbDEsIFtcIlxcbiAgICAgIFwiLGJlbDAsXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDFcbiAgICB9KHByb3BzLmVycm9yKSlcbn1cbiIsImNvbnN0IEF1dGhWaWV3ID0gcmVxdWlyZSgnLi9BdXRoVmlldycpXG5jb25zdCBCcm93c2VyID0gcmVxdWlyZSgnLi9uZXcvQnJvd3NlcicpXG5jb25zdCBFcnJvclZpZXcgPSByZXF1aXJlKCcuL0Vycm9yJylcblxuLyoqXG4gKiBDbGFzcyB0byBlYXNpbHkgZ2VuZXJhdGUgZ2VuZXJpYyB2aWV3cyBmb3IgcGx1Z2luc1xuICpcbiAqIFRoaXMgY2xhc3MgZXhwZWN0cyB0aGUgcGx1Z2luIHVzaW5nIHRvIGhhdmUgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzXG4gKlxuICogc3RhdGVJZCB7U3RyaW5nfSBvYmplY3Qga2V5IG9mIHdoaWNoIHRoZSBwbHVnaW4gc3RhdGUgaXMgc3RvcmVkXG4gKlxuICogVGhpcyBjbGFzcyBhbHNvIGV4cGVjdHMgdGhlIHBsdWdpbiBpbnN0YW5jZSB1c2luZyBpdCB0byBoYXZlIHRoZSBmb2xsb3dpbmdcbiAqIGFjY2Vzc29yIG1ldGhvZHMuXG4gKiBFYWNoIG1ldGhvZCB0YWtlcyB0aGUgaXRlbSB3aG9zZSBwcm9wZXJ0eSBpcyB0byBiZSBhY2Nlc3NlZFxuICogYXMgYSBwYXJhbVxuICpcbiAqIGlzRm9sZGVyXG4gKiAgICBAcmV0dXJuIHtCb29sZWFufSBmb3IgaWYgdGhlIGl0ZW0gaXMgYSBmb2xkZXIgb3Igbm90XG4gKiBnZXRJdGVtRGF0YVxuICogICAgQHJldHVybiB7T2JqZWN0fSB0aGF0IGlzIGZvcm1hdCByZWFkeSBmb3IgdXBweSB1cGxvYWQvZG93bmxvYWRcbiAqIGdldEl0ZW1JY29uXG4gKiAgICBAcmV0dXJuIHtPYmplY3R9IGh0bWwgaW5zdGFuY2Ugb2YgdGhlIGl0ZW0ncyBpY29uXG4gKiBnZXRJdGVtU3ViTGlzdFxuICogICAgQHJldHVybiB7QXJyYXl9IHN1Yi1pdGVtcyBpbiB0aGUgaXRlbS4gZS5nIGEgZm9sZGVyIG1heSBjb250YWluIHN1Yi1pdGVtc1xuICogZ2V0SXRlbU5hbWVcbiAqICAgIEByZXR1cm4ge1N0cmluZ30gZGlzcGxheSBmcmllbmRseSBuYW1lIG9mIHRoZSBpdGVtXG4gKiBnZXRNaW1lVHlwZVxuICogICAgQHJldHVybiB7U3RyaW5nfSBtaW1lIHR5cGUgb2YgdGhlIGl0ZW1cbiAqIGdldEl0ZW1JZFxuICogICAgQHJldHVybiB7U3RyaW5nfSB1bmlxdWUgaWQgb2YgdGhlIGl0ZW1cbiAqIGdldEl0ZW1SZXF1ZXN0UGF0aFxuICogICAgQHJldHVybiB7U3RyaW5nfSB1bmlxdWUgcmVxdWVzdCBwYXRoIG9mIHRoZSBpdGVtIHdoZW4gbWFraW5nIGNhbGxzIHRvIHVwcHkgc2VydmVyXG4gKiBnZXRJdGVtTW9kaWZpZWREYXRlXG4gKiAgICBAcmV0dXJuIHtvYmplY3R9IG9yIHtTdHJpbmd9IGRhdGUgb2Ygd2hlbiBsYXN0IHRoZSBpdGVtIHdhcyBtb2RpZmllZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFZpZXcge1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IGluc3RhbmNlIG9mIHRoZSBwbHVnaW5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChwbHVnaW4pIHtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxuICAgIHRoaXMuUHJvdmlkZXIgPSBwbHVnaW5bcGx1Z2luLmlkXVxuXG4gICAgLy8gTG9naWNcbiAgICB0aGlzLmFkZEZpbGUgPSB0aGlzLmFkZEZpbGUuYmluZCh0aGlzKVxuICAgIHRoaXMuZmlsdGVySXRlbXMgPSB0aGlzLmZpbHRlckl0ZW1zLmJpbmQodGhpcylcbiAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gdGhpcy5maWx0ZXJRdWVyeS5iaW5kKHRoaXMpXG4gICAgdGhpcy5nZXRGb2xkZXIgPSB0aGlzLmdldEZvbGRlci5iaW5kKHRoaXMpXG4gICAgdGhpcy5nZXROZXh0Rm9sZGVyID0gdGhpcy5nZXROZXh0Rm9sZGVyLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZVJvd0NsaWNrID0gdGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpXG4gICAgdGhpcy5sb2dvdXQgPSB0aGlzLmxvZ291dC5iaW5kKHRoaXMpXG4gICAgdGhpcy5oYW5kbGVBdXRoID0gdGhpcy5oYW5kbGVBdXRoLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZURlbW9BdXRoID0gdGhpcy5oYW5kbGVEZW1vQXV0aC5iaW5kKHRoaXMpXG4gICAgdGhpcy5zb3J0QnlUaXRsZSA9IHRoaXMuc29ydEJ5VGl0bGUuYmluZCh0aGlzKVxuICAgIHRoaXMuc29ydEJ5RGF0ZSA9IHRoaXMuc29ydEJ5RGF0ZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5pc0FjdGl2ZVJvdyA9IHRoaXMuaXNBY3RpdmVSb3cuYmluZCh0aGlzKVxuXG4gICAgLy8gVmlzdWFsXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogTGl0dGxlIHNob3J0aGFuZCB0byB1cGRhdGUgdGhlIHN0YXRlIHdpdGggdGhlIHBsdWdpbidzIHN0YXRlXG4gICAqL1xuICB1cGRhdGVTdGF0ZSAobmV3U3RhdGUpIHtcbiAgICBsZXQgc3RhdGVJZCA9IHRoaXMucGx1Z2luLnN0YXRlSWRcbiAgICBjb25zdCB7c3RhdGV9ID0gdGhpcy5wbHVnaW4uY29yZVxuXG4gICAgdGhpcy5wbHVnaW4uY29yZS5zZXRTdGF0ZSh7W3N0YXRlSWRdOiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZVtzdGF0ZUlkXSwgbmV3U3RhdGUpfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBCYXNlZCBvbiBmb2xkZXIgSUQsIGZldGNoIGEgbmV3IGZvbGRlciBhbmQgdXBkYXRlIGl0IHRvIHN0YXRlXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgRm9sZGVyIGlkXG4gICAqIEByZXR1cm4ge1Byb21pc2V9ICAgRm9sZGVycy9maWxlcyBpbiBmb2xkZXJcbiAgICovXG4gIGdldEZvbGRlciAoaWQsIG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5Qcm92aWRlci5saXN0KGlkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgZm9sZGVycyA9IFtdXG4gICAgICAgIGxldCBmaWxlcyA9IFtdXG4gICAgICAgIGxldCB1cGRhdGVkRGlyZWN0b3JpZXNcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGx1Z2luLmNvcmUuZ2V0U3RhdGUoKVt0aGlzLnBsdWdpbi5zdGF0ZUlkXVxuICAgICAgICBjb25zdCBpbmRleCA9IHN0YXRlLmRpcmVjdG9yaWVzLmZpbmRJbmRleCgoZGlyKSA9PiBpZCA9PT0gZGlyLmlkKVxuXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB1cGRhdGVkRGlyZWN0b3JpZXMgPSBzdGF0ZS5kaXJlY3Rvcmllcy5zbGljZSgwLCBpbmRleCArIDEpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlZERpcmVjdG9yaWVzID0gc3RhdGUuZGlyZWN0b3JpZXMuY29uY2F0KFt7aWQsIHRpdGxlOiBuYW1lIHx8IHRoaXMucGx1Z2luLmdldEl0ZW1OYW1lKHJlcyl9XSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2luLmdldEl0ZW1TdWJMaXN0KHJlcykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5pc0ZvbGRlcihpdGVtKSkge1xuICAgICAgICAgICAgZm9sZGVycy5wdXNoKGl0ZW0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGVzLnB1c2goaXRlbSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IGRhdGEgPSB7Zm9sZGVycywgZmlsZXMsIGRpcmVjdG9yaWVzOiB1cGRhdGVkRGlyZWN0b3JpZXN9XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoZGF0YSlcblxuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHJldHVybiBlcnJcbiAgICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyBuZXcgZm9sZGVyXG4gICAqIEBwYXJhbSAge09iamVjdH0gRm9sZGVyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdGl0bGUgRm9sZGVyIHRpdGxlXG4gICAqL1xuICBnZXROZXh0Rm9sZGVyIChmb2xkZXIpIHtcbiAgICBsZXQgaWQgPSB0aGlzLnBsdWdpbi5nZXRJdGVtUmVxdWVzdFBhdGgoZm9sZGVyKVxuICAgIHRoaXMuZ2V0Rm9sZGVyKGlkLCB0aGlzLnBsdWdpbi5nZXRJdGVtTmFtZShmb2xkZXIpKVxuICB9XG5cbiAgYWRkRmlsZSAoZmlsZSkge1xuICAgIGNvbnN0IHRhZ0ZpbGUgPSB7XG4gICAgICBzb3VyY2U6IHRoaXMucGx1Z2luLmlkLFxuICAgICAgZGF0YTogdGhpcy5wbHVnaW4uZ2V0SXRlbURhdGEoZmlsZSksXG4gICAgICBuYW1lOiB0aGlzLnBsdWdpbi5nZXRJdGVtTmFtZShmaWxlKSxcbiAgICAgIHR5cGU6IHRoaXMucGx1Z2luLmdldE1pbWVUeXBlKGZpbGUpLFxuICAgICAgaXNSZW1vdGU6IHRydWUsXG4gICAgICBib2R5OiB7XG4gICAgICAgIGZpbGVJZDogdGhpcy5wbHVnaW4uZ2V0SXRlbUlkKGZpbGUpXG4gICAgICB9LFxuICAgICAgcmVtb3RlOiB7XG4gICAgICAgIGhvc3Q6IHRoaXMucGx1Z2luLm9wdHMuaG9zdCxcbiAgICAgICAgdXJsOiBgJHt0aGlzLnBsdWdpbi5vcHRzLmhvc3R9LyR7dGhpcy5Qcm92aWRlci5pZH0vZ2V0LyR7dGhpcy5wbHVnaW4uZ2V0SXRlbVJlcXVlc3RQYXRoKGZpbGUpfWAsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBmaWxlSWQ6IHRoaXMucGx1Z2luLmdldEl0ZW1JZChmaWxlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdhZGRpbmcgZmlsZScpXG4gICAgdGhpcy5wbHVnaW4uY29yZS5lbWl0dGVyLmVtaXQoJ2NvcmU6ZmlsZS1hZGQnLCB0YWdGaWxlKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgc2Vzc2lvbiB0b2tlbiBvbiBjbGllbnQgc2lkZS5cbiAgICovXG4gIGxvZ291dCAoKSB7XG4gICAgdGhpcy5Qcm92aWRlci5sb2dvdXQobG9jYXRpb24uaHJlZilcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZmlsZXM6IFtdLFxuICAgICAgICAgICAgZm9sZGVyczogW10sXG4gICAgICAgICAgICBkaXJlY3RvcmllczogW11cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShuZXdTdGF0ZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHNldCBhY3RpdmUgZmlsZS9mb2xkZXIuXG4gICAqIEBwYXJhbSAge09iamVjdH0gZmlsZSAgIEFjdGl2ZSBmaWxlL2ZvbGRlclxuICAgKi9cbiAgaGFuZGxlUm93Q2xpY2sgKGZpbGUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGx1Z2luLmNvcmUuZ2V0U3RhdGUoKVt0aGlzLnBsdWdpbi5zdGF0ZUlkXVxuICAgIGNvbnN0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgIGFjdGl2ZVJvdzogdGhpcy5wbHVnaW4uZ2V0SXRlbUlkKGZpbGUpXG4gICAgfSlcblxuICAgIHRoaXMudXBkYXRlU3RhdGUobmV3U3RhdGUpXG4gIH1cblxuICBmaWx0ZXJRdWVyeSAoZSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wbHVnaW4uY29yZS5nZXRTdGF0ZSgpW3RoaXMucGx1Z2luLnN0YXRlSWRdXG4gICAgdGhpcy51cGRhdGVTdGF0ZShPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgZmlsdGVySW5wdXQ6IGUudGFyZ2V0LnZhbHVlXG4gICAgfSkpXG4gIH1cblxuICBmaWx0ZXJJdGVtcyAoaXRlbXMpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGx1Z2luLmNvcmUuZ2V0U3RhdGUoKVt0aGlzLnBsdWdpbi5zdGF0ZUlkXVxuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKGZvbGRlcikgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLmdldEl0ZW1OYW1lKGZvbGRlcikudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0YXRlLmZpbHRlcklucHV0LnRvTG93ZXJDYXNlKCkpICE9PSAtMVxuICAgIH0pXG4gIH1cblxuICBzb3J0QnlUaXRsZSAoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBsdWdpbi5jb3JlLmdldFN0YXRlKClbdGhpcy5wbHVnaW4uc3RhdGVJZF0pXG4gICAgY29uc3Qge2ZpbGVzLCBmb2xkZXJzLCBzb3J0aW5nfSA9IHN0YXRlXG5cbiAgICBsZXQgc29ydGVkRmlsZXMgPSBmaWxlcy5zb3J0KChmaWxlQSwgZmlsZUIpID0+IHtcbiAgICAgIGlmIChzb3J0aW5nID09PSAndGl0bGVEZXNjZW5kaW5nJykge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW4uZ2V0SXRlbU5hbWUoZmlsZUIpLmxvY2FsZUNvbXBhcmUodGhpcy5wbHVnaW4uZ2V0SXRlbU5hbWUoZmlsZUEpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLmdldEl0ZW1OYW1lKGZpbGVBKS5sb2NhbGVDb21wYXJlKHRoaXMucGx1Z2luLmdldEl0ZW1OYW1lKGZpbGVCKSlcbiAgICB9KVxuXG4gICAgbGV0IHNvcnRlZEZvbGRlcnMgPSBmb2xkZXJzLnNvcnQoKGZvbGRlckEsIGZvbGRlckIpID0+IHtcbiAgICAgIGlmIChzb3J0aW5nID09PSAndGl0bGVEZXNjZW5kaW5nJykge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW4uZ2V0SXRlbU5hbWUoZm9sZGVyQikubG9jYWxlQ29tcGFyZSh0aGlzLnBsdWdpbi5nZXRJdGVtTmFtZShmb2xkZXJBKSlcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnBsdWdpbi5nZXRJdGVtTmFtZShmb2xkZXJBKS5sb2NhbGVDb21wYXJlKHRoaXMucGx1Z2luLmdldEl0ZW1OYW1lKGZvbGRlckIpKVxuICAgIH0pXG5cbiAgICB0aGlzLnVwZGF0ZVN0YXRlKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICBmaWxlczogc29ydGVkRmlsZXMsXG4gICAgICBmb2xkZXJzOiBzb3J0ZWRGb2xkZXJzLFxuICAgICAgc29ydGluZzogKHNvcnRpbmcgPT09ICd0aXRsZURlc2NlbmRpbmcnKSA/ICd0aXRsZUFzY2VuZGluZycgOiAndGl0bGVEZXNjZW5kaW5nJ1xuICAgIH0pKVxuICB9XG5cbiAgc29ydEJ5RGF0ZSAoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBsdWdpbi5jb3JlLmdldFN0YXRlKClbdGhpcy5wbHVnaW4uc3RhdGVJZF0pXG4gICAgY29uc3Qge2ZpbGVzLCBmb2xkZXJzLCBzb3J0aW5nfSA9IHN0YXRlXG5cbiAgICBsZXQgc29ydGVkRmlsZXMgPSBmaWxlcy5zb3J0KChmaWxlQSwgZmlsZUIpID0+IHtcbiAgICAgIGxldCBhID0gbmV3IERhdGUodGhpcy5wbHVnaW4uZ2V0SXRlbU1vZGlmaWVkRGF0ZShmaWxlQSkpXG4gICAgICBsZXQgYiA9IG5ldyBEYXRlKHRoaXMucGx1Z2luLmdldEl0ZW1Nb2RpZmllZERhdGUoZmlsZUIpKVxuXG4gICAgICBpZiAoc29ydGluZyA9PT0gJ2RhdGVEZXNjZW5kaW5nJykge1xuICAgICAgICByZXR1cm4gYSA+IGIgPyAtMSA6IGEgPCBiID8gMSA6IDBcbiAgICAgIH1cbiAgICAgIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMFxuICAgIH0pXG5cbiAgICBsZXQgc29ydGVkRm9sZGVycyA9IGZvbGRlcnMuc29ydCgoZm9sZGVyQSwgZm9sZGVyQikgPT4ge1xuICAgICAgbGV0IGEgPSBuZXcgRGF0ZSh0aGlzLnBsdWdpbi5nZXRJdGVtTW9kaWZpZWREYXRlKGZvbGRlckEpKVxuICAgICAgbGV0IGIgPSBuZXcgRGF0ZSh0aGlzLnBsdWdpbi5nZXRJdGVtTW9kaWZpZWREYXRlKGZvbGRlckIpKVxuXG4gICAgICBpZiAoc29ydGluZyA9PT0gJ2RhdGVEZXNjZW5kaW5nJykge1xuICAgICAgICByZXR1cm4gYSA+IGIgPyAtMSA6IGEgPCBiID8gMSA6IDBcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwXG4gICAgfSlcblxuICAgIHRoaXMudXBkYXRlU3RhdGUoT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgIGZpbGVzOiBzb3J0ZWRGaWxlcyxcbiAgICAgIGZvbGRlcnM6IHNvcnRlZEZvbGRlcnMsXG4gICAgICBzb3J0aW5nOiAoc29ydGluZyA9PT0gJ2RhdGVEZXNjZW5kaW5nJykgPyAnZGF0ZUFzY2VuZGluZycgOiAnZGF0ZURlc2NlbmRpbmcnXG4gICAgfSkpXG4gIH1cblxuICBpc0FjdGl2ZVJvdyAoZmlsZSkge1xuICAgIHJldHVybiB0aGlzLnBsdWdpbi5jb3JlLmdldFN0YXRlKClbdGhpcy5wbHVnaW4uc3RhdGVJZF0uYWN0aXZlUm93ID09PSB0aGlzLnBsdWdpbi5nZXRJdGVtSWQoZmlsZSlcbiAgfVxuXG4gIGhhbmRsZURlbW9BdXRoICgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGx1Z2luLmNvcmUuZ2V0U3RhdGUoKVt0aGlzLnBsdWdpbi5zdGF0ZUlkXVxuICAgIHRoaXMudXBkYXRlU3RhdGUoe30sIHN0YXRlLCB7XG4gICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUF1dGggKCkge1xuICAgIGNvbnN0IHVybElkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTk5OTk5KSArIDFcbiAgICBjb25zdCByZWRpcmVjdCA9IGAke2xvY2F0aW9uLmhyZWZ9JHtsb2NhdGlvbi5zZWFyY2ggPyAnJicgOiAnPyd9aWQ9JHt1cmxJZH1gXG5cbiAgICBjb25zdCBhdXRoU3RhdGUgPSBidG9hKEpTT04uc3RyaW5naWZ5KHsgcmVkaXJlY3QgfSkpXG4gICAgY29uc3QgbGluayA9IGAke3RoaXMucGx1Z2luLm9wdHMuaG9zdH0vY29ubmVjdC8ke3RoaXMuUHJvdmlkZXIuYXV0aFByb3ZpZGVyfT9zdGF0ZT0ke2F1dGhTdGF0ZX1gXG5cbiAgICBjb25zdCBhdXRoV2luZG93ID0gd2luZG93Lm9wZW4obGluaywgJ19ibGFuaycpXG4gICAgY29uc3QgY2hlY2tBdXRoID0gKCkgPT4ge1xuICAgICAgbGV0IGF1dGhXaW5kb3dVcmxcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXV0aFdpbmRvd1VybCA9IGF1dGhXaW5kb3cubG9jYXRpb24uaHJlZlxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiB8fCBlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoY2hlY2tBdXRoLCAxMDApXG4gICAgICAgIH0gZWxzZSB0aHJvdyBlXG4gICAgICB9XG5cbiAgICAgIC8vIHNwbGl0IHVybCBiZWNhdXNlIGNocm9tZSBhZGRzICcjJyB0byByZWRpcmVjdHNcbiAgICAgIGlmIChhdXRoV2luZG93VXJsLnNwbGl0KCcjJylbMF0gPT09IHJlZGlyZWN0KSB7XG4gICAgICAgIGF1dGhXaW5kb3cuY2xvc2UoKVxuICAgICAgICB0aGlzLlByb3ZpZGVyLmF1dGgoKS50aGVuKHRoaXMucGx1Z2luLm9uQXV0aClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2hlY2tBdXRoLCAxMDApXG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tBdXRoKClcbiAgfVxuXG4gIHJlbmRlciAoc3RhdGUpIHtcbiAgICBjb25zdCB7IGF1dGhlbnRpY2F0ZWQsIGVycm9yIH0gPSBzdGF0ZVt0aGlzLnBsdWdpbi5zdGF0ZUlkXVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gRXJyb3JWaWV3KHsgZXJyb3I6IGVycm9yIH0pXG4gICAgfVxuXG4gICAgaWYgKCFhdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gQXV0aFZpZXcoe1xuICAgICAgICBwbHVnaW5OYW1lOiB0aGlzLnBsdWdpbi50aXRsZSxcbiAgICAgICAgZGVtbzogdGhpcy5wbHVnaW4ub3B0cy5kZW1vLFxuICAgICAgICBoYW5kbGVBdXRoOiB0aGlzLmhhbmRsZUF1dGgsXG4gICAgICAgIGhhbmRsZURlbW9BdXRoOiB0aGlzLmhhbmRsZURlbW9BdXRoXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IGJyb3dzZXJQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlW3RoaXMucGx1Z2luLnN0YXRlSWRdLCB7XG4gICAgICBnZXROZXh0Rm9sZGVyOiB0aGlzLmdldE5leHRGb2xkZXIsXG4gICAgICBnZXRGb2xkZXI6IHRoaXMuZ2V0Rm9sZGVyLFxuICAgICAgYWRkRmlsZTogdGhpcy5hZGRGaWxlLFxuICAgICAgZmlsdGVySXRlbXM6IHRoaXMuZmlsdGVySXRlbXMsXG4gICAgICBmaWx0ZXJRdWVyeTogdGhpcy5maWx0ZXJRdWVyeSxcbiAgICAgIGhhbmRsZVJvd0NsaWNrOiB0aGlzLmhhbmRsZVJvd0NsaWNrLFxuICAgICAgc29ydEJ5VGl0bGU6IHRoaXMuc29ydEJ5VGl0bGUsXG4gICAgICBzb3J0QnlEYXRlOiB0aGlzLnNvcnRCeURhdGUsXG4gICAgICBsb2dvdXQ6IHRoaXMubG9nb3V0LFxuICAgICAgZGVtbzogdGhpcy5wbHVnaW4ub3B0cy5kZW1vLFxuICAgICAgaXNBY3RpdmVSb3c6IHRoaXMuaXNBY3RpdmVSb3csXG4gICAgICBnZXRJdGVtTmFtZTogdGhpcy5wbHVnaW4uZ2V0SXRlbU5hbWUsXG4gICAgICBnZXRJdGVtSWNvbjogdGhpcy5wbHVnaW4uZ2V0SXRlbUljb25cbiAgICB9KVxuXG4gICAgcmV0dXJuIEJyb3dzZXIoYnJvd3NlclByb3BzKVxuICB9XG59XG4iLCJjb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG5iZWwwW1wib25jbGlja1wiXSA9IGFyZ3VtZW50c1swXVxuYWMoYmVsMCwgW2FyZ3VtZW50c1sxXV0pXG5hYyhiZWwxLCBbXCJcXG4gICAgICBcIixiZWwwLFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfShwcm9wcy5nZXRGb2xkZXIscHJvcHMudGl0bGUpKVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcbmNvbnN0IEJyZWFkY3J1bWIgPSByZXF1aXJlKCcuL0JyZWFkY3J1bWInKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlQcm92aWRlci1icmVhZGNydW1ic1wiKVxuYWMoYmVsMCwgW1wiXFxuICAgICAgXCIsYXJndW1lbnRzWzBdLFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwwXG4gICAgfShwcm9wcy5kaXJlY3Rvcmllcy5tYXAoKGRpcmVjdG9yeSkgPT4ge1xuICAgICAgICAgIHJldHVybiBCcmVhZGNydW1iKHtcbiAgICAgICAgICAgIGdldEZvbGRlcjogKCkgPT4gcHJvcHMuZ2V0Rm9sZGVyKGRpcmVjdG9yeS5pZCksXG4gICAgICAgICAgICB0aXRsZTogZGlyZWN0b3J5LnRpdGxlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSkpKVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcbmNvbnN0IEJyZWFkY3J1bWJzID0gcmVxdWlyZSgnLi9CcmVhZGNydW1icycpXG5jb25zdCBUYWJsZSA9IHJlcXVpcmUoJy4vVGFibGUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChwcm9wcykgPT4ge1xuICBsZXQgZmlsdGVyZWRGb2xkZXJzID0gcHJvcHMuZm9sZGVyc1xuICBsZXQgZmlsdGVyZWRGaWxlcyA9IHByb3BzLmZpbGVzXG5cbiAgaWYgKHByb3BzLmZpbHRlcklucHV0ICE9PSAnJykge1xuICAgIGZpbHRlcmVkRm9sZGVycyA9IHByb3BzLmZpbHRlckl0ZW1zKHByb3BzLmZvbGRlcnMpXG4gICAgZmlsdGVyZWRGaWxlcyA9IHByb3BzLmZpbHRlckl0ZW1zKHByb3BzLmZpbGVzKVxuICB9XG5cbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWw1LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiQnJvd3NlclwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlNlYXJjaCBEcml2ZVwiKVxuYmVsMFtcIm9ua2V5dXBcIl0gPSBhcmd1bWVudHNbMF1cbmJlbDAuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYXJndW1lbnRzWzFdKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIkJyb3dzZXItc2VhcmNoXCIpXG5hYyhiZWwxLCBbXCJcXG4gICAgICAgIFwiLGJlbDAsXCJcXG4gICAgICBcIl0pXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJCcm93c2VyLXN1YkhlYWRlclwiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgICBcIixhcmd1bWVudHNbMl0sXCJcXG4gICAgICBcIl0pXG52YXIgYmVsNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJCcm93c2VyLWJvZHlcIilcbnZhciBiZWwzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm1haW5cIilcbmJlbDMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJCcm93c2VyLWNvbnRlbnRcIilcbmFjKGJlbDMsIFtcIlxcbiAgICAgICAgICBcIixhcmd1bWVudHNbM10sXCJcXG4gICAgICAgIFwiXSlcbmFjKGJlbDQsIFtcIlxcbiAgICAgICAgXCIsYmVsMyxcIlxcbiAgICAgIFwiXSlcbmFjKGJlbDUsIFtcIlxcbiAgICAgIFwiLGJlbDEsXCJcXG4gICAgICBcIixiZWwyLFwiXFxuICAgICAgXCIsYmVsNCxcIlxcbiAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsNVxuICAgIH0ocHJvcHMuZmlsdGVyUXVlcnkscHJvcHMuZmlsdGVySW5wdXQsQnJlYWRjcnVtYnMoe1xuICAgICAgICAgIGdldEZvbGRlcjogcHJvcHMuZ2V0Rm9sZGVyLFxuICAgICAgICAgIGRpcmVjdG9yaWVzOiBwcm9wcy5kaXJlY3Rvcmllc1xuICAgICAgICB9KSxUYWJsZSh7XG4gICAgICAgICAgICBjb2x1bW5zOiBbe1xuICAgICAgICAgICAgICBuYW1lOiAnTmFtZScsXG4gICAgICAgICAgICAgIGtleTogJ3RpdGxlJ1xuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBmb2xkZXJzOiBmaWx0ZXJlZEZvbGRlcnMsXG4gICAgICAgICAgICBmaWxlczogZmlsdGVyZWRGaWxlcyxcbiAgICAgICAgICAgIGFjdGl2ZVJvdzogcHJvcHMuaXNBY3RpdmVSb3csXG4gICAgICAgICAgICBzb3J0QnlUaXRsZTogcHJvcHMuc29ydEJ5VGl0bGUsXG4gICAgICAgICAgICBzb3J0QnlEYXRlOiBwcm9wcy5zb3J0QnlEYXRlLFxuICAgICAgICAgICAgaGFuZGxlUm93Q2xpY2s6IHByb3BzLmhhbmRsZVJvd0NsaWNrLFxuICAgICAgICAgICAgaGFuZGxlRmlsZURvdWJsZUNsaWNrOiBwcm9wcy5hZGRGaWxlLFxuICAgICAgICAgICAgaGFuZGxlRm9sZGVyRG91YmxlQ2xpY2s6IHByb3BzLmdldE5leHRGb2xkZXIsXG4gICAgICAgICAgICBnZXRJdGVtTmFtZTogcHJvcHMuZ2V0SXRlbU5hbWUsXG4gICAgICAgICAgICBnZXRJdGVtSWNvbjogcHJvcHMuZ2V0SXRlbUljb25cbiAgICAgICAgICB9KSkpXG59XG4iLCJjb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuY29uc3QgUm93ID0gcmVxdWlyZSgnLi9UYWJsZVJvdycpXG5cbm1vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGhlYWRlcnMgPSBwcm9wcy5jb2x1bW5zLm1hcCgoY29sdW1uKSA9PiB7XG4gICAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIilcbmJlbDBbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzBdXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiQnJvd3NlclRhYmxlLWhlYWRlckNvbHVtbiBCcm93c2VyVGFibGUtY29sdW1uXCIpXG5hYyhiZWwwLCBbXCJcXG4gICAgICAgIFwiLGFyZ3VtZW50c1sxXSxcIlxcbiAgICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwwXG4gICAgfShwcm9wcy5zb3J0QnlUaXRsZSxjb2x1bW4ubmFtZSkpXG4gIH0pXG5cbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIilcbmJlbDMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJCcm93c2VyVGFibGVcIilcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoZWFkXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiQnJvd3NlclRhYmxlLWhlYWRlclwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIilcbmFjKGJlbDAsIFtcIlxcbiAgICAgICAgICBcIixhcmd1bWVudHNbMF0sXCJcXG4gICAgICAgIFwiXSlcbmFjKGJlbDEsIFtcIlxcbiAgICAgICAgXCIsYmVsMCxcIlxcbiAgICAgIFwiXSlcbnZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpXG5hYyhiZWwyLCBbXCJcXG4gICAgICAgIFwiLGFyZ3VtZW50c1sxXSxcIlxcbiAgICAgICAgXCIsYXJndW1lbnRzWzJdLFwiXFxuICAgICAgXCJdKVxuYWMoYmVsMywgW1wiXFxuICAgICAgXCIsYmVsMSxcIlxcbiAgICAgIFwiLGJlbDIsXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDNcbiAgICB9KGhlYWRlcnMscHJvcHMuZm9sZGVycy5tYXAoKGZvbGRlcikgPT4ge1xuICAgICAgICAgIHJldHVybiBSb3coe1xuICAgICAgICAgICAgdGl0bGU6IHByb3BzLmdldEl0ZW1OYW1lKGZvbGRlciksXG4gICAgICAgICAgICBhY3RpdmU6IHByb3BzLmFjdGl2ZVJvdyhmb2xkZXIpLFxuICAgICAgICAgICAgZ2V0SXRlbUljb246ICgpID0+IHByb3BzLmdldEl0ZW1JY29uKGZvbGRlciksXG4gICAgICAgICAgICBoYW5kbGVDbGljazogKCkgPT4gcHJvcHMuaGFuZGxlUm93Q2xpY2soZm9sZGVyKSxcbiAgICAgICAgICAgIGhhbmRsZURvdWJsZUNsaWNrOiAoKSA9PiBwcm9wcy5oYW5kbGVGb2xkZXJEb3VibGVDbGljayhmb2xkZXIpLFxuICAgICAgICAgICAgY29sdW1uczogcHJvcHMuY29sdW1uc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pLHByb3BzLmZpbGVzLm1hcCgoZmlsZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBSb3coe1xuICAgICAgICAgICAgdGl0bGU6IHByb3BzLmdldEl0ZW1OYW1lKGZpbGUpLFxuICAgICAgICAgICAgYWN0aXZlOiBwcm9wcy5hY3RpdmVSb3coZmlsZSksXG4gICAgICAgICAgICBnZXRJdGVtSWNvbjogKCkgPT4gcHJvcHMuZ2V0SXRlbUljb24oZmlsZSksXG4gICAgICAgICAgICBoYW5kbGVDbGljazogKCkgPT4gcHJvcHMuaGFuZGxlUm93Q2xpY2soZmlsZSksXG4gICAgICAgICAgICBoYW5kbGVEb3VibGVDbGljazogKCkgPT4gcHJvcHMuaGFuZGxlRmlsZURvdWJsZUNsaWNrKGZpbGUpLFxuICAgICAgICAgICAgY29sdW1uczogcHJvcHMuY29sdW1uc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pKSlcbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5cbm1vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiQnJvd3NlclRhYmxlLXJvd0NvbHVtbiBCcm93c2VyVGFibGUtY29sdW1uXCIpXG5hYyhiZWwwLCBbXCJcXG4gICAgICBcIixhcmd1bWVudHNbMF0sXCIgXCIsYXJndW1lbnRzWzFdLFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwwXG4gICAgfShwcm9wcy5nZXRJdGVtSWNvbigpLHByb3BzLnZhbHVlKSlcbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5jb25zdCBDb2x1bW4gPSByZXF1aXJlKCcuL1RhYmxlQ29sdW1uJylcblxubW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgY2xhc3NlcyA9IHByb3BzLmFjdGl2ZSA/ICdCcm93c2VyVGFibGUtcm93IGlzLWFjdGl2ZScgOiAnQnJvd3NlclRhYmxlLXJvdydcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIilcbmJlbDBbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzBdXG5iZWwwW1wib25kYmxjbGlja1wiXSA9IGFyZ3VtZW50c1sxXVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBhcmd1bWVudHNbMl0pXG5hYyhiZWwwLCBbXCJcXG4gICAgICBcIixhcmd1bWVudHNbM10sXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KHByb3BzLmhhbmRsZUNsaWNrLHByb3BzLmhhbmRsZURvdWJsZUNsaWNrLGNsYXNzZXMsQ29sdW1uKHtcbiAgICAgICAgZ2V0SXRlbUljb246IHByb3BzLmdldEl0ZW1JY29uLFxuICAgICAgICB2YWx1ZTogcHJvcHMudGl0bGVcbiAgICAgIH0pKSlcbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5cbm1vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpXG5iZWwwW1wib25jbGlja1wiXSA9IGFyZ3VtZW50c1swXVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtYnJvd3NlXCIpXG5hYyhiZWwwLCBbYXJndW1lbnRzWzFdXSlcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJmaWxlXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJmaWxlc1tdXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIFwidHJ1ZVwiKVxuYmVsMVtcIm9uY2hhbmdlXCJdID0gYXJndW1lbnRzWzJdXG5iZWwxLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1pbnB1dFwiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgXCIsYXJndW1lbnRzWzNdLFwiXFxuICAgICAgXCIsYmVsMCxcIlxcbiAgICAgIFwiLGJlbDEsXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDJcbiAgICB9KChldikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwcm9wcy5jb250YWluZXJ9IC5VcHB5RGFzaGJvYXJkLWlucHV0YClcbiAgICAgICAgICAgICAgICBpbnB1dC5jbGljaygpXG4gICAgICAgICAgICAgIH0scHJvcHMuaTE4bignYnJvd3NlJykscHJvcHMuaGFuZGxlSW5wdXRDaGFuZ2UscHJvcHMuYWNxdWlyZXJzLmxlbmd0aCA9PT0gMFxuICAgICAgICA/IHByb3BzLmkxOG4oJ2Ryb3BQYXN0ZScpXG4gICAgICAgIDogcHJvcHMuaTE4bignZHJvcFBhc3RlSW1wb3J0JykpKVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcbmNvbnN0IEZpbGVMaXN0ID0gcmVxdWlyZSgnLi9GaWxlTGlzdCcpXG5jb25zdCBUYWJzID0gcmVxdWlyZSgnLi9UYWJzJylcbmNvbnN0IEZpbGVDYXJkID0gcmVxdWlyZSgnLi9GaWxlQ2FyZCcpXG5jb25zdCBVcGxvYWRCdG4gPSByZXF1aXJlKCcuL1VwbG9hZEJ0bicpXG5jb25zdCBTdGF0dXNCYXIgPSByZXF1aXJlKCcuL1N0YXR1c0JhcicpXG5jb25zdCB7IGlzVG91Y2hEZXZpY2UsIHRvQXJyYXkgfSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvVXRpbHMnKVxuY29uc3QgeyBjbG9zZUljb24gfSA9IHJlcXVpcmUoJy4vaWNvbnMnKVxuXG4vLyBodHRwOi8vZGV2LmVkZW5zcGlla2VybWFubi5jb20vMjAxNi8wMi8xMS9pbnRyb2R1Y2luZy1hY2Nlc3NpYmxlLW1vZGFsLWRpYWxvZ1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIERhc2hib2FyZCAocHJvcHMpIHtcbiAgZnVuY3Rpb24gaGFuZGxlSW5wdXRDaGFuZ2UgKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGZpbGVzID0gdG9BcnJheShldi50YXJnZXQuZmlsZXMpXG5cbiAgICBmaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICBwcm9wcy5hZGRGaWxlKHtcbiAgICAgICAgc291cmNlOiBwcm9wcy5pZCxcbiAgICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICAgIGRhdGE6IGZpbGVcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIEBUT0RPIEV4cHJpbWVudGFsLCB3b3JrIGluIHByb2dyZXNzXG4gIC8vIG5vIG5hbWVzLCB3ZWlyZCBBUEksIENocm9tZS1vbmx5IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyOTQwMDIwXG4gIGZ1bmN0aW9uIGhhbmRsZVBhc3RlIChldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IGZpbGVzID0gdG9BcnJheShldi5jbGlwYm9hcmREYXRhLml0ZW1zKVxuICAgIGZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgIGlmIChmaWxlLmtpbmQgIT09ICdmaWxlJykgcmV0dXJuXG5cbiAgICAgIGNvbnN0IGJsb2IgPSBmaWxlLmdldEFzRmlsZSgpXG4gICAgICBwcm9wcy5sb2coJ0ZpbGUgcGFzdGVkJylcbiAgICAgIHByb3BzLmFkZEZpbGUoe1xuICAgICAgICBzb3VyY2U6IHByb3BzLmlkLFxuICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgIHR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgZGF0YTogYmxvYlxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb25sb2FkID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L25vZGVfbW9kdWxlcy9vbi1sb2FkL2luZGV4LmpzJylcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxudmFyIGFyZ3MgPSBhcmd1bWVudHNcbiAgICAgIG9ubG9hZChiZWwxMSwgZnVuY3Rpb24gYmVsX29ubG9hZCAoKSB7XG4gICAgICAgIGFyZ3NbMTldKGJlbDExKVxuICAgICAgfSwgZnVuY3Rpb24gYmVsX29udW5sb2FkICgpIHtcbiAgICAgICAgXG4gICAgICB9LCBcIm8wXCIpXG5iZWwxMS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBhcmd1bWVudHNbMjBdKVxuYmVsMTEuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBhcmd1bWVudHNbMjFdKVxuYmVsMTEuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImRpYWxvZ1wiKVxuYmVsMTFbXCJvbnBhc3RlXCJdID0gYXJndW1lbnRzWzIyXVxuYmVsMTEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5IFVwcHlUaGVtZS0tZGVmYXVsdCBVcHB5RGFzaGJvYXJkXFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIiArIGFyZ3VtZW50c1syM10gKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBhcmd1bWVudHNbMjRdICsgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiICsgYXJndW1lbnRzWzI1XSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIiArIGFyZ3VtZW50c1syNl0pXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbmJlbDAuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBhcmd1bWVudHNbMF0pXG5iZWwwLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGFyZ3VtZW50c1sxXSlcbmJlbDBbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzJdXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1jbG9zZVwiKVxuYWMoYmVsMCwgW2FyZ3VtZW50c1szXV0pXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDFbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzRdXG5iZWwxLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1vdmVybGF5XCIpXG52YXIgYmVsMTAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWwxMC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIjBcIilcbmJlbDEwLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiXFxuICAgICAgICAgIFwiICsgYXJndW1lbnRzWzE3XSArIFwiXFxuICAgICAgICAgIFwiICsgYXJndW1lbnRzWzE4XSArIFwiXFxuICAgICAgICAgXCIpXG5iZWwxMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtaW5uZXJcIilcbnZhciBiZWw5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsOS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtaW5uZXJXcmFwXCIpXG52YXIgYmVsMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkLWZpbGVzQ29udGFpbmVyXCIpXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkLWFjdGlvbnNcIilcbmFjKGJlbDIsIFtcIlxcbiAgICAgICAgICAgIFwiLGFyZ3VtZW50c1s1XSxcIlxcbiAgICAgICAgICBcIl0pXG5hYyhiZWwzLCBbXCJcXG5cXG4gICAgICAgICAgXCIsYXJndW1lbnRzWzZdLFwiXFxuXFxuICAgICAgICAgIFwiLGJlbDIsXCJcXG5cXG4gICAgICAgIFwiXSlcbnZhciBiZWw3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsNy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidGFicGFuZWxcIilcbmJlbDcuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgYXJndW1lbnRzWzExXSlcbmJlbDcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkQ29udGVudC1wYW5lbFwiKVxudmFyIGJlbDYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWw2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZENvbnRlbnQtYmFyXCIpXG52YXIgYmVsNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKVxuYmVsNC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRDb250ZW50LXRpdGxlXCIpXG5hYyhiZWw0LCBbXCJcXG4gICAgICAgICAgICAgIFwiLGFyZ3VtZW50c1s3XSxcIiBcIixhcmd1bWVudHNbOF0sXCJcXG4gICAgICAgICAgICBcIl0pXG52YXIgYmVsNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbmJlbDVbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzldXG5iZWw1LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZENvbnRlbnQtYmFja1wiKVxuYWMoYmVsNSwgW2FyZ3VtZW50c1sxMF1dKVxuYWMoYmVsNiwgW1wiXFxuICAgICAgICAgICAgXCIsYmVsNCxcIlxcbiAgICAgICAgICAgIFwiLGJlbDUsXCJcXG4gICAgICAgICAgXCJdKVxuYWMoYmVsNywgW1wiXFxuICAgICAgICAgIFwiLGJlbDYsXCJcXG4gICAgICAgICAgXCIsYXJndW1lbnRzWzEyXSxcIlxcbiAgICAgICAgXCJdKVxudmFyIGJlbDggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWw4LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1wcm9ncmVzc2luZGljYXRvcnNcIilcbmFjKGJlbDgsIFtcIlxcbiAgICAgICAgICBcIixhcmd1bWVudHNbMTNdLFwiXFxuXFxuICAgICAgICAgIFwiLGFyZ3VtZW50c1sxNF0sXCJcXG4gICAgICAgIFwiXSlcbmFjKGJlbDksIFtcIlxcblxcbiAgICAgICAgXCIsYXJndW1lbnRzWzE1XSxcIlxcblxcbiAgICAgICAgXCIsYXJndW1lbnRzWzE2XSxcIlxcblxcbiAgICAgICAgXCIsYmVsMyxcIlxcblxcbiAgICAgICAgXCIsYmVsNyxcIlxcblxcbiAgICAgICAgXCIsYmVsOCxcIlxcblxcbiAgICAgIFwiXSlcbmFjKGJlbDEwLCBbXCJcXG4gICAgICBcIixiZWw5LFwiXFxuICAgIFwiXSlcbmFjKGJlbDExLCBbXCJcXG5cXG4gICAgXCIsYmVsMCxcIlxcblxcbiAgICBcIixiZWwxLFwiXFxuXFxuICAgIFwiLGJlbDEwLFwiXFxuICBcIl0pXG4gICAgICByZXR1cm4gYmVsMTFcbiAgICB9KHByb3BzLmkxOG4oJ2Nsb3NlTW9kYWwnKSxwcm9wcy5pMThuKCdjbG9zZU1vZGFsJykscHJvcHMuaGlkZU1vZGFsLGNsb3NlSWNvbigpLHByb3BzLmhpZGVNb2RhbCwhcHJvcHMuYXV0b1Byb2NlZWQgJiYgcHJvcHMubmV3RmlsZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IFVwbG9hZEJ0bih7XG4gICAgICAgICAgICAgICAgaTE4bjogcHJvcHMuaTE4bixcbiAgICAgICAgICAgICAgICBzdGFydFVwbG9hZDogcHJvcHMuc3RhcnRVcGxvYWQsXG4gICAgICAgICAgICAgICAgbmV3RmlsZUNvdW50OiBwcm9wcy5uZXdGaWxlcy5sZW5ndGhcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgOiBudWxsLEZpbGVMaXN0KHtcbiAgICAgICAgICAgIGFjcXVpcmVyczogcHJvcHMuYWNxdWlyZXJzLFxuICAgICAgICAgICAgZmlsZXM6IHByb3BzLmZpbGVzLFxuICAgICAgICAgICAgaGFuZGxlSW5wdXRDaGFuZ2U6IGhhbmRsZUlucHV0Q2hhbmdlLFxuICAgICAgICAgICAgY29udGFpbmVyOiBwcm9wcy5jb250YWluZXIsXG4gICAgICAgICAgICBzaG93RmlsZUNhcmQ6IHByb3BzLnNob3dGaWxlQ2FyZCxcbiAgICAgICAgICAgIHNob3dQcm9ncmVzc0RldGFpbHM6IHByb3BzLnNob3dQcm9ncmVzc0RldGFpbHMsXG4gICAgICAgICAgICB0b3RhbFByb2dyZXNzOiBwcm9wcy50b3RhbFByb2dyZXNzLFxuICAgICAgICAgICAgdG90YWxGaWxlQ291bnQ6IHByb3BzLnRvdGFsRmlsZUNvdW50LFxuICAgICAgICAgICAgaW5mbzogcHJvcHMuaW5mbyxcbiAgICAgICAgICAgIGkxOG46IHByb3BzLmkxOG4sXG4gICAgICAgICAgICBsb2c6IHByb3BzLmxvZyxcbiAgICAgICAgICAgIHJlbW92ZUZpbGU6IHByb3BzLnJlbW92ZUZpbGUsXG4gICAgICAgICAgICBwYXVzZUFsbDogcHJvcHMucGF1c2VBbGwsXG4gICAgICAgICAgICByZXN1bWVBbGw6IHByb3BzLnJlc3VtZUFsbCxcbiAgICAgICAgICAgIHBhdXNlVXBsb2FkOiBwcm9wcy5wYXVzZVVwbG9hZCxcbiAgICAgICAgICAgIHN0YXJ0VXBsb2FkOiBwcm9wcy5zdGFydFVwbG9hZCxcbiAgICAgICAgICAgIGNhbmNlbFVwbG9hZDogcHJvcHMuY2FuY2VsVXBsb2FkLFxuICAgICAgICAgICAgcmVzdW1hYmxlVXBsb2FkczogcHJvcHMucmVzdW1hYmxlVXBsb2FkcyxcbiAgICAgICAgICAgIGlzV2lkZTogcHJvcHMuaXNXaWRlXG4gICAgICAgICAgfSkscHJvcHMuaTE4bignaW1wb3J0RnJvbScpLHByb3BzLmFjdGl2ZVBhbmVsID8gcHJvcHMuYWN0aXZlUGFuZWwubmFtZSA6IG51bGwscHJvcHMuaGlkZUFsbFBhbmVscyxwcm9wcy5pMThuKCdkb25lJykscHJvcHMuYWN0aXZlUGFuZWwgPyAnZmFsc2UnIDogJ3RydWUnLHByb3BzLmFjdGl2ZVBhbmVsID8gcHJvcHMuYWN0aXZlUGFuZWwucmVuZGVyKHByb3BzLnN0YXRlKSA6ICcnLFN0YXR1c0Jhcih7XG4gICAgICAgICAgICB0b3RhbFByb2dyZXNzOiBwcm9wcy50b3RhbFByb2dyZXNzLFxuICAgICAgICAgICAgdG90YWxGaWxlQ291bnQ6IHByb3BzLnRvdGFsRmlsZUNvdW50LFxuICAgICAgICAgICAgdG90YWxTaXplOiBwcm9wcy50b3RhbFNpemUsXG4gICAgICAgICAgICB0b3RhbFVwbG9hZGVkU2l6ZTogcHJvcHMudG90YWxVcGxvYWRlZFNpemUsXG4gICAgICAgICAgICB1cGxvYWRTdGFydGVkRmlsZXM6IHByb3BzLnVwbG9hZFN0YXJ0ZWRGaWxlcyxcbiAgICAgICAgICAgIGlzQWxsQ29tcGxldGU6IHByb3BzLmlzQWxsQ29tcGxldGUsXG4gICAgICAgICAgICBpc0FsbFBhdXNlZDogcHJvcHMuaXNBbGxQYXVzZWQsXG4gICAgICAgICAgICBpc1VwbG9hZFN0YXJ0ZWQ6IHByb3BzLmlzVXBsb2FkU3RhcnRlZCxcbiAgICAgICAgICAgIHBhdXNlQWxsOiBwcm9wcy5wYXVzZUFsbCxcbiAgICAgICAgICAgIHJlc3VtZUFsbDogcHJvcHMucmVzdW1lQWxsLFxuICAgICAgICAgICAgY2FuY2VsQWxsOiBwcm9wcy5jYW5jZWxBbGwsXG4gICAgICAgICAgICBjb21wbGV0ZTogcHJvcHMuY29tcGxldGVGaWxlcy5sZW5ndGgsXG4gICAgICAgICAgICBpblByb2dyZXNzOiBwcm9wcy5pblByb2dyZXNzLFxuICAgICAgICAgICAgdG90YWxTcGVlZDogcHJvcHMudG90YWxTcGVlZCxcbiAgICAgICAgICAgIHRvdGFsRVRBOiBwcm9wcy50b3RhbEVUQSxcbiAgICAgICAgICAgIHN0YXJ0VXBsb2FkOiBwcm9wcy5zdGFydFVwbG9hZCxcbiAgICAgICAgICAgIG5ld0ZpbGVDb3VudDogcHJvcHMubmV3RmlsZXMubGVuZ3RoLFxuICAgICAgICAgICAgaTE4bjogcHJvcHMuaTE4bixcbiAgICAgICAgICAgIHJlc3VtYWJsZVVwbG9hZHM6IHByb3BzLnJlc3VtYWJsZVVwbG9hZHNcbiAgICAgICAgICB9KSxwcm9wcy5wcm9ncmVzc2luZGljYXRvcnMubWFwKCh0YXJnZXQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQucmVuZGVyKHByb3BzLnN0YXRlKVxuICAgICAgICAgIH0pLFRhYnMoe1xuICAgICAgICAgIGZpbGVzOiBwcm9wcy5maWxlcyxcbiAgICAgICAgICBoYW5kbGVJbnB1dENoYW5nZTogaGFuZGxlSW5wdXRDaGFuZ2UsXG4gICAgICAgICAgYWNxdWlyZXJzOiBwcm9wcy5hY3F1aXJlcnMsXG4gICAgICAgICAgY29udGFpbmVyOiBwcm9wcy5jb250YWluZXIsXG4gICAgICAgICAgcGFuZWxTZWxlY3RvclByZWZpeDogcHJvcHMucGFuZWxTZWxlY3RvclByZWZpeCxcbiAgICAgICAgICBzaG93UGFuZWw6IHByb3BzLnNob3dQYW5lbCxcbiAgICAgICAgICBpMThuOiBwcm9wcy5pMThuXG4gICAgICAgIH0pLEZpbGVDYXJkKHtcbiAgICAgICAgICBmaWxlczogcHJvcHMuZmlsZXMsXG4gICAgICAgICAgZmlsZUNhcmRGb3I6IHByb3BzLmZpbGVDYXJkRm9yLFxuICAgICAgICAgIGRvbmU6IHByb3BzLmZpbGVDYXJkRG9uZSxcbiAgICAgICAgICBtZXRhRmllbGRzOiBwcm9wcy5tZXRhRmllbGRzLFxuICAgICAgICAgIGxvZzogcHJvcHMubG9nLFxuICAgICAgICAgIGkxOG46IHByb3BzLmkxOG5cbiAgICAgICAgfSkscHJvcHMuaW5saW5lICYmIHByb3BzLm1heFdpZHRoID8gYG1heC13aWR0aDogJHtwcm9wcy5tYXhXaWR0aH1weDtgIDogJycscHJvcHMuaW5saW5lICYmIHByb3BzLm1heEhlaWdodCA/IGBtYXgtaGVpZ2h0OiAke3Byb3BzLm1heEhlaWdodH1weDtgIDogJycsKCkgPT4gcHJvcHMudXBkYXRlRGFzaGJvYXJkRWxXaWR0aCgpLHByb3BzLmlubGluZSA/ICdmYWxzZScgOiBwcm9wcy5tb2RhbC5pc0hpZGRlbiwhcHJvcHMuaW5saW5lXG4gICAgICAgICAgICAgICAgICAgICAgID8gcHJvcHMuaTE4bignZGFzaGJvYXJkV2luZG93VGl0bGUnKVxuICAgICAgICAgICAgICAgICAgICAgICA6IHByb3BzLmkxOG4oJ2Rhc2hib2FyZFRpdGxlJyksaGFuZGxlUGFzdGUsaXNUb3VjaERldmljZSgpID8gJ1VwcHktLWlzVG91Y2hEZXZpY2UnIDogJycscHJvcHMuc2VtaVRyYW5zcGFyZW50ID8gJ1VwcHlEYXNoYm9hcmQtLXNlbWlUcmFuc3BhcmVudCcgOiAnJywhcHJvcHMuaW5saW5lID8gJ1VwcHlEYXNoYm9hcmQtLW1vZGFsJyA6ICcnLHByb3BzLmlzV2lkZSA/ICdVcHB5RGFzaGJvYXJkLS13aWRlJyA6ICcnKSlcbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5jb25zdCBnZXRGaWxlVHlwZUljb24gPSByZXF1aXJlKCcuL2dldEZpbGVUeXBlSWNvbicpXG5jb25zdCB7IGNoZWNrSWNvbiB9ID0gcmVxdWlyZSgnLi9pY29ucycpXG5cbi8vIGZ1bmN0aW9uIGdldEljb25CeU1pbWUgKGZpbGVUeXBlR2VuZXJhbCkge1xuLy8gICBzd2l0Y2ggKGZpbGVUeXBlR2VuZXJhbCkge1xuLy8gICAgIGNhc2UgJ3RleHQnOlxuLy8gICAgICAgcmV0dXJuIGljb25UZXh0KClcbi8vICAgICBjYXNlICdhdWRpbyc6XG4vLyAgICAgICByZXR1cm4gaWNvbkF1ZGlvKClcbi8vICAgICBkZWZhdWx0OlxuLy8gICAgICAgcmV0dXJuIGljb25GaWxlKClcbi8vICAgfVxuLy8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbGVDYXJkIChwcm9wcykge1xuICBjb25zdCBmaWxlID0gcHJvcHMuZmlsZUNhcmRGb3IgPyBwcm9wcy5maWxlc1twcm9wcy5maWxlQ2FyZEZvcl0gOiBmYWxzZVxuICBjb25zdCBtZXRhID0ge31cblxuICBmdW5jdGlvbiB0ZW1wU3RvcmVNZXRhIChldikge1xuICAgIGNvbnN0IHZhbHVlID0gZXYudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgbmFtZSA9IGV2LnRhcmdldC5hdHRyaWJ1dGVzLm5hbWUudmFsdWVcbiAgICBtZXRhW25hbWVdID0gdmFsdWVcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlck1ldGFGaWVsZHMgKGZpbGUpIHtcbiAgICBjb25zdCBtZXRhRmllbGRzID0gcHJvcHMubWV0YUZpZWxkcyB8fCBbXVxuICAgIHJldHVybiBtZXRhRmllbGRzLm1hcCgoZmllbGQpID0+IHtcbiAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpXG5iZWwyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEZpbGVDYXJkLWZpZWxkc2V0XCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRGaWxlQ2FyZC1sYWJlbFwiKVxuYWMoYmVsMCwgW2FyZ3VtZW50c1swXV0pXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIGFyZ3VtZW50c1sxXSlcbmJlbDEuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIilcbmJlbDEuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYXJndW1lbnRzWzJdKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBhcmd1bWVudHNbM10pXG5iZWwxW1wib25rZXl1cFwiXSA9IGFyZ3VtZW50c1s0XVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRGaWxlQ2FyZC1pbnB1dFwiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICBcIixiZWwxXSlcbiAgICAgIHJldHVybiBiZWwyXG4gICAgfShmaWVsZC5uYW1lLGZpZWxkLmlkLGZpbGUubWV0YVtmaWVsZC5pZF0sZmllbGQucGxhY2Vob2xkZXIgfHwgJycsdGVtcFN0b3JlTWV0YSkpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWw2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsNi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBhcmd1bWVudHNbNF0pXG5iZWw2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEZpbGVDYXJkXCIpXG52YXIgYmVsMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkQ29udGVudC1iYXJcIilcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZENvbnRlbnQtdGl0bGVcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbmJlbDAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkQ29udGVudC10aXRsZUZpbGVcIilcbmFjKGJlbDAsIFthcmd1bWVudHNbMF1dKVxuYWMoYmVsMSwgW1wiRWRpdGluZyBcIixiZWwwXSlcbnZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuYmVsMi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBcIkZpbmlzaCBlZGl0aW5nIGZpbGVcIilcbmJlbDJbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzFdXG5iZWwyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZENvbnRlbnQtYmFja1wiKVxuYWMoYmVsMiwgW1wiRG9uZVwiXSlcbmFjKGJlbDMsIFtcIlxcbiAgICAgIFwiLGJlbDEsXCJcXG4gICAgICBcIixiZWwyLFwiXFxuICAgIFwiXSlcbnZhciBiZWw1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsNS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtYWN0aW9uc1wiKVxudmFyIGJlbDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG5iZWw0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIilcbmJlbDQuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgXCJGaW5pc2ggZWRpdGluZyBmaWxlXCIpXG5iZWw0W1wib25jbGlja1wiXSA9IGFyZ3VtZW50c1syXVxuYmVsNC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlCdXR0b24tLWNpcmN1bGFyIFVwcHlCdXR0b24tLWJsdWUgVXBweURhc2hib2FyZEZpbGVDYXJkLWRvbmVcIilcbmFjKGJlbDQsIFthcmd1bWVudHNbM11dKVxuYWMoYmVsNSwgW1wiXFxuICAgICAgXCIsYmVsNCxcIlxcbiAgICBcIl0pXG5hYyhiZWw2LCBbXCJcXG4gICAgXCIsYmVsMyxcIlxcbiAgICBcIixhcmd1bWVudHNbNV0sXCJcXG4gICAgXCIsYmVsNSxcIlxcbiAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsNlxuICAgIH0oZmlsZS5tZXRhID8gZmlsZS5tZXRhLm5hbWUgOiBmaWxlLm5hbWUsKCkgPT4gcHJvcHMuZG9uZShtZXRhLCBmaWxlLmlkKSwoKSA9PiBwcm9wcy5kb25lKG1ldGEsIGZpbGUuaWQpLGNoZWNrSWNvbigpLCFwcm9wcy5maWxlQ2FyZEZvcixwcm9wcy5maWxlQ2FyZEZvclxuICAgICAgPyAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWw1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsNS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRGaWxlQ2FyZC1pbm5lclwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEZpbGVDYXJkLXByZXZpZXdcIilcbmFjKGJlbDAsIFtcIlxcbiAgICAgICAgICAgIFwiLGFyZ3VtZW50c1swXSxcIlxcbiAgICAgICAgICBcIl0pXG52YXIgYmVsNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkRmlsZUNhcmQtaW5mb1wiKVxudmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIilcbmJlbDMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkRmlsZUNhcmQtZmllbGRzZXRcIilcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEZpbGVDYXJkLWxhYmVsXCIpXG5hYyhiZWwxLCBbXCJOYW1lXCJdKVxudmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbmJlbDIuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcIm5hbWVcIilcbmJlbDIuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIilcbmJlbDIuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYXJndW1lbnRzWzFdKVxuYmVsMltcIm9ua2V5dXBcIl0gPSBhcmd1bWVudHNbMl1cbmJlbDIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkRmlsZUNhcmQtaW5wdXRcIilcbmFjKGJlbDMsIFtcIlxcbiAgICAgICAgICAgICAgXCIsYmVsMSxcIlxcbiAgICAgICAgICAgICAgXCIsYmVsMixcIlxcbiAgICAgICAgICAgIFwiXSlcbmFjKGJlbDQsIFtcIlxcbiAgICAgICAgICAgIFwiLGJlbDMsXCJcXG4gICAgICAgICAgICBcIixhcmd1bWVudHNbM10sXCJcXG4gICAgICAgICAgXCJdKVxuYWMoYmVsNSwgW1wiXFxuICAgICAgICAgIFwiLGJlbDAsXCJcXG4gICAgICAgICAgXCIsYmVsNCxcIlxcbiAgICAgICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDVcbiAgICB9KGZpbGUucHJldmlld1xuICAgICAgICAgICAgICA/IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcImFsdFwiLCBhcmd1bWVudHNbMF0pXG5iZWwwLnNldEF0dHJpYnV0ZShcInNyY1wiLCBhcmd1bWVudHNbMV0pXG4gICAgICByZXR1cm4gYmVsMFxuICAgIH0oZmlsZS5uYW1lLGZpbGUucHJldmlldykpXG4gICAgICAgICAgICAgIDogKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDAuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJjb2xvcjogXCIgKyBhcmd1bWVudHNbMF0pXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tcHJldmlld0ljb25cIilcbmFjKGJlbDAsIFtcIlxcbiAgICAgICAgICAgICAgICAgIFwiLGFyZ3VtZW50c1sxXSxcIlxcbiAgICAgICAgICAgICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMFxuICAgIH0oZ2V0RmlsZVR5cGVJY29uKGZpbGUudHlwZS5nZW5lcmFsLCBmaWxlLnR5cGUuc3BlY2lmaWMpLmNvbG9yLGdldEZpbGVUeXBlSWNvbihmaWxlLnR5cGUuZ2VuZXJhbCwgZmlsZS50eXBlLnNwZWNpZmljKS5pY29uKSksZmlsZS5tZXRhLm5hbWUsdGVtcFN0b3JlTWV0YSxyZW5kZXJNZXRhRmllbGRzKGZpbGUpKSlcbiAgICAgIDogbnVsbCkpXG59XG4iLCJjb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuY29uc3QgeyBnZXRFVEEsXG4gICAgICAgICBnZXRTcGVlZCxcbiAgICAgICAgIHByZXR0eUVUQSxcbiAgICAgICAgIGdldEZpbGVOYW1lQW5kRXh0ZW5zaW9uLFxuICAgICAgICAgdHJ1bmNhdGVTdHJpbmcsXG4gICAgICAgICBjb3B5VG9DbGlwYm9hcmQgfSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvVXRpbHMnKVxuY29uc3QgcHJldHR5Qnl0ZXMgPSByZXF1aXJlKCdwcmV0dHktYnl0ZXMnKVxuY29uc3QgRmlsZUl0ZW1Qcm9ncmVzcyA9IHJlcXVpcmUoJy4vRmlsZUl0ZW1Qcm9ncmVzcycpXG5jb25zdCBnZXRGaWxlVHlwZUljb24gPSByZXF1aXJlKCcuL2dldEZpbGVUeXBlSWNvbicpXG5jb25zdCB7IGljb25FZGl0LCBpY29uQ29weSB9ID0gcmVxdWlyZSgnLi9pY29ucycpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmlsZUl0ZW0gKHByb3BzKSB7XG4gIGNvbnN0IGZpbGUgPSBwcm9wcy5maWxlXG5cbiAgY29uc3QgaXNVcGxvYWRlZCA9IGZpbGUucHJvZ3Jlc3MudXBsb2FkQ29tcGxldGVcbiAgY29uc3QgdXBsb2FkSW5Qcm9ncmVzc09yQ29tcGxldGUgPSBmaWxlLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWRcbiAgY29uc3QgdXBsb2FkSW5Qcm9ncmVzcyA9IGZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCAmJiAhZmlsZS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZVxuICBjb25zdCBpc1BhdXNlZCA9IGZpbGUuaXNQYXVzZWQgfHwgZmFsc2VcblxuICBjb25zdCBmaWxlTmFtZSA9IGdldEZpbGVOYW1lQW5kRXh0ZW5zaW9uKGZpbGUubWV0YS5uYW1lKVswXVxuICBjb25zdCB0cnVuY2F0ZWRGaWxlTmFtZSA9IHByb3BzLmlzV2lkZSA/IHRydW5jYXRlU3RyaW5nKGZpbGVOYW1lLCAxNSkgOiBmaWxlTmFtZVxuXG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWw4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG5iZWw4LnNldEF0dHJpYnV0ZShcImlkXCIsIFwidXBweV9cIiArIGFyZ3VtZW50c1sxMV0pXG5iZWw4LnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGFyZ3VtZW50c1sxMl0pXG5iZWw4LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW1cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiArIGFyZ3VtZW50c1sxM10gKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiICsgYXJndW1lbnRzWzE0XSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBhcmd1bWVudHNbMTVdICsgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiArIGFyZ3VtZW50c1sxNl0pXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkSXRlbS1wcmV2aWV3XCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkSXRlbS1wcm9ncmVzc1wiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGFyZ3VtZW50c1swXSlcbmJlbDBbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzFdXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tcHJvZ3Jlc3NCdG5cIilcbmFjKGJlbDAsIFtcIlxcbiAgICAgICAgICAgIFwiLGFyZ3VtZW50c1syXSxcIlxcbiAgICAgICAgICBcIl0pXG5hYyhiZWwxLCBbXCJcXG4gICAgICAgICAgXCIsYmVsMCxcIlxcbiAgICAgICAgICBcIixhcmd1bWVudHNbM10sXCJcXG4gICAgICAgIFwiXSlcbmFjKGJlbDIsIFtcIlxcbiAgICAgICAgXCIsYXJndW1lbnRzWzRdLFwiXFxuICAgICAgICBcIixiZWwxLFwiXFxuICAgICAgXCJdKVxudmFyIGJlbDYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWw2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0taW5mb1wiKVxudmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDRcIilcbmJlbDMuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgYXJndW1lbnRzWzVdKVxuYmVsMy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRJdGVtLW5hbWVcIilcbmFjKGJlbDMsIFtcIlxcbiAgICAgICAgXCIsYXJndW1lbnRzWzZdLFwiXFxuICAgICAgXCJdKVxudmFyIGJlbDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWw1LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tc3RhdHVzXCIpXG52YXIgYmVsNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG5iZWw0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tc3RhdHVzU2l6ZVwiKVxuYWMoYmVsNCwgW2FyZ3VtZW50c1s3XV0pXG5hYyhiZWw1LCBbXCJcXG4gICAgICAgIFwiLGJlbDQsXCJcXG4gICAgICBcIl0pXG5hYyhiZWw2LCBbXCJcXG4gICAgICBcIixiZWwzLFwiXFxuICAgICAgXCIsYmVsNSxcIlxcbiAgICAgIFwiLGFyZ3VtZW50c1s4XSxcIlxcbiAgICAgIFwiLGFyZ3VtZW50c1s5XSxcIlxcbiAgICBcIl0pXG52YXIgYmVsNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkSXRlbS1hY3Rpb25cIilcbmFjKGJlbDcsIFtcIlxcbiAgICAgIFwiLGFyZ3VtZW50c1sxMF0sXCJcXG4gICAgXCJdKVxuYWMoYmVsOCwgW1wiXFxuICAgICAgXCIsYmVsMixcIlxcbiAgICBcIixiZWw2LFwiXFxuICAgIFwiLGJlbDcsXCJcXG4gIFwiXSlcbiAgICAgIHJldHVybiBiZWw4XG4gICAgfShpc1VwbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3VwbG9hZCBjb21wbGV0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwcm9wcy5yZXN1bWFibGVVcGxvYWRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaWxlLmlzUGF1c2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdyZXN1bWUgdXBsb2FkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAncGF1c2UgdXBsb2FkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2NhbmNlbCB1cGxvYWQnLChldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVcGxvYWRlZCkgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5yZXN1bWFibGVVcGxvYWRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvcHMucGF1c2VVcGxvYWQoZmlsZS5pZClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5jYW5jZWxVcGxvYWQoZmlsZS5pZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxGaWxlSXRlbVByb2dyZXNzKHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IGZpbGUucHJvZ3Jlc3MucGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgZmlsZUlEOiBmaWxlLmlkXG4gICAgICAgICAgICB9KSxwcm9wcy5zaG93UHJvZ3Jlc3NEZXRhaWxzXG4gICAgICAgICAgICA/IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGFyZ3VtZW50c1swXSlcbmJlbDAuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBhcmd1bWVudHNbMV0pXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tcHJvZ3Jlc3NJbmZvXCIpXG5hYyhiZWwwLCBbXCJcXG4gICAgICAgICAgICAgICAgXCIsYXJndW1lbnRzWzJdLFwiXFxuICAgICAgICAgICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMFxuICAgIH0ocHJvcHMuaTE4bignZmlsZVByb2dyZXNzJykscHJvcHMuaTE4bignZmlsZVByb2dyZXNzJyksIWZpbGUuaXNQYXVzZWQgJiYgIWlzVXBsb2FkZWRcbiAgICAgICAgICAgICAgICAgID8gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG5hYyhiZWwwLCBbYXJndW1lbnRzWzBdLFwiIOODuyDihpEgXCIsYXJndW1lbnRzWzFdLFwiL3NcIl0pXG4gICAgICByZXR1cm4gYmVsMFxuICAgIH0ocHJldHR5RVRBKGdldEVUQShmaWxlLnByb2dyZXNzKSkscHJldHR5Qnl0ZXMoZ2V0U3BlZWQoZmlsZS5wcm9ncmVzcykpKSlcbiAgICAgICAgICAgICAgICAgIDogbnVsbCkpXG4gICAgICAgICAgICA6IG51bGwsZmlsZS5wcmV2aWV3XG4gICAgICAgICAgPyAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgYXJndW1lbnRzWzBdKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgYXJndW1lbnRzWzFdKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KGZpbGUubmFtZSxmaWxlLnByZXZpZXcpKVxuICAgICAgICAgIDogKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDAuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJjb2xvcjogXCIgKyBhcmd1bWVudHNbMF0pXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tcHJldmlld0ljb25cIilcbmFjKGJlbDAsIFtcIlxcbiAgICAgICAgICAgICAgXCIsYXJndW1lbnRzWzFdLFwiXFxuICAgICAgICAgICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KGdldEZpbGVUeXBlSWNvbihmaWxlLnR5cGUuZ2VuZXJhbCwgZmlsZS50eXBlLnNwZWNpZmljKS5jb2xvcixnZXRGaWxlVHlwZUljb24oZmlsZS50eXBlLmdlbmVyYWwsIGZpbGUudHlwZS5zcGVjaWZpYykuaWNvbikpLGZpbGVOYW1lLGZpbGUudXBsb2FkVVJMXG4gICAgICAgICAgPyAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIilcbmJlbDAuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBhcmd1bWVudHNbMF0pXG5iZWwwLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKVxuYWMoYmVsMCwgW1wiXFxuICAgICAgICAgICAgICBcIixhcmd1bWVudHNbMV0sXCJcXG4gICAgICAgICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMFxuICAgIH0oZmlsZS51cGxvYWRVUkwsZmlsZS5leHRlbnNpb24gPyB0cnVuY2F0ZWRGaWxlTmFtZSArICcuJyArIGZpbGUuZXh0ZW5zaW9uIDogdHJ1bmNhdGVkRmlsZU5hbWUpKVxuICAgICAgICAgIDogZmlsZS5leHRlbnNpb24gPyB0cnVuY2F0ZWRGaWxlTmFtZSArICcuJyArIGZpbGUuZXh0ZW5zaW9uIDogdHJ1bmNhdGVkRmlsZU5hbWUsZmlsZS5kYXRhLnNpemUgPyBwcmV0dHlCeXRlcyhmaWxlLmRhdGEuc2l6ZSkgOiAnPycsIXVwbG9hZEluUHJvZ3Jlc3NPckNvbXBsZXRlXG4gICAgICAgID8gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbmJlbDAuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkVkaXQgZmlsZVwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBcIkVkaXQgZmlsZVwiKVxuYmVsMFtcIm9uY2xpY2tcIl0gPSBhcmd1bWVudHNbMF1cbmJlbDAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkSXRlbS1lZGl0XCIpXG5hYyhiZWwwLCBbXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIixhcmd1bWVudHNbMV1dKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KChlKSA9PiBwcm9wcy5zaG93RmlsZUNhcmQoZmlsZS5pZCksaWNvbkVkaXQoKSkpXG4gICAgICAgIDogbnVsbCxmaWxlLnVwbG9hZFVSTFxuICAgICAgICA/IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJDb3B5IGxpbmtcIilcbmJlbDAuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgXCJDb3B5IGxpbmtcIilcbmJlbDBbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzBdXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tY29weUxpbmtcIilcbmFjKGJlbDAsIFthcmd1bWVudHNbMV1dKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5VG9DbGlwYm9hcmQoZmlsZS51cGxvYWRVUkwsIHByb3BzLmkxOG4oJ2NvcHlMaW5rVG9DbGlwYm9hcmRGYWxsYmFjaycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMubG9nKCdMaW5rIGNvcGllZCB0byBjbGlwYm9hcmQuJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5pbmZvKHByb3BzLmkxOG4oJ2NvcHlMaW5rVG9DbGlwYm9hcmRTdWNjZXNzJyksICdpbmZvJywgMzAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHByb3BzLmxvZylcbiAgICAgICAgICAgICAgICAgICAgICAgfSxpY29uQ29weSgpKSlcbiAgICAgICAgOiBudWxsLCFpc1VwbG9hZGVkXG4gICAgICAgID8gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbmJlbDMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIlJlbW92ZSBmaWxlXCIpXG5iZWwzLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIFwiUmVtb3ZlIGZpbGVcIilcbmJlbDNbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzBdXG5iZWwzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZEl0ZW0tcmVtb3ZlXCIpXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIyMlwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjIxXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAxOCAxN1wiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJlbGxpcHNlXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3hcIiwgXCI4LjYyXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3lcIiwgXCI4LjM4M1wiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJ4XCIsIFwiOC42MlwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJ5XCIsIFwiOC4zODNcIilcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlXCIsIFwiI0ZGRlwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCIjRkZGXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0xMSA2LjE0N0wxMC44NSA2IDguNSA4LjI4NCA2LjE1IDYgNiA2LjE0NyA4LjM1IDguNDMgNiAxMC43MTdsLjE1LjE0Nkw4LjUgOC41NzhsMi4zNSAyLjI4NC4xNS0uMTQ2TDguNjUgOC40M3pcIilcbmFjKGJlbDIsIFtcIlxcbiAgICAgICAgICAgICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICAgICAgICAgICAgIFwiLGJlbDEsXCJcXG4gICAgICAgICAgICAgICAgIFwiXSlcbmFjKGJlbDMsIFtcIlxcbiAgICAgICAgICAgICAgICAgXCIsYmVsMixcIlxcbiAgICAgICAgICAgICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwzXG4gICAgfSgoKSA9PiBwcm9wcy5yZW1vdmVGaWxlKGZpbGUuaWQpKSlcbiAgICAgICAgOiBudWxsLGZpbGUuaWQsZmlsZS5tZXRhLm5hbWUsdXBsb2FkSW5Qcm9ncmVzcyA/ICdpcy1pbnByb2dyZXNzJyA6ICcnLGlzVXBsb2FkZWQgPyAnaXMtY29tcGxldGUnIDogJycsaXNQYXVzZWQgPyAnaXMtcGF1c2VkJyA6ICcnLHByb3BzLnJlc3VtYWJsZVVwbG9hZHMgPyAnaXMtcmVzdW1hYmxlJyA6ICcnKSlcbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5cbi8vIGh0dHA6Ly9jb2RlcGVuLmlvL0hhcmtrby9wZW4vclZ4dk5NXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9lc3dhay9hZDRlYTU3YmNkNWZmN2FhNWQ0MlxuXG5tb2R1bGUuZXhwb3J0cyA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWw5LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCI3MFwiKVxuYmVsOS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjcwXCIpXG5iZWw5LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAzNiAzNlwiKVxuYmVsOS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb24gVXBweUljb24tcHJvZ3Jlc3NDaXJjbGVcIilcbnZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJwcm9ncmVzcy1ncm91cFwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImNpcmNsZVwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJcIiwgXCIxNVwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN4XCIsIFwiMThcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeVwiLCBcIjE4XCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlLXdpZHRoXCIsIFwiMlwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCJub25lXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJiZ1wiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImNpcmNsZVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJcIiwgXCIxNVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN4XCIsIFwiMThcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeVwiLCBcIjE4XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIFwicm90YXRlKC05MCwgMTgsIDE4KVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZS13aWR0aFwiLCBcIjJcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwibm9uZVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZS1kYXNoYXJyYXlcIiwgXCIxMDBcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2UtZGFzaG9mZnNldFwiLCBhcmd1bWVudHNbMF0pXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJwcm9ncmVzc1wiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICBcIixiZWwxLFwiXFxuICAgICAgXCJdKVxudmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBvbHlnb25cIilcbmJlbDMuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMywgMylcIilcbmJlbDMuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJwb2ludHNcIiwgXCIxMiAyMCAxMiAxMCAyMCAxNVwiKVxuYmVsMy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwicGxheVwiKVxudmFyIGJlbDYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIilcbmJlbDYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTQuNSwgMTMpXCIpXG5iZWw2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJwYXVzZVwiKVxudmFyIGJlbDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInJlY3RcIilcbmJlbDQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4XCIsIFwiMFwiKVxuYmVsNC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgXCIwXCIpXG5iZWw0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIyXCIpXG5iZWw0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiMTBcIilcbmJlbDQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyeFwiLCBcIjBcIilcbnZhciBiZWw1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJyZWN0XCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBcIjVcIilcbmJlbDUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIFwiMFwiKVxuYmVsNS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMlwiKVxuYmVsNS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjEwXCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicnhcIiwgXCIwXCIpXG5hYyhiZWw2LCBbXCJcXG4gICAgICAgIFwiLGJlbDQsXCJcXG4gICAgICAgIFwiLGJlbDUsXCJcXG4gICAgICBcIl0pXG52YXIgYmVsNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicG9seWdvblwiKVxuYmVsNy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgyLCAzKVwiKVxuYmVsNy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInBvaW50c1wiLCBcIjE0IDIyLjUgNyAxNS4yNDU3MDY1IDguOTk5ODU4NTcgMTMuMTczMjgxNSAxNCAxOC4zNTQ3MTA0IDIyLjk3Mjk4ODMgOSAyNSAxMS4xMDA1NjM0XCIpXG5iZWw3LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJjaGVja1wiKVxudmFyIGJlbDggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBvbHlnb25cIilcbmJlbDguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMiwgMilcIilcbmJlbDguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJwb2ludHNcIiwgXCIxOS44ODU2NTE2IDExLjA2MjUgMTYgMTQuOTQ4MTUxNiAxMi4xMDE5NzM3IDExLjA2MjUgMTEuMDYyNSAxMi4xMTQzNDg0IDE0Ljk0ODE1MTYgMTYgMTEuMDYyNSAxOS44OTgwMjYzIDEyLjEwMTk3MzcgMjAuOTM3NSAxNiAxNy4wNTE4NDg0IDE5Ljg4NTY1MTYgMjAuOTM3NSAyMC45Mzc1IDE5Ljg5ODAyNjMgMTcuMDUxODQ4NCAxNiAyMC45Mzc1IDEyXCIpXG5iZWw4LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJjYW5jZWxcIilcbmFjKGJlbDksIFtcIlxcbiAgICAgIFwiLGJlbDIsXCJcXG4gICAgICBcIixiZWwzLFwiXFxuICAgICAgXCIsYmVsNixcIlxcbiAgICAgIFwiLGJlbDcsXCJcXG4gICAgICBcIixiZWw4XSlcbiAgICAgIHJldHVybiBiZWw5XG4gICAgfSgxMDAgLSBwcm9wcy5wcm9ncmVzcykpXG59XG4iLCJjb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuY29uc3QgRmlsZUl0ZW0gPSByZXF1aXJlKCcuL0ZpbGVJdGVtJylcbmNvbnN0IEFjdGlvbkJyb3dzZVRhZ2xpbmUgPSByZXF1aXJlKCcuL0FjdGlvbkJyb3dzZVRhZ2xpbmUnKVxuY29uc3QgeyBkYXNoYm9hcmRCZ0ljb24gfSA9IHJlcXVpcmUoJy4vaWNvbnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtZmlsZXNcXG4gICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBhcmd1bWVudHNbMF0pXG5hYyhiZWwwLCBbXCJcXG4gICAgICBcIixhcmd1bWVudHNbMV0sXCJcXG4gICAgICBcIixhcmd1bWVudHNbMl0sXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KHByb3BzLnRvdGFsRmlsZUNvdW50ID09PSAwID8gJ1VwcHlEYXNoYm9hcmQtZmlsZXMtLW5vRmlsZXMnIDogJycscHJvcHMudG90YWxGaWxlQ291bnQgPT09IDBcbiAgICAgICA/IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWwyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1iZ0ljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1kcm9wRmlsZXNUaXRsZVwiKVxuYWMoYmVsMCwgW1wiXFxuICAgICAgICAgICAgXCIsYXJndW1lbnRzWzBdLFwiXFxuICAgICAgICAgIFwiXSlcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJmaWxlXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJmaWxlc1tdXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIFwidHJ1ZVwiKVxuYmVsMVtcIm9uY2hhbmdlXCJdID0gYXJndW1lbnRzWzFdXG5iZWwxLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1pbnB1dFwiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgICAgIFwiLGFyZ3VtZW50c1syXSxcIlxcbiAgICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICAgIFwiLGJlbDEsXCJcXG4gICAgICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMlxuICAgIH0oQWN0aW9uQnJvd3NlVGFnbGluZSh7XG4gICAgICAgICAgICAgIGFjcXVpcmVyczogcHJvcHMuYWNxdWlyZXJzLFxuICAgICAgICAgICAgICBjb250YWluZXI6IHByb3BzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgaGFuZGxlSW5wdXRDaGFuZ2U6IHByb3BzLmhhbmRsZUlucHV0Q2hhbmdlLFxuICAgICAgICAgICAgICBpMThuOiBwcm9wcy5pMThuXG4gICAgICAgICAgICB9KSxwcm9wcy5oYW5kbGVJbnB1dENoYW5nZSxkYXNoYm9hcmRCZ0ljb24oKSkpXG4gICAgICAgOiBudWxsLE9iamVjdC5rZXlzKHByb3BzLmZpbGVzKS5tYXAoKGZpbGVJRCkgPT4ge1xuICAgICAgICByZXR1cm4gRmlsZUl0ZW0oe1xuICAgICAgICAgIGZpbGU6IHByb3BzLmZpbGVzW2ZpbGVJRF0sXG4gICAgICAgICAgc2hvd0ZpbGVDYXJkOiBwcm9wcy5zaG93RmlsZUNhcmQsXG4gICAgICAgICAgc2hvd1Byb2dyZXNzRGV0YWlsczogcHJvcHMuc2hvd1Byb2dyZXNzRGV0YWlscyxcbiAgICAgICAgICBpbmZvOiBwcm9wcy5pbmZvLFxuICAgICAgICAgIGxvZzogcHJvcHMubG9nLFxuICAgICAgICAgIGkxOG46IHByb3BzLmkxOG4sXG4gICAgICAgICAgcmVtb3ZlRmlsZTogcHJvcHMucmVtb3ZlRmlsZSxcbiAgICAgICAgICBwYXVzZVVwbG9hZDogcHJvcHMucGF1c2VVcGxvYWQsXG4gICAgICAgICAgY2FuY2VsVXBsb2FkOiBwcm9wcy5jYW5jZWxVcGxvYWQsXG4gICAgICAgICAgcmVzdW1hYmxlVXBsb2FkczogcHJvcHMucmVzdW1hYmxlVXBsb2FkcyxcbiAgICAgICAgICBpc1dpZGU6IHByb3BzLmlzV2lkZVxuICAgICAgICB9KVxuICAgICAgfSkpKVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcblxubW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcbiAgcHJvcHMgPSBwcm9wcyB8fCB7fVxuXG4gIGNvbnN0IGlzSGlkZGVuID0gcHJvcHMudG90YWxGaWxlQ291bnQgPT09IDAgfHwgIXByb3BzLmlzVXBsb2FkU3RhcnRlZFxuXG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsMy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBhcmd1bWVudHNbNF0pXG5iZWwzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1zdGF0dXNCYXJcXG4gICAgICAgICAgICAgICAgXCIgKyBhcmd1bWVudHNbNV0pXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcm9ncmVzc1wiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImRpc3BsYXk6IG5vbmU7XCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcIm1pblwiLCBcIjBcIilcbmJlbDAuc2V0QXR0cmlidXRlKFwibWF4XCIsIFwiMTAwXCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGFyZ3VtZW50c1swXSlcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIndpZHRoOiBcIiArIGFyZ3VtZW50c1sxXSArIFwiJVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtc3RhdHVzQmFyUHJvZ3Jlc3NcIilcbnZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsMi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtc3RhdHVzQmFyQ29udGVudFwiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgICBcIixhcmd1bWVudHNbMl0sXCJcXG4gICAgICAgIFwiLGFyZ3VtZW50c1szXSxcIlxcbiAgICAgIFwiXSlcbmFjKGJlbDMsIFtcIlxcbiAgICAgIFwiLGJlbDAsXCJcXG4gICAgICBcIixiZWwxLFwiXFxuICAgICAgXCIsYmVsMixcIlxcbiAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsM1xuICAgIH0ocHJvcHMudG90YWxQcm9ncmVzcyxwcm9wcy50b3RhbFByb2dyZXNzLHByb3BzLmlzVXBsb2FkU3RhcnRlZCAmJiAhcHJvcHMuaXNBbGxDb21wbGV0ZVxuICAgICAgICAgID8gIXByb3BzLmlzQWxsUGF1c2VkXG4gICAgICAgICAgICA/IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxuYWMoYmVsMCwgW2FyZ3VtZW50c1swXSxcIiBVcGxvYWRpbmcuLi4gXCIsYXJndW1lbnRzWzFdLFwiJeODu1wiLGFyZ3VtZW50c1syXSxcIiAvIFwiLGFyZ3VtZW50c1szXSxcIuODu1wiLGFyZ3VtZW50c1s0XSxcIiAvIFwiLGFyZ3VtZW50c1s1XSxcIuODu+KGkSBcIixhcmd1bWVudHNbNl0sXCIvc+ODu1wiLGFyZ3VtZW50c1s3XV0pXG4gICAgICByZXR1cm4gYmVsMFxuICAgIH0ocGF1c2VSZXN1bWVCdXR0b25zKHByb3BzKSxwcm9wcy50b3RhbFByb2dyZXNzIHx8IDAscHJvcHMuY29tcGxldGUscHJvcHMuaW5Qcm9ncmVzcyxwcm9wcy50b3RhbFVwbG9hZGVkU2l6ZSxwcm9wcy50b3RhbFNpemUscHJvcHMudG90YWxTcGVlZCxwcm9wcy50b3RhbEVUQSkpXG4gICAgICAgICAgICA6IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxuYWMoYmVsMCwgW2FyZ3VtZW50c1swXSxcIiBQYXVzZWTjg7tcIixhcmd1bWVudHNbMV0sXCIlXCJdKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KHBhdXNlUmVzdW1lQnV0dG9ucyhwcm9wcykscHJvcHMudG90YWxQcm9ncmVzcykpXG4gICAgICAgICAgOiBudWxsLHByb3BzLmlzQWxsQ29tcGxldGVcbiAgICAgICAgICA/IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMThcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCIxN1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgMjMgMTdcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtc3RhdHVzQmFyQWN0aW9uIFVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNOC45NDQgMTdMMCA3Ljg2NWwyLjU1NS0yLjYxIDYuMzkgNi41MjVMMjAuNDEgMCAyMyAyLjY0NXpcIilcbmFjKGJlbDEsIFtcIlxcbiAgICAgICAgICAgICAgXCIsYmVsMCxcIlxcbiAgICAgICAgICAgIFwiXSlcbmFjKGJlbDIsIFtiZWwxLFwiVXBsb2FkIGNvbXBsZXRl44O7XCIsYXJndW1lbnRzWzBdLFwiJVwiXSlcbiAgICAgIHJldHVybiBiZWwyXG4gICAgfShwcm9wcy50b3RhbFByb2dyZXNzKSlcbiAgICAgICAgICA6IG51bGwsaXNIaWRkZW4scHJvcHMuaXNBbGxDb21wbGV0ZSA/ICdpcy1jb21wbGV0ZScgOiAnJykpXG59XG5cbmNvbnN0IHBhdXNlUmVzdW1lQnV0dG9ucyA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbmJlbDAuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKVxuYmVsMFtcIm9uY2xpY2tcIl0gPSBhcmd1bWVudHNbMF1cbmJlbDAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkLXN0YXR1c0JhckFjdGlvblwiKVxuYWMoYmVsMCwgW1wiXFxuICAgIFwiLGFyZ3VtZW50c1sxXSxcIlxcbiAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KCgpID0+IHRvZ2dsZVBhdXNlUmVzdW1lKHByb3BzKSxwcm9wcy5yZXN1bWFibGVVcGxvYWRzXG4gICAgICA/IHByb3BzLmlzQWxsUGF1c2VkXG4gICAgICAgID8gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIxNVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjE3XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAxMSAxM1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0xLjI2IDEyLjUzNGEuNjcuNjcgMCAwIDEtLjY3NC4wMTIuNjcuNjcgMCAwIDEtLjMzNi0uNTgzdi0xMUMuMjUuNzI0LjM4LjUuNTg2LjM4MmEuNjU4LjY1OCAwIDAgMSAuNjczLjAxMmw5LjE2NSA1LjVhLjY2LjY2IDAgMCAxIC4zMjUuNTcuNjYuNjYgMCAwIDEtLjMyNS41NzNsLTkuMTY2IDUuNXpcIilcbmFjKGJlbDEsIFtcIlxcbiAgICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMVxuICAgIH0oKSlcbiAgICAgICAgOiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIjE2XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiMTdcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDEyIDEzXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTQuODg4LjgxdjExLjM4YzAgLjQ0Ni0uMzI0LjgxLS43MjIuODFIMi43MjJDMi4zMjQgMTMgMiAxMi42MzYgMiAxMi4xOVYuODFjMC0uNDQ2LjMyNC0uODEuNzIyLS44MWgxLjQ0NGMuMzk4IDAgLjcyMi4zNjQuNzIyLjgxek05Ljg4OC44MXYxMS4zOGMwIC40NDYtLjMyNC44MS0uNzIyLjgxSDcuNzIyQzcuMzI0IDEzIDcgMTIuNjM2IDcgMTIuMTlWLjgxYzAtLjQ0Ni4zMjQtLjgxLjcyMi0uODFoMS40NDRjLjM5OCAwIC43MjIuMzY0LjcyMi44MXpcIilcbmFjKGJlbDEsIFtcIlxcbiAgICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMVxuICAgIH0oKSlcbiAgICAgIDogKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIxNnB4XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiMTZweFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgMTkgMTlcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMTcuMzE4IDE3LjIzMkw5Ljk0IDkuODU0IDkuNTg2IDkuNWwtLjM1NC4zNTQtNy4zNzggNy4zNzhoLjcwN2wtLjYyLS42MnYuNzA2TDkuMzE4IDkuOTRsLjM1NC0uMzU0LS4zNTQtLjM1NEwxLjk0IDEuODU0di43MDdsLjYyLS42MmgtLjcwNmw3LjM3OCA3LjM3OC4zNTQuMzU0LjM1NC0uMzU0IDcuMzc4LTcuMzc4aC0uNzA3bC42MjIuNjJ2LS43MDZMOS44NTQgOS4yMzJsLS4zNTQuMzU0LjM1NC4zNTQgNy4zNzggNy4zNzguNzA4LS43MDctNy4zOC03LjM3OHYuNzA4bDcuMzgtNy4zOC4zNTMtLjM1My0uMzUzLS4zNTMtLjYyMi0uNjIyLS4zNTMtLjM1My0uMzU0LjM1Mi03LjM3OCA3LjM4aC43MDhMMi41NiAxLjIzIDIuMjA4Ljg4bC0uMzUzLjM1My0uNjIyLjYyLS4zNTMuMzU1LjM1Mi4zNTMgNy4zOCA3LjM4di0uNzA4bC03LjM4IDcuMzgtLjM1My4zNTMuMzUyLjM1My42MjIuNjIyLjM1My4zNTMuMzU0LS4zNTMgNy4zOC03LjM4aC0uNzA4bDcuMzggNy4zOHpcIilcbmFjKGJlbDEsIFtcIlxcbiAgICAgICAgXCIsYmVsMCxcIlxcbiAgICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfSgpKSkpXG59XG5cbmNvbnN0IHRvZ2dsZVBhdXNlUmVzdW1lID0gKHByb3BzKSA9PiB7XG4gIGlmIChwcm9wcy5pc0FsbENvbXBsZXRlKSByZXR1cm5cblxuICBpZiAoIXByb3BzLnJlc3VtYWJsZVVwbG9hZHMpIHtcbiAgICByZXR1cm4gcHJvcHMuY2FuY2VsQWxsKClcbiAgfVxuXG4gIGlmIChwcm9wcy5pc0FsbFBhdXNlZCkge1xuICAgIHJldHVybiBwcm9wcy5yZXN1bWVBbGwoKVxuICB9XG5cbiAgcmV0dXJuIHByb3BzLnBhdXNlQWxsKClcbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5jb25zdCBBY3Rpb25Ccm93c2VUYWdsaW5lID0gcmVxdWlyZSgnLi9BY3Rpb25Ccm93c2VUYWdsaW5lJylcbmNvbnN0IHsgbG9jYWxJY29uIH0gPSByZXF1aXJlKCcuL2ljb25zJylcblxubW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgaXNIaWRkZW4gPSBPYmplY3Qua2V5cyhwcm9wcy5maWxlcykubGVuZ3RoID09PSAwXG5cbiAgaWYgKHByb3BzLmFjcXVpcmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDEuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgYXJndW1lbnRzWzFdKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRUYWJzXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRUYWJzLXRpdGxlXCIpXG5hYyhiZWwwLCBbXCJcXG4gICAgICAgIFwiLGFyZ3VtZW50c1swXSxcIlxcbiAgICAgICAgXCJdKVxuYWMoYmVsMSwgW1wiXFxuICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDFcbiAgICB9KEFjdGlvbkJyb3dzZVRhZ2xpbmUoe1xuICAgICAgICAgIGFjcXVpcmVyczogcHJvcHMuYWNxdWlyZXJzLFxuICAgICAgICAgIGNvbnRhaW5lcjogcHJvcHMuY29udGFpbmVyLFxuICAgICAgICAgIGhhbmRsZUlucHV0Q2hhbmdlOiBwcm9wcy5oYW5kbGVJbnB1dENoYW5nZSxcbiAgICAgICAgICBpMThuOiBwcm9wcy5pMThuXG4gICAgICAgIH0pLGlzSGlkZGVuKSlcbiAgfVxuXG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWw2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuYmVsNi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRUYWJzXCIpXG52YXIgYmVsNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJuYXZcIilcbnZhciBiZWw0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpXG5iZWw0LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJ0YWJsaXN0XCIpXG5iZWw0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZFRhYnMtbGlzdFwiKVxudmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIilcbmJlbDMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkVGFiXCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbmJlbDEuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidGFiXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMFwiKVxuYmVsMVtcIm9uY2xpY2tcIl0gPSBhcmd1bWVudHNbMV1cbmJlbDEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5RGFzaGJvYXJkVGFiLWJ0biBVcHB5RGFzaGJvYXJkLWZvY3VzXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNVwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRUYWItbmFtZVwiKVxuYWMoYmVsMCwgW2FyZ3VtZW50c1swXV0pXG5hYyhiZWwxLCBbXCJcXG4gICAgICAgICAgICBcIixhcmd1bWVudHNbMl0sXCJcXG4gICAgICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICAgIFwiXSlcbnZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG5iZWwyLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJmaWxlXCIpXG5iZWwyLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJmaWxlc1tdXCIpXG5iZWwyLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIFwidHJ1ZVwiKVxuYmVsMltcIm9uY2hhbmdlXCJdID0gYXJndW1lbnRzWzNdXG5iZWwyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZC1pbnB1dFwiKVxuYWMoYmVsMywgW1wiXFxuICAgICAgICAgIFwiLGJlbDEsXCJcXG4gICAgICAgICAgXCIsYmVsMixcIlxcbiAgICAgICAgXCJdKVxuYWMoYmVsNCwgW1wiXFxuICAgICAgICBcIixiZWwzLFwiXFxuICAgICAgICBcIixhcmd1bWVudHNbNF0sXCJcXG4gICAgICBcIl0pXG5hYyhiZWw1LCBbXCJcXG4gICAgICBcIixiZWw0LFwiXFxuICAgIFwiXSlcbmFjKGJlbDYsIFtcIlxcbiAgICBcIixiZWw1LFwiXFxuICBcIl0pXG4gICAgICByZXR1cm4gYmVsNlxuICAgIH0ocHJvcHMuaTE4bignbG9jYWxEaXNrJyksKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwcm9wcy5jb250YWluZXJ9IC5VcHB5RGFzaGJvYXJkLWlucHV0YClcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuY2xpY2soKVxuICAgICAgICAgICAgICAgICAgfSxsb2NhbEljb24oKSxwcm9wcy5oYW5kbGVJbnB1dENoYW5nZSxwcm9wcy5hY3F1aXJlcnMubWFwKCh0YXJnZXQpID0+IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxuYmVsMi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmRUYWJcIilcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidGFiXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNvbnRyb2xzXCIsIFwiVXBweURhc2hib2FyZENvbnRlbnQtcGFuZWwtLVwiICsgYXJndW1lbnRzWzFdKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIGFyZ3VtZW50c1syXSlcbmJlbDFbXCJvbmNsaWNrXCJdID0gYXJndW1lbnRzWzNdXG5iZWwxLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZFRhYi1idG5cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg1XCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweURhc2hib2FyZFRhYi1uYW1lXCIpXG5hYyhiZWwwLCBbYXJndW1lbnRzWzBdXSlcbmFjKGJlbDEsIFtcIlxcbiAgICAgICAgICAgICAgXCIsYXJndW1lbnRzWzRdLFwiXFxuICAgICAgICAgICAgICBcIixiZWwwLFwiXFxuICAgICAgICAgICAgXCJdKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgICAgICAgXCIsYmVsMSxcIlxcbiAgICAgICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMlxuICAgIH0odGFyZ2V0Lm5hbWUsdGFyZ2V0LmlkLHRhcmdldC5pc0hpZGRlbiA/ICdmYWxzZScgOiAndHJ1ZScsKCkgPT4gcHJvcHMuc2hvd1BhbmVsKHRhcmdldC5pZCksdGFyZ2V0Lmljb24pKVxuICAgICAgICB9KSkpXG59XG4iLCJjb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuY29uc3QgeyB1cGxvYWRJY29uIH0gPSByZXF1aXJlKCcuL2ljb25zJylcblxubW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcbiAgcHJvcHMgPSBwcm9wcyB8fCB7fVxuXG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGFyZ3VtZW50c1szXSlcbmJlbDEuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBhcmd1bWVudHNbNF0pXG5iZWwxW1wib25jbGlja1wiXSA9IGFyZ3VtZW50c1s1XVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlCdXR0b24tLWNpcmN1bGFyXFxuICAgICAgICAgICAgICAgICAgIFVwcHlCdXR0b24tLWJsdWVcXG4gICAgICAgICAgICAgICAgICAgVXBweURhc2hib2FyZC11cGxvYWRcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN1cFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBhcmd1bWVudHNbMF0pXG5iZWwwLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgYXJndW1lbnRzWzFdKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlEYXNoYm9hcmQtdXBsb2FkQ291bnRcIilcbmFjKGJlbDAsIFtcIlxcbiAgICAgICAgICAgICAgICAgIFwiLGFyZ3VtZW50c1syXV0pXG5hYyhiZWwxLCBbXCJcXG4gICAgICAgICAgICBcIixhcmd1bWVudHNbNl0sXCJcXG4gICAgICAgICAgICBcIixiZWwwLFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfShwcm9wcy5pMThuKCdudW1iZXJPZlNlbGVjdGVkRmlsZXMnKSxwcm9wcy5pMThuKCdudW1iZXJPZlNlbGVjdGVkRmlsZXMnKSxwcm9wcy5uZXdGaWxlQ291bnQscHJvcHMuaTE4bigndXBsb2FkQWxsTmV3RmlsZXMnKSxwcm9wcy5pMThuKCd1cGxvYWRBbGxOZXdGaWxlcycpLHByb3BzLnN0YXJ0VXBsb2FkLHVwbG9hZEljb24oKSkpXG59XG4iLCJjb25zdCB7IGljb25UZXh0LCBpY29uRmlsZSwgaWNvbkF1ZGlvLCBpY29uVmlkZW8sIGljb25QREYgfSA9IHJlcXVpcmUoJy4vaWNvbnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldEljb25CeU1pbWUgKGZpbGVUeXBlR2VuZXJhbCwgZmlsZVR5cGVTcGVjaWZpYykge1xuICBpZiAoZmlsZVR5cGVHZW5lcmFsID09PSAndGV4dCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3I6ICcjMDAwJyxcbiAgICAgIGljb246IGljb25UZXh0KClcbiAgICB9XG4gIH1cblxuICBpZiAoZmlsZVR5cGVHZW5lcmFsID09PSAnYXVkaW8nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbG9yOiAnIzFhYmM5YycsXG4gICAgICBpY29uOiBpY29uQXVkaW8oKVxuICAgIH1cbiAgfVxuXG4gIGlmIChmaWxlVHlwZUdlbmVyYWwgPT09ICd2aWRlbycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3I6ICcjMjk4MGI5JyxcbiAgICAgIGljb246IGljb25WaWRlbygpXG4gICAgfVxuICB9XG5cbiAgaWYgKGZpbGVUeXBlR2VuZXJhbCA9PT0gJ2FwcGxpY2F0aW9uJyAmJiBmaWxlVHlwZVNwZWNpZmljID09PSAncGRmJykge1xuICAgIHJldHVybiB7XG4gICAgICBjb2xvcjogJyNlNzRjM2MnLFxuICAgICAgaWNvbjogaWNvblBERigpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjb2xvcjogJyMwMDAnLFxuICAgIGljb246IGljb25GaWxlKClcbiAgfVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcblxuLy8gaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9jcmVhdGluZy1zdmctaWNvbi1zeXN0ZW0tcmVhY3QvXG5cbmZ1bmN0aW9uIGRlZmF1bHRUYWJJY29uICgpIHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMzBcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCIzMFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgMzAgMzBcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMTUgMzBjOC4yODQgMCAxNS02LjcxNiAxNS0xNSAwLTguMjg0LTYuNzE2LTE1LTE1LTE1QzYuNzE2IDAgMCA2LjcxNiAwIDE1YzAgOC4yODQgNi43MTYgMTUgMTUgMTV6bTQuMjU4LTEyLjY3NnY2Ljg0NmgtOC40MjZ2LTYuODQ2SDUuMjA0bDkuODItMTIuMzY0IDkuODIgMTIuMzY0SDE5LjI2elwiKVxuYWMoYmVsMSwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfSgpKVxufVxuXG5mdW5jdGlvbiBpY29uQ29weSAoKSB7XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIjUxXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiNTFcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDUxIDUxXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTE3LjIxIDQ1Ljc2NWE1LjM5NCA1LjM5NCAwIDAgMS03LjYyIDBsLTQuMTItNC4xMjJhNS4zOTMgNS4zOTMgMCAwIDEgMC03LjYxOGw2Ljc3NC02Ljc3NS0yLjQwNC0yLjQwNC02Ljc3NSA2Ljc3NmMtMy40MjQgMy40MjctMy40MjQgOSAwIDEyLjQyNmw0LjEyIDQuMTIzYTguNzY2IDguNzY2IDAgMCAwIDYuMjE2IDIuNTdjMi4yNSAwIDQuNS0uODU4IDYuMjE0LTIuNTdsMTMuNTUtMTMuNTUyYTguNzIgOC43MiAwIDAgMCAyLjU3NS02LjIxMyA4LjczIDguNzMgMCAwIDAtMi41NzUtNi4yMTNsLTQuMTIzLTQuMTItMi40MDQgMi40MDQgNC4xMjMgNC4xMmE1LjM1MiA1LjM1MiAwIDAgMSAxLjU4IDMuODFjMCAxLjQzOC0uNTYyIDIuNzktMS41OCAzLjgwOGwtMTMuNTUgMTMuNTV6XCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNNDQuMjU2IDIuODU4QTguNzI4IDguNzI4IDAgMCAwIDM4LjA0My4yODNoLS4wMDJhOC43MyA4LjczIDAgMCAwLTYuMjEyIDIuNTc0bC0xMy41NSAxMy41NWE4LjcyNSA4LjcyNSAwIDAgMC0yLjU3NSA2LjIxNCA4LjczIDguNzMgMCAwIDAgMi41NzQgNi4yMTZsNC4xMiA0LjEyIDIuNDA1LTIuNDAzLTQuMTItNC4xMmE1LjM1NyA1LjM1NyAwIDAgMS0xLjU4LTMuODEyYzAtMS40MzcuNTYyLTIuNzkgMS41OC0zLjgwOGwxMy41NS0xMy41NWE1LjM0OCA1LjM0OCAwIDAgMSAzLjgxLTEuNThjMS40NCAwIDIuNzkyLjU2MiAzLjgxIDEuNThsNC4xMiA0LjEyYzIuMSAyLjEgMi4xIDUuNTE4IDAgNy42MTdMMzkuMiAyMy43NzVsMi40MDQgMi40MDQgNi43NzUtNi43NzdjMy40MjYtMy40MjcgMy40MjYtOSAwLTEyLjQyNmwtNC4xMi00LjEyelwiKVxuYWMoYmVsMiwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gICAgXCIsYmVsMSxcIlxcbiAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDJcbiAgICB9KCkpXG59XG5cbmZ1bmN0aW9uIGljb25SZXN1bWUgKCkge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIyNVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjI1XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCA0NCA0NFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwb2x5Z29uXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDYsIDUuNSlcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJwb2ludHNcIiwgXCIxMyAyMS42NjY2NjY3IDEzIDExIDIxIDE2LjMzMzMzMzNcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcInBsYXlcIilcbmFjKGJlbDEsIFtcIlxcbiAgICBcIixiZWwwLFwiXFxuICBcIl0pXG4gICAgICByZXR1cm4gYmVsMVxuICAgIH0oKSlcbn1cblxuZnVuY3Rpb24gaWNvblBhdXNlICgpIHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMjVweFwiKVxuYmVsMy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjI1cHhcIilcbmJlbDMuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDQ0IDQ0XCIpXG5iZWwzLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTgsIDE3KVwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwicGF1c2VcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJyZWN0XCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBcIjBcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIFwiMFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMlwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjEwXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicnhcIiwgXCIwXCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicmVjdFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInhcIiwgXCI2XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCBcIjBcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIjJcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCIxMFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJ4XCIsIFwiMFwiKVxuYWMoYmVsMiwgW1wiXFxuICAgICAgXCIsYmVsMCxcIlxcbiAgICAgIFwiLGJlbDEsXCJcXG4gICAgXCJdKVxuYWMoYmVsMywgW1wiXFxuICAgIFwiLGJlbDIsXCJcXG4gIFwiXSlcbiAgICAgIHJldHVybiBiZWwzXG4gICAgfSgpKVxufVxuXG5mdW5jdGlvbiBpY29uRWRpdCAoKSB7XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIjI4XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiMjhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDI4IDI4XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTI1LjQzNiAyLjU2NmE3Ljk4IDcuOTggMCAwIDAtMi4wNzgtMS41MUMyMi42MzguNzAzIDIxLjkwNi41IDIxLjE5OC41YTMgMyAwIDAgMC0xLjAyMy4xNyAyLjQzNiAyLjQzNiAwIDAgMC0uODkzLjU2MkwyLjI5MiAxOC4yMTcuNSAyNy41bDkuMjgtMS43OTYgMTYuOTktMTYuOTljLjI1NS0uMjU0LjQ0NC0uNTYuNTYyLS44ODhhMyAzIDAgMCAwIC4xNy0xLjAyM2MwLS43MDgtLjIwNS0xLjQ0LS41NTUtMi4xNmE4IDggMCAwIDAtMS41MS0yLjA3N3pNOS4wMSAyNC4yNTJsLTQuMzEzLjgzNGMwLS4wMy4wMDgtLjA2LjAxMi0uMDkuMDA3LS45NDQtLjc0LTEuNzE1LTEuNjctMS43MjMtLjA0IDAtLjA3OC4wMDctLjExOC4wMWwuODMtNC4yOUwxNy43MiA1LjAyNGw1LjI2NCA1LjI2NEw5LjAxIDI0LjI1MnptMTYuODQtMTYuOTZhLjgxOC44MTggMCAwIDEtLjE5NC4zMWwtMS41NyAxLjU3LTUuMjYtNS4yNiAxLjU3LTEuNTdhLjgyLjgyIDAgMCAxIC4zMS0uMTk0IDEuNDUgMS40NSAwIDAgMSAuNDkyLS4wNzRjLjM5NyAwIC45MTcuMTI2IDEuNDY4LjM5Ny41NS4yNyAxLjEzLjY3OCAxLjY1NiAxLjIxLjUzLjUzLjk0IDEuMTEgMS4yMDggMS42NTUuMjcyLjU1LjM5NyAxLjA3LjM5MyAxLjQ2OC4wMDQuMTkzLS4wMjcuMzU4LS4wNzQuNDg4elwiKVxuYWMoYmVsMSwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfSgpKVxufVxuXG5mdW5jdGlvbiBsb2NhbEljb24gKCkge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIyN1wiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjI1XCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAyNyAyNVwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk01LjU4NiA5LjI4OGEuMzEzLjMxMyAwIDAgMCAuMjgyLjE3Nmg0Ljg0djMuOTIyYzAgMS41MTQgMS4yNSAyLjI0IDIuNzkyIDIuMjQgMS41NCAwIDIuNzktLjcyNiAyLjc5LTIuMjRWOS40NjRoNC44NGMuMTIyIDAgLjIzLS4wNjguMjg0LS4xNzZhLjMwNC4zMDQgMCAwIDAtLjA0Ni0uMzI0TDEzLjczNS4xMDZhLjMxNi4zMTYgMCAwIDAtLjQ3MiAwbC03LjYzIDguODU3YS4zMDIuMzAyIDAgMCAwLS4wNDcuMzI1elwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTI0LjMgNS4wOTNjLS4yMTgtLjc2LS41NC0xLjE4Ny0xLjIwOC0xLjE4N2gtNC44NTZsMS4wMTggMS4xOGgzLjk0OGwyLjA0MyAxMS4wMzhoLTcuMTkzdjIuNzI4SDkuMTE0di0yLjcyNWgtNy4zNmwyLjY2LTExLjA0aDMuMzNsMS4wMTgtMS4xOEgzLjkwN2MtLjY2OCAwLTEuMDYuNDYtMS4yMSAxLjE4NkwwIDE2LjQ1NnY3LjA2MkMwIDI0LjMzOC42NzYgMjUgMS41MSAyNWgyMy45OGMuODMzIDAgMS41MS0uNjYzIDEuNTEtMS40ODJ2LTcuMDYyTDI0LjMgNS4wOTN6XCIpXG5hYyhiZWwyLCBbXCJcXG4gICAgXCIsYmVsMCxcIlxcbiAgICBcIixiZWwxLFwiXFxuICBcIl0pXG4gICAgICByZXR1cm4gYmVsMlxuICAgIH0oKSlcbn1cblxuZnVuY3Rpb24gY2xvc2VJY29uICgpIHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMTRweFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjE0cHhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDE5IDE5XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTE3LjMxOCAxNy4yMzJMOS45NCA5Ljg1NCA5LjU4NiA5LjVsLS4zNTQuMzU0LTcuMzc4IDcuMzc4aC43MDdsLS42Mi0uNjJ2LjcwNkw5LjMxOCA5Ljk0bC4zNTQtLjM1NC0uMzU0LS4zNTRMMS45NCAxLjg1NHYuNzA3bC42Mi0uNjJoLS43MDZsNy4zNzggNy4zNzguMzU0LjM1NC4zNTQtLjM1NCA3LjM3OC03LjM3OGgtLjcwN2wuNjIyLjYydi0uNzA2TDkuODU0IDkuMjMybC0uMzU0LjM1NC4zNTQuMzU0IDcuMzc4IDcuMzc4LjcwOC0uNzA3LTcuMzgtNy4zNzh2LjcwOGw3LjM4LTcuMzguMzUzLS4zNTMtLjM1My0uMzUzLS42MjItLjYyMi0uMzUzLS4zNTMtLjM1NC4zNTItNy4zNzggNy4zOGguNzA4TDIuNTYgMS4yMyAyLjIwOC44OGwtLjM1My4zNTMtLjYyMi42Mi0uMzUzLjM1NS4zNTIuMzUzIDcuMzggNy4zOHYtLjcwOGwtNy4zOCA3LjM4LS4zNTMuMzUzLjM1Mi4zNTMuNjIyLjYyMi4zNTMuMzUzLjM1NC0uMzUzIDcuMzgtNy4zOGgtLjcwOGw3LjM4IDcuMzh6XCIpXG5hYyhiZWwxLCBbXCJcXG4gICAgXCIsYmVsMCxcIlxcbiAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDFcbiAgICB9KCkpXG59XG5cbmZ1bmN0aW9uIHBsdWdpbkljb24gKCkge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIxNnB4XCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiMTZweFwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgMzIgMzBcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNNi42MjA5ODk0LDExLjE0NTExNjIgQzYuNjgyMzA1MSwxMS4yNzUxNjY5IDYuODEzNzQyNDgsMTEuMzU3MjE4OCA2Ljk1NDYzODEzLDExLjM1NzIxODggTDEyLjY5MjU0ODIsMTEuMzU3MjE4OCBMMTIuNjkyNTQ4MiwxNi4wNjMwNDI3IEMxMi42OTI1NDgyLDE3Ljg4MDUwOSAxNC4xNzI2MDQ4LDE4Ljc1IDE2LjAwMDAwODMsMTguNzUgQzE3LjgyNjEwNzIsMTguNzUgMTkuMzA3NDY4NCwxNy44ODAxODQ3IDE5LjMwNzQ2ODQsMTYuMDYzMDQyNyBMMTkuMzA3NDY4NCwxMS4zNTcyMTg4IEwyNS4wNDM3NDc4LDExLjM1NzIxODggQzI1LjE4NzU3ODcsMTEuMzU3MjE4OCAyNS4zMTY0MDY5LDExLjI3NTE2NjkgMjUuMzc5MDI3MiwxMS4xNDUxMTYyIEMyNS40MzcwODE0LDExLjAxNzMzNTggMjUuNDE3MTg2NSwxMC44NjQyNTg3IDI1LjMyNTIxMjksMTAuNzU2MjYxNSBMMTYuMjc4MjEyLDAuMTI3MTMxODM3IEMxNi4yMDkzOTQ5LDAuMDQ2Mzc3MTc1MSAxNi4xMDY5ODQ2LDAgMTUuOTk5NjgyMiwwIEMxNS44OTEwNzUxLDAgMTUuNzg4NjY0OCwwLjA0NjM3NzE3NTEgMTUuNzE4MjE3LDAuMTI3MTMxODM3IEw2LjY3NjEwODMsMTAuNzU1OTM3MSBDNi41ODI1MDQwMiwxMC44NjQyNTg3IDYuNTYyOTM1MTgsMTEuMDE3MzM1OCA2LjYyMDk4OTQsMTEuMTQ1MTE2MiBMNi42MjA5ODk0LDExLjE0NTExNjIgWlwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTI4LjgwMDg3MjIsNi4xMTE0MjY0NSBDMjguNTQxNzg5MSw1LjE5ODMxNTU1IDI4LjE1ODMzMzEsNC42ODc1IDI3LjM2ODQ4NDgsNC42ODc1IEwyMS42MTI0NDU0LDQuNjg3NSBMMjIuODE5MDIzNCw2LjEwMzA3ODc0IEwyNy40OTg2NzI1LDYuMTAzMDc4NzQgTDI5LjkxOTU4MTcsMTkuMzQ4NjQ0OSBMMjEuMzk0Mzg5MSwxOS4zNTAyNTAyIEwyMS4zOTQzODkxLDIyLjYyMjU1MiBMMTAuODAyMzQ2MSwyMi42MjI1NTIgTDEwLjgwMjM0NjEsMTkuMzUyNDk3NyBMMi4wNzgxNTcwMiwxOS4zNTM0NjA5IEw1LjIyOTc5Njk5LDYuMTAzMDc4NzQgTDkuMTc4NzE1MjksNi4xMDMwNzg3NCBMMTAuMzg0MDAxMSw0LjY4NzUgTDQuNjMwODY5MSw0LjY4NzUgQzMuODM5NDA1NTksNC42ODc1IDMuMzc0MjE4ODgsNS4yMzkwOTA5IDMuMTk4MTU4NjQsNi4xMTE0MjY0NSBMMCwxOS43NDcwODc0IEwwLDI4LjIyMTI5NTkgQzAsMjkuMjA0Mzk5MiAwLjgwMTQ3NzkzNywzMCAxLjc4ODcwNzUxLDMwIEwzMC4yMDk2NzczLDMwIEMzMS4xOTgxOTksMzAgMzIsMjkuMjA0Mzk5MiAzMiwyOC4yMjEyOTU5IEwzMiwxOS43NDcwODc0IEwyOC44MDA4NzIyLDYuMTExNDI2NDUgTDI4LjgwMDg3MjIsNi4xMTE0MjY0NSBaXCIpXG5hYyhiZWwyLCBbXCJcXG4gICAgICBcIixiZWwwLFwiXFxuICAgICAgXCIsYmVsMSxcIlxcbiAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMlxuICAgIH0oKSlcbn1cblxuZnVuY3Rpb24gY2hlY2tJY29uICgpIHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMTNweFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjlweFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgMTMgOVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb24gVXBweUljb24tY2hlY2tcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwb2x5Z29uXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicG9pbnRzXCIsIFwiNSA3LjI5MyAxLjM1NCAzLjY0NyAwLjY0NiA0LjM1NCA1IDguNzA3IDEyLjM1NCAxLjM1NCAxMS42NDYgMC42NDdcIilcbmFjKGJlbDEsIFtcIlxcbiAgICBcIixiZWwwXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfSgpKVxufVxuXG5mdW5jdGlvbiBpY29uQXVkaW8gKCkge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCA1NSA1NVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk01Mi42Ni4yNWMtLjIxNi0uMTktLjUtLjI3Ni0uNzktLjI0MmwtMzEgNC4wMWExIDEgMCAwIDAtLjg3Ljk5MlY0MC42MjJDMTguMTc0IDM4LjQyOCAxNS4yNzMgMzcgMTIgMzdjLTUuNTE0IDAtMTAgNC4wMzctMTAgOXM0LjQ4NiA5IDEwIDkgMTAtNC4wMzcgMTAtOWMwLS4yMzItLjAyLS40Ni0uMDQtLjY4Ny4wMTQtLjA2NS4wNC0uMTI0LjA0LS4xOTJWMTYuMTJsMjktMy43NTN2MTguMjU3QzQ5LjE3NCAyOC40MjggNDYuMjczIDI3IDQzIDI3Yy01LjUxNCAwLTEwIDQuMDM3LTEwIDlzNC40ODYgOSAxMCA5YzUuNDY0IDAgOS45MTMtMy45NjYgOS45OTMtOC44NjcgMC0uMDEzLjAwNy0uMDI0LjAwNy0uMDM3VjFhLjk5OC45OTggMCAwIDAtLjM0LS43NXpNMTIgNTNjLTQuNDEgMC04LTMuMTQtOC03czMuNTktNyA4LTcgOCAzLjE0IDggNy0zLjU5IDctOCA3em0zMS0xMGMtNC40MSAwLTgtMy4xNC04LTdzMy41OS03IDgtNyA4IDMuMTQgOCA3LTMuNTkgNy04IDd6TTIyIDE0LjFWNS44OWwyOS0zLjc1M3Y4LjIxbC0yOSAzLjc1NHpcIilcbmFjKGJlbDEsIFtcIlxcbiAgICBcIixiZWwwLFwiXFxuICBcIl0pXG4gICAgICByZXR1cm4gYmVsMVxuICAgIH0oKSlcbn1cblxuZnVuY3Rpb24gaWNvblZpZGVvICgpIHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgNTggNThcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMzYuNTM3IDI4LjE1NmwtMTEtN2ExLjAwNSAxLjAwNSAwIDAgMC0xLjAyLS4wMzNDMjQuMiAyMS4zIDI0IDIxLjYzNSAyNCAyMnYxNGExIDEgMCAwIDAgMS41MzcuODQ0bDExLTdhMS4wMDIgMS4wMDIgMCAwIDAgMC0xLjY4OHpNMjYgMzQuMThWMjMuODJMMzQuMTM3IDI5IDI2IDM0LjE4elwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTU3IDZIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoNTZhMSAxIDAgMCAwIDEtMVY3YTEgMSAwIDAgMC0xLTF6TTEwIDI4SDJ2LTloOHY5em0tOCAyaDh2OUgydi05em0xMCAxMFY4aDM0djQySDEyVjQwem00NC0xMmgtOHYtOWg4djl6bS04IDJoOHY5aC04di05em04LTIydjloLThWOGg4ek0yIDhoOHY5SDJWOHptMCA0MnYtOWg4djlIMnptNTQgMGgtOHYtOWg4djl6XCIpXG5hYyhiZWwyLCBbXCJcXG4gICAgXCIsYmVsMCxiZWwxLFwiXFxuICBcIl0pXG4gICAgICByZXR1cm4gYmVsMlxuICAgIH0oKSlcbn1cblxuZnVuY3Rpb24gaWNvblBERiAoKSB7XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDM0MiAzMzVcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMzI5LjMzNyAyMjcuODRjLTIuMSAxLjMtOC4xIDIuMS0xMS45IDIuMS0xMi40IDAtMjcuNi01LjctNDkuMS0xNC45IDguMy0uNiAxNS44LS45IDIyLjYtLjkgMTIuNCAwIDE2IDAgMjguMiAzLjEgMTIuMSAzIDEyLjIgOS4zIDEwLjIgMTAuNnptLTIxNS4xIDEuOWM0LjgtOC40IDkuNy0xNy4zIDE0LjctMjYuOCAxMi4yLTIzLjEgMjAtNDEuMyAyNS43LTU2LjIgMTEuNSAyMC45IDI1LjggMzguNiA0Mi41IDUyLjggMi4xIDEuOCA0LjMgMy41IDYuNyA1LjMtMzQuMSA2LjgtNjMuNiAxNS04OS42IDI0Ljl6bTM5LjgtMjE4LjljNi44IDAgMTAuNyAxNy4wNiAxMSAzMy4xNi4zIDE2LTMuNCAyNy4yLTguMSAzNS42LTMuOS0xMi40LTUuNy0zMS44LTUuNy00NC41IDAgMC0uMy0yNC4yNiAyLjgtMjQuMjZ6bS0xMzMuNCAzMDcuMmMzLjktMTAuNSAxOS4xLTMxLjMgNDEuNi00OS44IDEuNC0xLjEgNC45LTQuNCA4LjEtNy40LTIzLjUgMzcuNi0zOS4zIDUyLjUtNDkuNyA1Ny4yem0zMTUuMi0xMTIuM2MtNi44LTYuNy0yMi0xMC4yLTQ1LTEwLjUtMTUuNi0uMi0zNC4zIDEuMi01NC4xIDMuOS04LjgtNS4xLTE3LjktMTAuNi0yNS4xLTE3LjMtMTkuMi0xOC0zNS4yLTQyLjktNDUuMi03MC4zLjYtMi42IDEuMi00LjggMS43LTcuMSAwIDAgMTAuOC02MS41IDcuOS04Mi4zLS40LTIuOS0uNi0zLjctMS40LTUuOWwtLjktMi41Yy0yLjktNi43Ni04LjctMTMuOTYtMTcuOC0xMy41N2wtNS4zLS4xN2gtLjFjLTEwLjEgMC0xOC40IDUuMTctMjAuNSAxMi44NC02LjYgMjQuMy4yIDYwLjUgMTIuNSAxMDcuNGwtMy4yIDcuN2MtOC44IDIxLjQtMTkuOCA0My0yOS41IDYybC0xLjMgMi41Yy0xMC4yIDIwLTE5LjUgMzctMjcuOSA1MS40bC04LjcgNC42Yy0uNi40LTE1LjUgOC4yLTE5IDEwLjMtMjkuNiAxNy43LTQ5LjI4IDM3LjgtNTIuNTQgNTMuOC0xLjA0IDUtLjI2IDExLjUgNS4wMSAxNC42bDguNCA0LjJjMy42MyAxLjggNy41MyAyLjcgMTEuNDMgMi43IDIxLjEgMCA0NS42LTI2LjIgNzkuMy04NS4xIDM5LTEyLjcgODMuNC0yMy4zIDEyMi4zLTI5LjEgMjkuNiAxNi43IDY2IDI4LjMgODkgMjguMyA0LjEgMCA3LjYtLjQgMTAuNS0xLjIgNC40LTEuMSA4LjEtMy42IDEwLjQtNy4xIDQuNC02LjcgNS40LTE1LjkgNC4xLTI1LjQtLjMtMi44LTIuNi02LjMtNS04Ljd6XCIpXG5hYyhiZWwxLCBbXCJcXG4gICAgXCIsYmVsMCxcIlxcbiAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDFcbiAgICB9KCkpXG59XG5cbmZ1bmN0aW9uIGljb25GaWxlICgpIHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiNDRcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCI1OFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgNDQgNThcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMjcuNDM3LjUxN2ExIDEgMCAwIDAtLjA5NC4wM0g0LjI1QzIuMDM3LjU0OC4yMTcgMi4zNjguMjE3IDQuNTh2NDguNDA1YzAgMi4yMTIgMS44MiA0LjAzIDQuMDMgNC4wM0gzOS4wM2MyLjIxIDAgNC4wMy0xLjgxOCA0LjAzLTQuMDNWMTUuNjFhMSAxIDAgMCAwLS4wMy0uMjggMSAxIDAgMCAwIDAtLjA5MyAxIDEgMCAwIDAtLjAzLS4wMzIgMSAxIDAgMCAwIDAtLjAzIDEgMSAwIDAgMC0uMDMyLS4wNjMgMSAxIDAgMCAwLS4wMy0uMDYzIDEgMSAwIDAgMC0uMDMyIDAgMSAxIDAgMCAwLS4wMy0uMDYzIDEgMSAwIDAgMC0uMDMyLS4wMyAxIDEgMCAwIDAtLjAzLS4wNjMgMSAxIDAgMCAwLS4wNjMtLjA2MmwtMTQuNTkzLTE0YTEgMSAwIDAgMC0uMDYyLS4wNjJBMSAxIDAgMCAwIDI4IC43MDhhMSAxIDAgMCAwLS4zNzQtLjE1NyAxIDEgMCAwIDAtLjE1NiAwIDEgMSAwIDAgMC0uMDMtLjAzbC0uMDAzLS4wMDN6TTQuMjUgMi41NDdoMjIuMjE4djkuOTdjMCAyLjIxIDEuODIgNC4wMyA0LjAzIDQuMDNoMTAuNTY0djM2LjQzOGEyLjAyIDIuMDIgMCAwIDEtMi4wMzIgMi4wMzJINC4yNWMtMS4xMyAwLTIuMDMyLS45LTIuMDMyLTIuMDMyVjQuNThjMC0xLjEzLjkwMi0yLjAzMiAyLjAzLTIuMDMyem0yNC4yMTggMS4zNDVsMTAuMzc1IDkuOTM3Ljc1LjcxOEgzMC41Yy0xLjEzIDAtMi4wMzItLjktMi4wMzItMi4wM1YzLjg5elwiKVxuYWMoYmVsMSwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfSgpKVxufVxuXG5mdW5jdGlvbiBpY29uVGV4dCAoKSB7XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDY0IDY0XCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTggNjRoNDhWMEgyMi41ODZMOCAxNC41ODZWNjR6bTQ2LTJIMTBWMTZoMTRWMmgzMHY2MHpNMTEuNDE0IDE0TDIyIDMuNDE0VjE0SDExLjQxNHpcIilcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0zMiAxM2gxNHYySDMyek0xOCAyM2gyOHYySDE4ek0xOCAzM2gyOHYySDE4ek0xOCA0M2gyOHYySDE4ek0xOCA1M2gyOHYySDE4elwiKVxuYWMoYmVsMiwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gICAgXCIsYmVsMSxcIlxcbiAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDJcbiAgICB9KCkpXG59XG5cbmZ1bmN0aW9uIHVwbG9hZEljb24gKCkge1xuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIzN1wiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjMzXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAzNyAzM1wiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yOS4xMDcgMjQuNWM0LjA3IDAgNy4zOTMtMy4zNTUgNy4zOTMtNy40NDIgMC0zLjk5NC0zLjEwNS03LjMwNy03LjAxMi03LjUwMmwuNDY4LjQxNUMyOS4wMiA0LjUyIDI0LjM0LjUgMTguODg2LjVjLTQuMzQ4IDAtOC4yNyAyLjUyMi0xMC4xMzggNi41MDZsLjQ0Ni0uMjg4QzQuMzk0IDYuNzgyLjUgMTAuNzU4LjUgMTUuNjA4YzAgNC45MjQgMy45MDYgOC44OTIgOC43NiA4Ljg5Mmg0Ljg3MmMuNjM1IDAgMS4wOTUtLjQ2NyAxLjA5NS0xLjEwNCAwLS42MzYtLjQ2LTEuMTAzLTEuMDk1LTEuMTAzSDkuMjZjLTMuNjQ0IDAtNi42My0zLjAzNS02LjYzLTYuNzQ0IDAtMy43MSAyLjkyNi02LjY4NSA2LjU3LTYuNjg1aC45NjRsLjE0LS4yOC4xNzctLjM2MmMxLjQ3Ny0zLjQgNC43NDQtNS41NzYgOC4zNDctNS41NzYgNC41OCAwIDguNDUgMy40NTIgOS4wMSA4LjA3MmwuMDYuNTM2LjA1LjQ0NmgxLjEwMWMyLjg3IDAgNS4yMDQgMi4zNyA1LjIwNCA1LjI5NXMtMi4zMzMgNS4yOTYtNS4yMDQgNS4yOTZoLTYuMDYyYy0uNjM0IDAtMS4wOTQuNDY3LTEuMDk0IDEuMTAzIDAgLjYzNy40NiAxLjEwNCAxLjA5NCAxLjEwNGg2LjEyelwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTIzLjE5NiAxOC45MmwtNC44MjgtNS4yNTgtLjM2Ni0uNC0uMzY4LjM5OC00LjgyOCA1LjE5NmExLjEzIDEuMTMgMCAwIDAgMCAxLjU0NmMuNDI4LjQ2IDEuMTEuNDYgMS41MzcgMGwzLjQ1LTMuNzEtLjg2OC0uMzR2MTUuMDNjMCAuNjQuNDQ1IDEuMTE4IDEuMDc1IDEuMTE4LjYzIDAgMS4wNzUtLjQ4IDEuMDc1LTEuMTJWMTYuMzVsLS44NjcuMzQgMy40NSAzLjcxMmExIDEgMCAwIDAgLjc2Ny4zNDUgMSAxIDAgMCAwIC43Ny0uMzQ1Yy40MTYtLjMzLjQxNi0xLjAzNiAwLTEuNDg1di4wMDN6XCIpXG5hYyhiZWwyLCBbXCJcXG4gICAgXCIsYmVsMCxcIlxcbiAgICBcIixiZWwxLFwiXFxuICBcIl0pXG4gICAgICByZXR1cm4gYmVsMlxuICAgIH0oKSlcbn1cblxuZnVuY3Rpb24gZGFzaGJvYXJkQmdJY29uICgpIHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiNDhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCI2OVwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgNDggNjlcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNLjUgMS41aDV6TTEwLjUgMS41aDV6TTIwLjUgMS41aDV6TTMwLjUwNCAxLjVoNXpNNDUuNSAxMS41djV6TTQ1LjUgMjEuNXY1ek00NS41IDMxLjV2NXpNNDUuNSA0MS41MDJ2NXpNNDUuNSA1MS41MDJ2NXpNNDUuNSA2MS41djV6TTQ1LjUgNjYuNTAyaC00Ljk5OHpNMzUuNTAzIDY2LjUwMmgtNXpNMjUuNSA2Ni41MDJoLTV6TTE1LjUgNjYuNTAyaC01ek01LjUgNjYuNTAyaC01ek0uNSA2Ni41MDJ2LTV6TS41IDU2LjUwMnYtNXpNLjUgNDYuNTAzVjQxLjV6TS41IDM2LjV2LTV6TS41IDI2LjV2LTV6TS41IDE2LjV2LTV6TS41IDYuNVYxLjQ5OHpNNDQuODA3IDExSDM2VjIuMTk1elwiKVxuYWMoYmVsMSwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfSgpKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVmYXVsdFRhYkljb24sXG4gIGljb25Db3B5LFxuICBpY29uUmVzdW1lLFxuICBpY29uUGF1c2UsXG4gIGljb25FZGl0LFxuICBsb2NhbEljb24sXG4gIGNsb3NlSWNvbixcbiAgcGx1Z2luSWNvbixcbiAgY2hlY2tJY29uLFxuICBpY29uQXVkaW8sXG4gIGljb25WaWRlbyxcbiAgaWNvblBERixcbiAgaWNvbkZpbGUsXG4gIGljb25UZXh0LFxuICB1cGxvYWRJY29uLFxuICBkYXNoYm9hcmRCZ0ljb25cbn1cbiIsImNvbnN0IFBsdWdpbiA9IHJlcXVpcmUoJy4uL1BsdWdpbicpXG5jb25zdCBUcmFuc2xhdG9yID0gcmVxdWlyZSgnLi4vLi4vY29yZS9UcmFuc2xhdG9yJylcbmNvbnN0IGRyYWdEcm9wID0gcmVxdWlyZSgnZHJhZy1kcm9wJylcbmNvbnN0IERhc2hib2FyZCA9IHJlcXVpcmUoJy4vRGFzaGJvYXJkJylcbmNvbnN0IHsgZ2V0U3BlZWQgfSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvVXRpbHMnKVxuY29uc3QgeyBnZXRFVEEgfSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvVXRpbHMnKVxuY29uc3QgeyBwcmV0dHlFVEEgfSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvVXRpbHMnKVxuY29uc3QgcHJldHR5Qnl0ZXMgPSByZXF1aXJlKCdwcmV0dHktYnl0ZXMnKVxuY29uc3QgeyBkZWZhdWx0VGFiSWNvbiB9ID0gcmVxdWlyZSgnLi9pY29ucycpXG5cbi8qKlxuICogTW9kYWwgRGlhbG9nICYgRGFzaGJvYXJkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgRGFzaGJvYXJkVUkgZXh0ZW5kcyBQbHVnaW4ge1xuICBjb25zdHJ1Y3RvciAoY29yZSwgb3B0cykge1xuICAgIHN1cGVyKGNvcmUsIG9wdHMpXG4gICAgdGhpcy5pZCA9ICdEYXNoYm9hcmRVSSdcbiAgICB0aGlzLnRpdGxlID0gJ0Rhc2hib2FyZCBVSSdcbiAgICB0aGlzLnR5cGUgPSAnb3JjaGVzdHJhdG9yJ1xuXG4gICAgY29uc3QgZGVmYXVsdExvY2FsZSA9IHtcbiAgICAgIHN0cmluZ3M6IHtcbiAgICAgICAgc2VsZWN0VG9VcGxvYWQ6ICdTZWxlY3QgZmlsZXMgdG8gdXBsb2FkJyxcbiAgICAgICAgY2xvc2VNb2RhbDogJ0Nsb3NlIE1vZGFsJyxcbiAgICAgICAgdXBsb2FkOiAnVXBsb2FkJyxcbiAgICAgICAgaW1wb3J0RnJvbTogJ0ltcG9ydCBmaWxlcyBmcm9tJyxcbiAgICAgICAgZGFzaGJvYXJkV2luZG93VGl0bGU6ICdVcHB5IERhc2hib2FyZCBXaW5kb3cgKFByZXNzIGVzY2FwZSB0byBjbG9zZSknLFxuICAgICAgICBkYXNoYm9hcmRUaXRsZTogJ1VwcHkgRGFzaGJvYXJkJyxcbiAgICAgICAgY29weUxpbmtUb0NsaXBib2FyZFN1Y2Nlc3M6ICdMaW5rIGNvcGllZCB0byBjbGlwYm9hcmQuJyxcbiAgICAgICAgY29weUxpbmtUb0NsaXBib2FyZEZhbGxiYWNrOiAnQ29weSB0aGUgVVJMIGJlbG93JyxcbiAgICAgICAgZG9uZTogJ0RvbmUnLFxuICAgICAgICBsb2NhbERpc2s6ICdMb2NhbCBEaXNrJyxcbiAgICAgICAgZHJvcFBhc3RlSW1wb3J0OiAnRHJvcCBmaWxlcyBoZXJlLCBwYXN0ZSwgaW1wb3J0IGZyb20gb25lIG9mIHRoZSBsb2NhdGlvbnMgYWJvdmUgb3InLFxuICAgICAgICBkcm9wUGFzdGU6ICdEcm9wIGZpbGVzIGhlcmUsIHBhc3RlIG9yJyxcbiAgICAgICAgYnJvd3NlOiAnYnJvd3NlJyxcbiAgICAgICAgZmlsZVByb2dyZXNzOiAnRmlsZSBwcm9ncmVzczogdXBsb2FkIHNwZWVkIGFuZCBFVEEnLFxuICAgICAgICBudW1iZXJPZlNlbGVjdGVkRmlsZXM6ICdOdW1iZXIgb2Ygc2VsZWN0ZWQgZmlsZXMnLFxuICAgICAgICB1cGxvYWRBbGxOZXdGaWxlczogJ1VwbG9hZCBhbGwgbmV3IGZpbGVzJ1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIHRhcmdldDogJ2JvZHknLFxuICAgICAgaW5saW5lOiBmYWxzZSxcbiAgICAgIHdpZHRoOiA3NTAsXG4gICAgICBoZWlnaHQ6IDU1MCxcbiAgICAgIHNlbWlUcmFuc3BhcmVudDogZmFsc2UsXG4gICAgICBkZWZhdWx0VGFiSWNvbjogZGVmYXVsdFRhYkljb24oKSxcbiAgICAgIHNob3dQcm9ncmVzc0RldGFpbHM6IHRydWUsXG4gICAgICBsb2NhbGU6IGRlZmF1bHRMb2NhbGVcbiAgICB9XG5cbiAgICAvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgb25lcyBzZXQgYnkgdXNlclxuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRzKVxuXG4gICAgdGhpcy5sb2NhbGUgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TG9jYWxlLCB0aGlzLm9wdHMubG9jYWxlKVxuICAgIHRoaXMubG9jYWxlLnN0cmluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TG9jYWxlLnN0cmluZ3MsIHRoaXMub3B0cy5sb2NhbGUuc3RyaW5ncylcblxuICAgIHRoaXMudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKHtsb2NhbGU6IHRoaXMubG9jYWxlfSlcbiAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy50cmFuc2xhdG9yLnRyYW5zbGF0ZS5iaW5kKHRoaXMudHJhbnNsYXRvcilcblxuICAgIHRoaXMuaGlkZU1vZGFsID0gdGhpcy5oaWRlTW9kYWwuYmluZCh0aGlzKVxuICAgIHRoaXMuc2hvd01vZGFsID0gdGhpcy5zaG93TW9kYWwuYmluZCh0aGlzKVxuXG4gICAgdGhpcy5hZGRUYXJnZXQgPSB0aGlzLmFkZFRhcmdldC5iaW5kKHRoaXMpXG4gICAgdGhpcy5hY3Rpb25zID0gdGhpcy5hY3Rpb25zLmJpbmQodGhpcylcbiAgICB0aGlzLmhpZGVBbGxQYW5lbHMgPSB0aGlzLmhpZGVBbGxQYW5lbHMuYmluZCh0aGlzKVxuICAgIHRoaXMuc2hvd1BhbmVsID0gdGhpcy5zaG93UGFuZWwuYmluZCh0aGlzKVxuICAgIHRoaXMuaW5pdEV2ZW50cyA9IHRoaXMuaW5pdEV2ZW50cy5iaW5kKHRoaXMpXG4gICAgdGhpcy5oYW5kbGVEcm9wID0gdGhpcy5oYW5kbGVEcm9wLmJpbmQodGhpcylcbiAgICB0aGlzLnBhdXNlQWxsID0gdGhpcy5wYXVzZUFsbC5iaW5kKHRoaXMpXG4gICAgdGhpcy5yZXN1bWVBbGwgPSB0aGlzLnJlc3VtZUFsbC5iaW5kKHRoaXMpXG4gICAgdGhpcy5jYW5jZWxBbGwgPSB0aGlzLmNhbmNlbEFsbC5iaW5kKHRoaXMpXG4gICAgdGhpcy51cGRhdGVEYXNoYm9hcmRFbFdpZHRoID0gdGhpcy51cGRhdGVEYXNoYm9hcmRFbFdpZHRoLmJpbmQodGhpcylcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcylcbiAgICB0aGlzLmluc3RhbGwgPSB0aGlzLmluc3RhbGwuYmluZCh0aGlzKVxuICB9XG5cbiAgYWRkVGFyZ2V0IChwbHVnaW4pIHtcbiAgICBjb25zdCBjYWxsZXJQbHVnaW5JZCA9IHBsdWdpbi5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgY29uc3QgY2FsbGVyUGx1Z2luTmFtZSA9IHBsdWdpbi50aXRsZSB8fCBjYWxsZXJQbHVnaW5JZFxuICAgIGNvbnN0IGNhbGxlclBsdWdpbkljb24gPSBwbHVnaW4uaWNvbiB8fCB0aGlzLm9wdHMuZGVmYXVsdFRhYkljb25cbiAgICBjb25zdCBjYWxsZXJQbHVnaW5UeXBlID0gcGx1Z2luLnR5cGVcblxuICAgIGlmIChjYWxsZXJQbHVnaW5UeXBlICE9PSAnYWNxdWlyZXInICYmXG4gICAgICAgIGNhbGxlclBsdWdpblR5cGUgIT09ICdwcm9ncmVzc2luZGljYXRvcicgJiZcbiAgICAgICAgY2FsbGVyUGx1Z2luVHlwZSAhPT0gJ3ByZXNlbnRlcicpIHtcbiAgICAgIGxldCBtc2cgPSAnRXJyb3I6IE1vZGFsIGNhbiBvbmx5IGJlIHVzZWQgYnkgcGx1Z2lucyBvZiB0eXBlczogYWNxdWlyZXIsIHByb2dyZXNzaW5kaWNhdG9yLCBwcmVzZW50ZXInXG4gICAgICB0aGlzLmNvcmUubG9nKG1zZylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldCA9IHtcbiAgICAgIGlkOiBjYWxsZXJQbHVnaW5JZCxcbiAgICAgIG5hbWU6IGNhbGxlclBsdWdpbk5hbWUsXG4gICAgICBpY29uOiBjYWxsZXJQbHVnaW5JY29uLFxuICAgICAgdHlwZTogY2FsbGVyUGx1Z2luVHlwZSxcbiAgICAgIGZvY3VzOiBwbHVnaW4uZm9jdXMsXG4gICAgICByZW5kZXI6IHBsdWdpbi5yZW5kZXIsXG4gICAgICBpc0hpZGRlbjogdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5jb3JlLmdldFN0YXRlKCkubW9kYWxcbiAgICBjb25zdCBuZXdUYXJnZXRzID0gbW9kYWwudGFyZ2V0cy5zbGljZSgpXG4gICAgbmV3VGFyZ2V0cy5wdXNoKHRhcmdldClcblxuICAgIHRoaXMuY29yZS5zZXRTdGF0ZSh7XG4gICAgICBtb2RhbDogT2JqZWN0LmFzc2lnbih7fSwgbW9kYWwsIHtcbiAgICAgICAgdGFyZ2V0czogbmV3VGFyZ2V0c1xuICAgICAgfSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIHRoaXMub3B0cy50YXJnZXRcbiAgfVxuXG4gIGhpZGVBbGxQYW5lbHMgKCkge1xuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5jb3JlLmdldFN0YXRlKCkubW9kYWxcblxuICAgIHRoaXMuY29yZS5zZXRTdGF0ZSh7bW9kYWw6IE9iamVjdC5hc3NpZ24oe30sIG1vZGFsLCB7XG4gICAgICBhY3RpdmVQYW5lbDogZmFsc2VcbiAgICB9KX0pXG4gIH1cblxuICBzaG93UGFuZWwgKGlkKSB7XG4gICAgY29uc3QgbW9kYWwgPSB0aGlzLmNvcmUuZ2V0U3RhdGUoKS5tb2RhbFxuXG4gICAgY29uc3QgYWN0aXZlUGFuZWwgPSBtb2RhbC50YXJnZXRzLmZpbHRlcigodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4gdGFyZ2V0LnR5cGUgPT09ICdhY3F1aXJlcicgJiYgdGFyZ2V0LmlkID09PSBpZFxuICAgIH0pWzBdXG5cbiAgICB0aGlzLmNvcmUuc2V0U3RhdGUoe21vZGFsOiBPYmplY3QuYXNzaWduKHt9LCBtb2RhbCwge1xuICAgICAgYWN0aXZlUGFuZWw6IGFjdGl2ZVBhbmVsXG4gICAgfSl9KVxuICB9XG5cbiAgaGlkZU1vZGFsICgpIHtcbiAgICBjb25zdCBtb2RhbCA9IHRoaXMuY29yZS5nZXRTdGF0ZSgpLm1vZGFsXG5cbiAgICB0aGlzLmNvcmUuc2V0U3RhdGUoe1xuICAgICAgbW9kYWw6IE9iamVjdC5hc3NpZ24oe30sIG1vZGFsLCB7XG4gICAgICAgIGlzSGlkZGVuOiB0cnVlXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLVVwcHlEYXNoYm9hcmQtb3BlbicpXG4gIH1cblxuICBzaG93TW9kYWwgKCkge1xuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5jb3JlLmdldFN0YXRlKCkubW9kYWxcblxuICAgIHRoaXMuY29yZS5zZXRTdGF0ZSh7XG4gICAgICBtb2RhbDogT2JqZWN0LmFzc2lnbih7fSwgbW9kYWwsIHtcbiAgICAgICAgaXNIaWRkZW46IGZhbHNlXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyBhZGQgY2xhc3MgdG8gYm9keSB0aGF0IHNldHMgcG9zaXRpb24gZml4ZWRcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2lzLVVwcHlEYXNoYm9hcmQtb3BlbicpXG4gICAgLy8gZm9jdXMgb24gbW9kYWwgaW5uZXIgYmxvY2tcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuVXBweURhc2hib2FyZC1pbm5lcicpLmZvY3VzKClcblxuICAgIHRoaXMudXBkYXRlRGFzaGJvYXJkRWxXaWR0aCgpXG4gIH1cblxuICBpbml0RXZlbnRzICgpIHtcbiAgICAvLyBjb25zdCBkYXNoYm9hcmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5vcHRzLnRhcmdldH0gLlVwcHlEYXNoYm9hcmRgKVxuXG4gICAgLy8gTW9kYWwgb3BlbiBidXR0b25cbiAgICBjb25zdCBzaG93TW9kYWxUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdHMudHJpZ2dlcilcbiAgICBpZiAoIXRoaXMub3B0cy5pbmxpbmUgJiYgc2hvd01vZGFsVHJpZ2dlcikge1xuICAgICAgc2hvd01vZGFsVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd01vZGFsKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvcmUubG9nKCdNb2RhbCB0cmlnZ2VyIHdhc27igJl0IGZvdW5kJylcbiAgICB9XG5cbiAgICAvLyBDbG9zZSB0aGUgTW9kYWwgb24gZXNjIGtleSBwcmVzc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuICAgICAgICB0aGlzLmhpZGVNb2RhbCgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIERyYWcgRHJvcFxuICAgIGRyYWdEcm9wKHRoaXMuZWwsIChmaWxlcykgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVEcm9wKGZpbGVzKVxuICAgIH0pXG4gIH1cblxuICBhY3Rpb25zICgpIHtcbiAgICBjb25zdCBidXMgPSB0aGlzLmNvcmUuYnVzXG5cbiAgICBidXMub24oJ2NvcmU6ZmlsZS1hZGQnLCAoKSA9PiB7XG4gICAgICB0aGlzLmhpZGVBbGxQYW5lbHMoKVxuICAgIH0pXG5cbiAgICBidXMub24oJ2Rhc2hib2FyZDpmaWxlLWNhcmQnLCAoZmlsZUlkKSA9PiB7XG4gICAgICBjb25zdCBtb2RhbCA9IHRoaXMuY29yZS5nZXRTdGF0ZSgpLm1vZGFsXG5cbiAgICAgIHRoaXMuY29yZS5zZXRTdGF0ZSh7XG4gICAgICAgIG1vZGFsOiBPYmplY3QuYXNzaWduKHt9LCBtb2RhbCwge1xuICAgICAgICAgIGZpbGVDYXJkRm9yOiBmaWxlSWQgfHwgZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoZXYpID0+IHRoaXMudXBkYXRlRGFzaGJvYXJkRWxXaWR0aCgpKVxuXG4gICAgLy8gYnVzLm9uKCdjb3JlOnN1Y2Nlc3MnLCAodXBsb2FkZWRDb3VudCkgPT4ge1xuICAgIC8vICAgYnVzLmVtaXQoXG4gICAgLy8gICAgICdpbmZvcm1lcicsXG4gICAgLy8gICAgIGAke3RoaXMuY29yZS5pMThuKCdmaWxlcycsIHsnc21hcnRfY291bnQnOiB1cGxvYWRlZENvdW50fSl9IHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCwgU2lyIWAsXG4gICAgLy8gICAgICdpbmZvJyxcbiAgICAvLyAgICAgNjAwMFxuICAgIC8vICAgKVxuICAgIC8vIH0pXG4gIH1cblxuICB1cGRhdGVEYXNoYm9hcmRFbFdpZHRoICgpIHtcbiAgICBjb25zdCBkYXNoYm9hcmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5VcHB5RGFzaGJvYXJkLWlubmVyJylcblxuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5jb3JlLmdldFN0YXRlKCkubW9kYWxcbiAgICB0aGlzLmNvcmUuc2V0U3RhdGUoe1xuICAgICAgbW9kYWw6IE9iamVjdC5hc3NpZ24oe30sIG1vZGFsLCB7XG4gICAgICAgIGNvbnRhaW5lcldpZHRoOiBkYXNoYm9hcmRFbC5vZmZzZXRXaWR0aFxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRHJvcCAoZmlsZXMpIHtcbiAgICB0aGlzLmNvcmUubG9nKCdBbGwgcmlnaHQsIHNvbWVvbmUgZHJvcHBlZCBzb21ldGhpbmcuLi4nKVxuXG4gICAgZmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgdGhpcy5jb3JlLmJ1cy5lbWl0KCdjb3JlOmZpbGUtYWRkJywge1xuICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgdHlwZTogZmlsZS50eXBlLFxuICAgICAgICBkYXRhOiBmaWxlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjYW5jZWxBbGwgKCkge1xuICAgIHRoaXMuY29yZS5idXMuZW1pdCgnY29yZTpjYW5jZWwtYWxsJylcbiAgfVxuXG4gIHBhdXNlQWxsICgpIHtcbiAgICB0aGlzLmNvcmUuYnVzLmVtaXQoJ2NvcmU6cGF1c2UtYWxsJylcbiAgfVxuXG4gIHJlc3VtZUFsbCAoKSB7XG4gICAgdGhpcy5jb3JlLmJ1cy5lbWl0KCdjb3JlOnJlc3VtZS1hbGwnKVxuICB9XG5cbiAgZ2V0VG90YWxTcGVlZCAoZmlsZXMpIHtcbiAgICBsZXQgdG90YWxTcGVlZCA9IDBcbiAgICBmaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICB0b3RhbFNwZWVkID0gdG90YWxTcGVlZCArIGdldFNwZWVkKGZpbGUucHJvZ3Jlc3MpXG4gICAgfSlcbiAgICByZXR1cm4gdG90YWxTcGVlZFxuICB9XG5cbiAgZ2V0VG90YWxFVEEgKGZpbGVzKSB7XG4gICAgbGV0IHRvdGFsU2Vjb25kcyA9IDBcblxuICAgIGZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgIHRvdGFsU2Vjb25kcyA9IHRvdGFsU2Vjb25kcyArIGdldEVUQShmaWxlLnByb2dyZXNzKVxuICAgIH0pXG5cbiAgICByZXR1cm4gdG90YWxTZWNvbmRzXG4gIH1cblxuICByZW5kZXIgKHN0YXRlKSB7XG4gICAgY29uc3QgZmlsZXMgPSBzdGF0ZS5maWxlc1xuXG4gICAgY29uc3QgbmV3RmlsZXMgPSBPYmplY3Qua2V5cyhmaWxlcykuZmlsdGVyKChmaWxlKSA9PiB7XG4gICAgICByZXR1cm4gIWZpbGVzW2ZpbGVdLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWRcbiAgICB9KVxuICAgIGNvbnN0IHVwbG9hZFN0YXJ0ZWRGaWxlcyA9IE9iamVjdC5rZXlzKGZpbGVzKS5maWx0ZXIoKGZpbGUpID0+IHtcbiAgICAgIHJldHVybiBmaWxlc1tmaWxlXS5wcm9ncmVzcy51cGxvYWRTdGFydGVkXG4gICAgfSlcbiAgICBjb25zdCBjb21wbGV0ZUZpbGVzID0gT2JqZWN0LmtleXMoZmlsZXMpLmZpbHRlcigoZmlsZSkgPT4ge1xuICAgICAgcmV0dXJuIGZpbGVzW2ZpbGVdLnByb2dyZXNzLnVwbG9hZENvbXBsZXRlXG4gICAgfSlcbiAgICBjb25zdCBpblByb2dyZXNzRmlsZXMgPSBPYmplY3Qua2V5cyhmaWxlcykuZmlsdGVyKChmaWxlKSA9PiB7XG4gICAgICByZXR1cm4gIWZpbGVzW2ZpbGVdLnByb2dyZXNzLnVwbG9hZENvbXBsZXRlICYmXG4gICAgICAgICAgICAgZmlsZXNbZmlsZV0ucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCAmJlxuICAgICAgICAgICAgICFmaWxlc1tmaWxlXS5pc1BhdXNlZFxuICAgIH0pXG5cbiAgICBsZXQgaW5Qcm9ncmVzc0ZpbGVzQXJyYXkgPSBbXVxuICAgIGluUHJvZ3Jlc3NGaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICBpblByb2dyZXNzRmlsZXNBcnJheS5wdXNoKGZpbGVzW2ZpbGVdKVxuICAgIH0pXG5cbiAgICBjb25zdCB0b3RhbFNwZWVkID0gcHJldHR5Qnl0ZXModGhpcy5nZXRUb3RhbFNwZWVkKGluUHJvZ3Jlc3NGaWxlc0FycmF5KSlcbiAgICBjb25zdCB0b3RhbEVUQSA9IHByZXR0eUVUQSh0aGlzLmdldFRvdGFsRVRBKGluUHJvZ3Jlc3NGaWxlc0FycmF5KSlcblxuICAgIC8vIHRvdGFsIHNpemUgYW5kIHVwbG9hZGVkIHNpemVcbiAgICBsZXQgdG90YWxTaXplID0gMFxuICAgIGxldCB0b3RhbFVwbG9hZGVkU2l6ZSA9IDBcbiAgICBpblByb2dyZXNzRmlsZXNBcnJheS5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICB0b3RhbFNpemUgPSB0b3RhbFNpemUgKyAoZmlsZS5wcm9ncmVzcy5ieXRlc1RvdGFsIHx8IDApXG4gICAgICB0b3RhbFVwbG9hZGVkU2l6ZSA9IHRvdGFsVXBsb2FkZWRTaXplICsgKGZpbGUucHJvZ3Jlc3MuYnl0ZXNVcGxvYWRlZCB8fCAwKVxuICAgIH0pXG4gICAgdG90YWxTaXplID0gcHJldHR5Qnl0ZXModG90YWxTaXplKVxuICAgIHRvdGFsVXBsb2FkZWRTaXplID0gcHJldHR5Qnl0ZXModG90YWxVcGxvYWRlZFNpemUpXG5cbiAgICBjb25zdCBpc0FsbENvbXBsZXRlID0gc3RhdGUudG90YWxQcm9ncmVzcyA9PT0gMTAwXG4gICAgY29uc3QgaXNBbGxQYXVzZWQgPSBpblByb2dyZXNzRmlsZXMubGVuZ3RoID09PSAwICYmICFpc0FsbENvbXBsZXRlICYmIHVwbG9hZFN0YXJ0ZWRGaWxlcy5sZW5ndGggPiAwXG4gICAgY29uc3QgaXNVcGxvYWRTdGFydGVkID0gdXBsb2FkU3RhcnRlZEZpbGVzLmxlbmd0aCA+IDBcblxuICAgIGNvbnN0IGFjcXVpcmVycyA9IHN0YXRlLm1vZGFsLnRhcmdldHMuZmlsdGVyKCh0YXJnZXQpID0+IHtcbiAgICAgIHJldHVybiB0YXJnZXQudHlwZSA9PT0gJ2FjcXVpcmVyJ1xuICAgIH0pXG5cbiAgICBjb25zdCBwcm9ncmVzc2luZGljYXRvcnMgPSBzdGF0ZS5tb2RhbC50YXJnZXRzLmZpbHRlcigodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4gdGFyZ2V0LnR5cGUgPT09ICdwcm9ncmVzc2luZGljYXRvcidcbiAgICB9KVxuXG4gICAgY29uc3QgYWRkRmlsZSA9IChmaWxlKSA9PiB7XG4gICAgICB0aGlzLmNvcmUuZW1pdHRlci5lbWl0KCdjb3JlOmZpbGUtYWRkJywgZmlsZSlcbiAgICB9XG5cbiAgICBjb25zdCByZW1vdmVGaWxlID0gKGZpbGVJRCkgPT4ge1xuICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTpmaWxlLXJlbW92ZScsIGZpbGVJRClcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydFVwbG9hZCA9IChldikgPT4ge1xuICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTp1cGxvYWQnKVxuICAgIH1cblxuICAgIGNvbnN0IHBhdXNlVXBsb2FkID0gKGZpbGVJRCkgPT4ge1xuICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTp1cGxvYWQtcGF1c2UnLCBmaWxlSUQpXG4gICAgfVxuXG4gICAgY29uc3QgY2FuY2VsVXBsb2FkID0gKGZpbGVJRCkgPT4ge1xuICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTp1cGxvYWQtY2FuY2VsJywgZmlsZUlEKVxuICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTpmaWxlLXJlbW92ZScsIGZpbGVJRClcbiAgICB9XG5cbiAgICBjb25zdCBzaG93RmlsZUNhcmQgPSAoZmlsZUlEKSA9PiB7XG4gICAgICB0aGlzLmNvcmUuZW1pdHRlci5lbWl0KCdkYXNoYm9hcmQ6ZmlsZS1jYXJkJywgZmlsZUlEKVxuICAgIH1cblxuICAgIGNvbnN0IGZpbGVDYXJkRG9uZSA9IChtZXRhLCBmaWxlSUQpID0+IHtcbiAgICAgIHRoaXMuY29yZS5lbWl0dGVyLmVtaXQoJ2NvcmU6dXBkYXRlLW1ldGEnLCBtZXRhLCBmaWxlSUQpXG4gICAgICB0aGlzLmNvcmUuZW1pdHRlci5lbWl0KCdkYXNoYm9hcmQ6ZmlsZS1jYXJkJylcbiAgICB9XG5cbiAgICBjb25zdCBpbmZvID0gKHRleHQsIHR5cGUsIGR1cmF0aW9uKSA9PiB7XG4gICAgICB0aGlzLmNvcmUuZW1pdHRlci5lbWl0KCdpbmZvcm1lcicsIHRleHQsIHR5cGUsIGR1cmF0aW9uKVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3VtYWJsZVVwbG9hZHMgPSB0aGlzLmNvcmUuZ2V0U3RhdGUoKS5jYXBhYmlsaXRpZXMucmVzdW1hYmxlVXBsb2FkcyB8fCBmYWxzZVxuXG4gICAgcmV0dXJuIERhc2hib2FyZCh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBtb2RhbDogc3RhdGUubW9kYWwsXG4gICAgICBuZXdGaWxlczogbmV3RmlsZXMsXG4gICAgICBmaWxlczogZmlsZXMsXG4gICAgICB0b3RhbEZpbGVDb3VudDogT2JqZWN0LmtleXMoZmlsZXMpLmxlbmd0aCxcbiAgICAgIGlzVXBsb2FkU3RhcnRlZDogaXNVcGxvYWRTdGFydGVkLFxuICAgICAgaW5Qcm9ncmVzczogdXBsb2FkU3RhcnRlZEZpbGVzLmxlbmd0aCxcbiAgICAgIGNvbXBsZXRlRmlsZXM6IGNvbXBsZXRlRmlsZXMsXG4gICAgICBpblByb2dyZXNzRmlsZXM6IGluUHJvZ3Jlc3NGaWxlcyxcbiAgICAgIHRvdGFsU3BlZWQ6IHRvdGFsU3BlZWQsXG4gICAgICB0b3RhbEVUQTogdG90YWxFVEEsXG4gICAgICB0b3RhbFByb2dyZXNzOiBzdGF0ZS50b3RhbFByb2dyZXNzLFxuICAgICAgdG90YWxTaXplOiB0b3RhbFNpemUsXG4gICAgICB0b3RhbFVwbG9hZGVkU2l6ZTogdG90YWxVcGxvYWRlZFNpemUsXG4gICAgICBpc0FsbENvbXBsZXRlOiBpc0FsbENvbXBsZXRlLFxuICAgICAgaXNBbGxQYXVzZWQ6IGlzQWxsUGF1c2VkLFxuICAgICAgYWNxdWlyZXJzOiBhY3F1aXJlcnMsXG4gICAgICBhY3RpdmVQYW5lbDogc3RhdGUubW9kYWwuYWN0aXZlUGFuZWwsXG4gICAgICBwcm9ncmVzc2luZGljYXRvcnM6IHByb2dyZXNzaW5kaWNhdG9ycyxcbiAgICAgIGF1dG9Qcm9jZWVkOiB0aGlzLmNvcmUub3B0cy5hdXRvUHJvY2VlZCxcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgY29udGFpbmVyOiB0aGlzLm9wdHMudGFyZ2V0LFxuICAgICAgaGlkZU1vZGFsOiB0aGlzLmhpZGVNb2RhbCxcbiAgICAgIHNob3dQcm9ncmVzc0RldGFpbHM6IHRoaXMub3B0cy5zaG93UHJvZ3Jlc3NEZXRhaWxzLFxuICAgICAgaW5saW5lOiB0aGlzLm9wdHMuaW5saW5lLFxuICAgICAgc2VtaVRyYW5zcGFyZW50OiB0aGlzLm9wdHMuc2VtaVRyYW5zcGFyZW50LFxuICAgICAgb25QYXN0ZTogdGhpcy5oYW5kbGVQYXN0ZSxcbiAgICAgIHNob3dQYW5lbDogdGhpcy5zaG93UGFuZWwsXG4gICAgICBoaWRlQWxsUGFuZWxzOiB0aGlzLmhpZGVBbGxQYW5lbHMsXG4gICAgICBsb2c6IHRoaXMuY29yZS5sb2csXG4gICAgICBidXM6IHRoaXMuY29yZS5lbWl0dGVyLFxuICAgICAgaTE4bjogdGhpcy5jb250YWluZXJXaWR0aCxcbiAgICAgIHBhdXNlQWxsOiB0aGlzLnBhdXNlQWxsLFxuICAgICAgcmVzdW1lQWxsOiB0aGlzLnJlc3VtZUFsbCxcbiAgICAgIGNhbmNlbEFsbDogdGhpcy5jYW5jZWxBbGwsXG4gICAgICBhZGRGaWxlOiBhZGRGaWxlLFxuICAgICAgcmVtb3ZlRmlsZTogcmVtb3ZlRmlsZSxcbiAgICAgIGluZm86IGluZm8sXG4gICAgICBtZXRhRmllbGRzOiBzdGF0ZS5tZXRhRmllbGRzLFxuICAgICAgcmVzdW1hYmxlVXBsb2FkczogcmVzdW1hYmxlVXBsb2FkcyxcbiAgICAgIHN0YXJ0VXBsb2FkOiBzdGFydFVwbG9hZCxcbiAgICAgIHBhdXNlVXBsb2FkOiBwYXVzZVVwbG9hZCxcbiAgICAgIGNhbmNlbFVwbG9hZDogY2FuY2VsVXBsb2FkLFxuICAgICAgZmlsZUNhcmRGb3I6IHN0YXRlLm1vZGFsLmZpbGVDYXJkRm9yLFxuICAgICAgc2hvd0ZpbGVDYXJkOiBzaG93RmlsZUNhcmQsXG4gICAgICBmaWxlQ2FyZERvbmU6IGZpbGVDYXJkRG9uZSxcbiAgICAgIHVwZGF0ZURhc2hib2FyZEVsV2lkdGg6IHRoaXMudXBkYXRlRGFzaGJvYXJkRWxXaWR0aCxcbiAgICAgIG1heFdpZHRoOiB0aGlzLm9wdHMubWF4V2lkdGgsXG4gICAgICBtYXhIZWlnaHQ6IHRoaXMub3B0cy5tYXhIZWlnaHQsXG4gICAgICBjdXJyZW50V2lkdGg6IHN0YXRlLm1vZGFsLmNvbnRhaW5lcldpZHRoLFxuICAgICAgaXNXaWRlOiBzdGF0ZS5tb2RhbC5jb250YWluZXJXaWR0aCA+IDQwMFxuICAgIH0pXG4gIH1cblxuICBpbnN0YWxsICgpIHtcbiAgICAvLyBTZXQgZGVmYXVsdCBzdGF0ZSBmb3IgTW9kYWxcbiAgICB0aGlzLmNvcmUuc2V0U3RhdGUoe21vZGFsOiB7XG4gICAgICBpc0hpZGRlbjogdHJ1ZSxcbiAgICAgIHNob3dGaWxlQ2FyZDogZmFsc2UsXG4gICAgICBhY3RpdmVQYW5lbDogZmFsc2UsXG4gICAgICB0YXJnZXRzOiBbXVxuICAgIH19KVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5vcHRzLnRhcmdldFxuICAgIGNvbnN0IHBsdWdpbiA9IHRoaXNcbiAgICB0aGlzLnRhcmdldCA9IHRoaXMubW91bnQodGFyZ2V0LCBwbHVnaW4pXG5cbiAgICB0aGlzLmluaXRFdmVudHMoKVxuICAgIHRoaXMuYWN0aW9ucygpXG4gIH1cbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmb2xkZXI6ICgpID0+XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3R5bGVcIiwgXCJ3aWR0aDoxNnB4O21hcmdpbi1yaWdodDozcHhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDI3Ni4xNTcgMjc2LjE1N1wiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yNzMuMDggMTAxLjM3OGMtMy4zLTQuNjUtOC44Ni03LjMyLTE1LjI1NC03LjMyaC0yNC4zNFY2Ny41OWMwLTEwLjItOC4zLTE4LjUtMTguNS0xOC41aC04NS4zMjJjLTMuNjMgMC05LjI5NS0yLjg3NS0xMS40MzYtNS44MDVsLTYuMzg2LTguNzM1Yy00Ljk4Mi02LjgxNC0xNS4xMDQtMTEuOTU0LTIzLjU0Ni0xMS45NTRINTguNzNjLTkuMjkyIDAtMTguNjM4IDYuNjA4LTIxLjczNyAxNS4zNzJsLTIuMDMzIDUuNzUyYy0uOTU4IDIuNzEtNC43MiA1LjM3LTcuNTk2IDUuMzdIMTguNUM4LjMgNDkuMDkgMCA1Ny4zOSAwIDY3LjU5djE2Ny4wN2MwIC44ODYuMTYgMS43My40NDMgMi41Mi4xNTIgMy4zMDYgMS4xOCA2LjQyNCAzLjA1MyA5LjA2NCAzLjMgNC42NTIgOC44NiA3LjMyIDE1LjI1NSA3LjMyaDE4OC40ODdjMTEuMzk1IDAgMjMuMjctOC40MjUgMjcuMDM1LTE5LjE4bDQwLjY3Ny0xMTYuMTg4YzIuMTEtNi4wMzUgMS40My0xMi4xNjQtMS44Ny0xNi44MTZ6TTE4LjUgNjQuMDg4aDguODY0YzkuMjk1IDAgMTguNjQtNi42MDcgMjEuNzM4LTE1LjM3bDIuMDMyLTUuNzVjLjk2LTIuNzEyIDQuNzIyLTUuMzczIDcuNTk3LTUuMzczaDI5LjU2NWMzLjYzIDAgOS4yOTUgMi44NzYgMTEuNDM3IDUuODA2bDYuMzg2IDguNzM1YzQuOTgyIDYuODE1IDE1LjEwNCAxMS45NTQgMjMuNTQ2IDExLjk1NGg4NS4zMjJjMS44OTggMCAzLjUgMS42MDIgMy41IDMuNXYyNi40N0g2OS4zNGMtMTEuMzk1IDAtMjMuMjcgOC40MjMtMjcuMDM1IDE5LjE3OEwxNSAxOTEuMjNWNjcuNTljMC0xLjg5OCAxLjYwMy0zLjUgMy41LTMuNXptMjQyLjI5IDQ5LjE1bC00MC42NzYgMTE2LjE4OGMtMS42NzQgNC43OC03LjgxMiA5LjEzNS0xMi44NzcgOS4xMzVIMTguNzVjLTEuNDQ3IDAtMi41NzYtLjM3Mi0zLjAyLS45OTctLjQ0Mi0uNjI1LS40MjItMS44MTQuMDU3LTMuMThsNDAuNjc3LTExNi4xOWMxLjY3NC00Ljc4IDcuODEyLTkuMTM0IDEyLjg3Ny05LjEzNGgxODguNDg3YzEuNDQ4IDAgMi41NzcuMzcyIDMuMDIuOTk3LjQ0My42MjUuNDIzIDEuODE0LS4wNTYgMy4xOHpcIilcbmFjKGJlbDEsIFtcIlxcbiAgICAgIFwiLGJlbDAsXCJcXG4gIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfSgpKSxcbiAgbXVzaWM6ICgpID0+XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIxNi4wMDAwMDBwdFwiKVxuYmVsNS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjE2LjAwMDAwMHB0XCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCA0OC4wMDAwMDAgNDguMDAwMDAwXCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLCBcInhNaWRZTWlkIG1lZXRcIilcbmJlbDUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKVxuYmVsNC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLjAwMDAwMCw0OC4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMClcIilcbmJlbDQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwiIzUyNTA1MFwiKVxuYmVsNC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZVwiLCBcIm5vbmVcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yMDkgNDczIGMwIC01IDAgLTUyIDEgLTEwNiAxIC01NCAtMiAtMTE4IC02IC0xNDMgbC03IC00NiAtNDQgNVxcbiAgICBjLTczIDggLTEzMyAtNDYgLTEzMyAtMTIwIDAgLTE3IC01IC0zNSAtMTAgLTM4IC0xOCAtMTEgMCAtMjUgMzMgLTI0IDMwIDEgMzBcXG4gICAgMSA3IDggLTE1IDQgLTIwIDEwIC0xMyAxNCA2IDQgOSAxNiA2IDI3IC05IDM0IDcgNzAgNDAgOTAgMTcgMTEgMzkgMjAgNDcgMjBcXG4gICAgOCAwIC0zIC05IC0yNiAtMTkgLTQyIC0xOSAtNTQgLTM2IC01NCAtNzUgMCAtMzYgMzAgLTU2IDg0IC01NiA0MSAwIDUzIDUgODJcXG4gICAgMzQgMTkgMTkgMzQgMzEgMzQgMjcgMCAtNCAtNSAtMTIgLTEyIC0xOSAtOSAtOSAtMSAtMTIgMzkgLTEyIDEwNiAwIDE4MyAtMjFcXG4gICAgMTIxIC0zMyAtMTcgLTMgLTE0IC01IDEwIC02IDI1IC0xIDMyIDMgMzIgMTcgMCAyNiAtMjAgNDIgLTUxIDQyIC0zOSAwIC00M1xcbiAgICAxMyAtMTAgMzggNTYgNDEgNzYgMTI0IDQ1IDE4NSAtMjUgNDggLTcyIDEwNSAtMTAzIDEyMyAtMTUgOSAtMzYgMjkgLTQ3IDQ1XFxuICAgIC0xNyAyNiAtNjMgNDEgLTY1IDIyeiBtNTYgLTQ4IGMxNiAtMjQgMzEgLTQyIDM0IC0zOSA5IDkgNzkgLTY5IDc0IC04MyAtMyAtN1xcbiAgICAtMiAtMTMgMyAtMTIgMTggMyAyNSAtMSAxOSAtMTIgLTUgLTcgLTE2IC0yIC0zMyAxMyBsLTI2IDIzIDE2IC0yNSBjMTcgLTI3XFxuICAgIDI5IC05MiAxNiAtODQgLTQgMyAtOCAtOCAtOCAtMjUgMCAtMTYgNCAtMzMgMTAgLTM2IDUgLTMgNyAwIDQgOSAtMyA5IDMgMjBcXG4gICAgMTUgMjggMTMgOCAyMSAyNCAyMiA0MyAxIDE4IDMgMjMgNiAxMiAzIC0xMCAyIC0yOSAtMSAtNDMgLTcgLTI2IC02MiAtOTQgLTc3XFxuICAgIC05NCAtMTMgMCAtMTEgMTcgNCAzMiAyMSAxOSA0IDg4IC0yOCAxMTUgLTE0IDEzIC0yMiAyMyAtMTYgMjMgNSAwIDIxIC0xNCAzNVxcbiAgICAtMzEgMTQgLTE3IDI2IC0yNSAyNiAtMTkgMCAyMSAtNjAgNzIgLTc5IDY3IC0xNiAtNCAtMTcgLTEgLTggMzQgNiAyNCAxNCAzNlxcbiAgICAyMSAzMiA2IC0zIDEgNSAtMTEgMTggLTEyIDEzIC0yMiAyOSAtMjMgMzQgLTEgNiAtNiAxNyAtMTIgMjUgLTYgMTAgLTcgLTM5XFxuICAgIC00IC0xNDIgbDYgLTE1OCAtMjYgMTAgYy0zMyAxMyAtNDQgMTIgLTIxIC0xIDE3IC0xMCAyNCAtNDQgMTAgLTUyIC01IC0zIC0zOVxcbiAgICAtOCAtNzYgLTEyIC02OCAtNyAtNjkgLTcgLTY1IDE3IDQgMjggNjQgNjAgMTE3IDYyIGwzNiAxIDAgMTU3IGMwIDg3IDIgMTU4IDVcXG4gICAgMTU4IDMgMCAxOCAtMjAgMzUgLTQ1eiBtMTUgLTE1OSBjMCAtMiAtNyAtNyAtMTYgLTEwIC04IC0zIC0xMiAtMiAtOSA0IDYgMTBcXG4gICAgMjUgMTQgMjUgNnogbTUwIC05MiBjMCAtMTMgLTQgLTI2IC0xMCAtMjkgLTE0IC05IC0xMyAtNDggMiAtNjMgOSAtOSA2IC0xMlxcbiAgICAtMTUgLTEyIC0yMiAwIC0yNyA1IC0yNyAyNCAwIDE0IC00IDI4IC0xMCAzMSAtMTUgOSAtMTMgMTAyIDMgMTA4IDE4IDcgNTdcXG4gICAgLTMzIDU3IC01OXogbS0xMzkgLTEzNSBjLTMyIC0yNiAtMTIxIC0yNSAtMTIxIDIgMCA2IDggNSAxOSAtMSAyNiAtMTQgNjQgLTEzXFxuICAgIDU1IDEgLTQgOCAxIDkgMTYgNCAxMyAtNCAyMCAtMyAxNyAyIC0zIDUgNCAxMCAxNiAxMCAyMiAyIDIyIDIgLTIgLTE4elwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTMzMCAzNDUgYzE5IC0xOSAzNiAtMzUgMzkgLTM1IDMgMCAtMTAgMTYgLTI5IDM1IC0xOSAxOSAtMzYgMzUgLTM5XFxuICAgIDM1IC0zIDAgMTAgLTE2IDI5IC0zNXpcIilcbnZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0zNDkgMTIzIGMtMTMgLTE2IC0xMiAtMTcgNCAtNCAxNiAxMyAyMSAyMSAxMyAyMSAtMiAwIC0xMCAtOCAtMTdcXG4gICAgLTE3elwiKVxudmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDMuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTI0MyAxMyBjMTUgLTIgMzkgLTIgNTUgMCAxNSAyIDIgNCAtMjggNCAtMzAgMCAtNDMgLTIgLTI3IC00elwiKVxuYWMoYmVsNCwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gICAgXCIsYmVsMSxcIlxcbiAgICBcIixiZWwyLFwiXFxuICAgIFwiLGJlbDMsXCJcXG4gICAgXCJdKVxuYWMoYmVsNSwgW1wiXFxuICAgIFwiLGJlbDQsXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDVcbiAgICB9KCkpLFxuICBwYWdlX3doaXRlX3BpY3R1cmU6ICgpID0+XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMTAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMTAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIjE2LjAwMDAwMHB0XCIpXG5iZWwxMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjE2LjAwMDAwMHB0XCIpXG5iZWwxMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgNDguMDAwMDAwIDM2LjAwMDAwMFwiKVxuYmVsMTAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwieE1pZFlNaWQgbWVldFwiKVxuYmVsMTAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKVxuYmVsOS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLjAwMDAwMCwzNi4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMClcIilcbmJlbDkuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwiIzU2NTU1NVwiKVxuYmVsOS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZVwiLCBcIm5vbmVcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0wIDE4MCBsMCAtMTgwIDI0MCAwIDI0MCAwIDAgMTgwIDAgMTgwIC0yNDAgMCAtMjQwIDAgMCAtMTgweiBtNDcwXFxuICAgIDAgbDAgLTE3MCAtMjMwIDAgLTIzMCAwIDAgMTcwIDAgMTcwIDIzMCAwIDIzMCAwIDAgLTE3MHpcIilcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk00MCAxODUgbDAgLTEzNSAyMDAgMCAyMDAgMCAwIDEzNSAwIDEzNSAtMjAwIDAgLTIwMCAwIDAgLTEzNXogbTM5MFxcbiAgICA1OSBsMCAtNjUgLTI5IDIwIGMtMzcgMjcgLTQ1IDI2IC02NSAtNCAtOSAtMTQgLTIyIC0yNSAtMjggLTI1IC03IDAgLTI0IC0xMlxcbiAgICAtMzkgLTI2IC0yNiAtMjUgLTI4IC0yNSAtNTMgLTkgLTE3IDExIC0yNiAxMyAtMjYgNiAwIC03IC00IC05IC0xMCAtNiAtNSAzXFxuICAgIC0yMiAtMiAtMzcgLTEyIGwtMjggLTE4IDIwIDI3IGMxMSAxNSAyNiAyNSAzMyAyMyA2IC0yIDEyIC0xIDEyIDQgMCAxMCAtMzdcXG4gICAgMjEgLTY1IDIwIC0xNCAtMSAtMTIgLTMgNyAtOCBsMjggLTYgLTUwIC01NSAtNDkgLTU1IDAgMTI2IDEgMTI2IDE4OSAxIDE4OSAyXFxuICAgIDAgLTY2eiBtLTE2IC03MyBjMTEgLTEyIDE0IC0yMSA4IC0yMSAtNiAwIC0xMyA0IC0xNyAxMCAtMyA1IC0xMiA3IC0xOSA0IC04XFxuICAgIC0zIC0xNiAyIC0xOSAxMyAtMyAxMSAtNCA3IC00IC05IDEgLTE5IDYgLTI1IDE4IC0yMyAxOSA0IDQ2IC0yMSAzNSAtMzIgLTRcXG4gICAgLTQgLTExIC0xIC0xNiA3IC02IDggLTEwIDEwIC0xMCA0IDAgLTYgNyAtMTcgMTUgLTI0IDI0IC0yMCAxMSAtMjQgLTc2IC0yN1xcbiAgICAtNjkgLTEgLTgzIDEgLTk3IDE4IC05IDEwIC0yMCAxOSAtMjUgMTkgLTUgMCAtNCAtNiAyIC0xNCAxNCAtMTcgLTUgLTI2IC01NVxcbiAgICAtMjYgLTM2IDAgLTQ2IDE2IC0xNyAyNyAxMCA0IDIyIDEzIDI3IDIyIDggMTMgMTAgMTIgMTcgLTQgNyAtMTcgOCAtMTggOCAtMlxcbiAgICAxIDIzIDExIDIyIDU1IC04IDMzIC0yMiAzNSAtMjMgMjYgLTUgLTkgMTYgLTggMjAgNSAyMCA4IDAgMTUgNSAxNSAxMSAwIDUgLTRcXG4gICAgNyAtMTAgNCAtNSAtMyAtMTAgLTQgLTEwIC0xIDAgNCA1OSAzNiA2NyAzNiAyIDAgMSAtMTAgLTIgLTIxIC01IC0xNSAtNCAtMTlcXG4gICAgNSAtMTQgNiA0IDkgMTcgNiAyOCAtMTIgNDkgMjcgNTMgNjggOHpcIilcbnZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0xMDAgMjk2IGMwIC0yIDcgLTcgMTYgLTEwIDggLTMgMTIgLTIgOSA0IC02IDEwIC0yNSAxNCAtMjUgNnpcIilcbnZhciBiZWwzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwzLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yNDMgMjkzIGM5IC0yIDIzIC0yIDMwIDAgNiAzIC0xIDUgLTE4IDUgLTE2IDAgLTIyIC0yIC0xMiAtNXpcIilcbnZhciBiZWw0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk02NSAyODAgYy0zIC01IC0yIC0xMCA0IC0xMCA1IDAgMTMgNSAxNiAxMCAzIDYgMiAxMCAtNCAxMCAtNSAwIC0xM1xcbiAgICAtNCAtMTYgLTEwelwiKVxudmFyIGJlbDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTE1NSAyNzAgYy0zIC02IDEgLTcgOSAtNCAxOCA3IDIxIDE0IDcgMTQgLTYgMCAtMTMgLTQgLTE2IC0xMHpcIilcbnZhciBiZWw2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yMzMgMjUyIGMtMTMgLTIgLTIzIC04IC0yMyAtMTMgMCAtNyAtMTIgLTggLTMwIC00IC0yMiA1IC0zMCAzIC0zMFxcbiAgICAtNyAwIC0xMCAtMiAtMTAgLTkgMSAtNSA4IC0xOSAxMiAtMzUgOSAtMTQgLTMgLTI3IC0xIC0zMCA0IC0yIDUgLTQgNCAtMyAtM1xcbiAgICAyIC02IDYgLTEwIDEwIC0xMCAzIDAgMjAgLTQgMzcgLTkgMTggLTUgMzIgLTUgMzYgMSAzIDYgMTMgOCAyMSA1IDEzIC01IDExM1xcbiAgICAyMSAxMTMgMzAgMCAzIC0xOSAyIC01NyAtNHpcIilcbnZhciBiZWw3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw3LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yNzUgMjIwIGMtMTMgLTYgLTE1IC05IC01IC05IDggMCAyMiA0IDMwIDkgMTggMTIgMiAxMiAtMjUgMHpcIilcbnZhciBiZWw4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw4LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0xMzIgMjMgYzU5IC0yIDE1OCAtMiAyMjAgMCA2MiAxIDE0IDMgLTEwNyAzIC0xMjEgMCAtMTcyIC0yIC0xMTNcXG4gICAgLTN6XCIpXG5hYyhiZWw5LCBbXCJcXG4gICAgXCIsYmVsMCxcIlxcbiAgICBcIixiZWwxLFwiXFxuICAgIFwiLGJlbDIsXCJcXG4gICAgXCIsYmVsMyxcIlxcbiAgICBcIixiZWw0LFwiXFxuICAgIFwiLGJlbDUsXCJcXG4gICAgXCIsYmVsNixcIlxcbiAgICBcIixiZWw3LFwiXFxuICAgIFwiLGJlbDgsXCJcXG4gICAgXCJdKVxuYWMoYmVsMTAsIFtcIlxcbiAgICBcIixiZWw5LFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwxMFxuICAgIH0oKSksXG4gIHdvcmQ6ICgpID0+XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsOCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWw4LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIxNi4wMDAwMDBwdFwiKVxuYmVsOC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjE2LjAwMDAwMHB0XCIpXG5iZWw4LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCA0OC4wMDAwMDAgNDguMDAwMDAwXCIpXG5iZWw4LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLCBcInhNaWRZTWlkIG1lZXRcIilcbmJlbDguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKVxuYmVsNy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLjAwMDAwMCw0OC4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMClcIilcbmJlbDcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwiIzQyM2QzZFwiKVxuYmVsNy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZVwiLCBcIm5vbmVcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0wIDQ2NiBjMCAtMTUgODcgLTI2IDIxMyAtMjYgbDc3IDAgMCAtMTQwIDAgLTE0MCAtNzcgMCBjLTEwNSAwXFxuICAgIC0yMTMgLTExIC0yMTMgLTIxIDAgLTUgMTUgLTkgMzQgLTkgMjUgMCAzMyAtNCAzMyAtMTcgMCAtNzQgNCAtMTEzIDEzIC0xMTMgNlxcbiAgICAwIDEwIDMyIDEwIDc1IGwwIDc1IDEwNSAwIDEwNSAwIDAgMTUwIDAgMTUwIC0xMDUgMCBjLTg3IDAgLTEwNSAzIC0xMDUgMTUgMFxcbiAgICAxMSAtMTIgMTUgLTQ1IDE1IC0zMSAwIC00NSAtNCAtNDUgLTE0elwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTEyMyA0NjggYy0yIC01IDUwIC04IDExNiAtOCBsMTIxIDAgMCAtNTAgYzAgLTQ2IC0yIC01MCAtMjMgLTUwXFxuICAgIC0xNCAwIC0yNCAtNiAtMjQgLTE1IDAgLTggNCAtMTUgOSAtMTUgNCAwIDggLTIwIDggLTQ1IDAgLTI1IC00IC00NSAtOCAtNDVcXG4gICAgLTUgMCAtOSAtNyAtOSAtMTUgMCAtOSAxMCAtMTUgMjQgLTE1IDIyIDAgMjMgMyAyMyA3NSBsMCA3NSA1MCAwIDUwIDAgMCAtMTcwXFxuICAgIDAgLTE3MCAtMTc1IDAgLTE3NSAwIC0yIDYzIGMtMiA1OSAtMiA2MCAtNSAxMyAtMyAtMjcgLTIgLTYwIDIgLTczIGw1IC0yM1xcbiAgICAxODMgMiAxODIgMyAyIDIxNiBjMyAyNzUgMTkgMjU0IC0xOTQgMjU0IC04NSAwIC0xNTcgLTMgLTE2MCAtN3ogbTMzNyAtODUgYzBcXG4gICAgLTIgLTE4IC0zIC0zOSAtMyAtMzkgMCAtMzkgMCAtNDMgNDUgbC0zIDQ0IDQyIC00MSBjMjQgLTIzIDQzIC00MyA0MyAtNDV6XFxuICAgIG0tMTkgNTAgYzE5IC0yMiAyMyAtMjkgOSAtMTggLTM2IDMwIC01MCA0MyAtNTAgNDkgMCAxMSA2IDYgNDEgLTMxelwiKVxudmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTQgMzAwIGMwIC03NCAxIC0xMDUgMyAtNjcgMiAzNyAyIDk3IDAgMTM1IC0yIDM3IC0zIDYgLTMgLTY4elwiKVxudmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDMuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTIwIDMwMCBsMCAtMTMxIDEyOCAzIDEyNyAzIDMgMTI4IDMgMTI3IC0xMzEgMCAtMTMwIDAgMCAtMTMweiBtMjUwXFxuICAgIDEwMCBjMCAtMTYgLTcgLTIwIC0zMyAtMjAgLTMxIDAgLTM0IC0yIC0zNCAtMzEgMCAtMjggMiAtMzAgMTMgLTE0IDggMTAgMTFcXG4gICAgMjIgOCAyNiAtMyA1IDEgOSA5IDkgMTEgMCA5IC0xMiAtMTIgLTUwIC0xNCAtMjcgLTMyIC01MCAtMzkgLTUwIC0xNSAwIC0zMVxcbiAgICAzOCAtMjYgNjMgMiAxMCAtMSAxNSAtOCAxMSAtNiAtNCAtOSAtMSAtNiA2IDIgOCAxMCAxNiAxNiAxOCA4IDIgMTIgLTEwIDEyXFxuICAgIC0zOCAwIC0zOCAyIC00MSAxNiAtMjkgOSA3IDEyIDE1IDcgMTYgLTUgMiAtNyAxNyAtNSAzMyA0IDI2IDEgMzAgLTIwIDMwIC0xN1xcbiAgICAwIC0yOSAtOSAtMzkgLTI3IC0yMCAtNDEgLTIyIC01MCAtNiAtMzAgMTQgMTcgMTUgMTYgMjAgLTUgNCAtMTMgMiAtNDAgLTJcXG4gICAgLTYwIC05IC0zNyAtOCAtMzggMjAgLTM4IDI2IDAgMzMgOCA2NCA3MCAxOSAzOSAzNyA3MCA0MCA3MCAzIDAgNSAtNDAgNSAtOTBcXG4gICAgbDAgLTkwIC0xMjAgMCAtMTIwIDAgMCAxMjAgMCAxMjAgMTIwIDAgYzExMyAwIDEyMCAtMSAxMjAgLTIwelwiKVxudmFyIGJlbDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTQwIDM3MSBjMCAtNiA1IC0xMyAxMCAtMTYgNiAtMyAxMCAtMzUgMTAgLTcxIDAgLTU3IDIgLTY0IDIwIC02NFxcbiAgICAxMyAwIDI3IDE0IDQwIDQwIDI1IDQ5IDI1IDYzIDAgMzAgLTE5IC0yNSAtMzkgLTIzIC0yNCAyIDUgNyA3IDIzIDYgMzUgLTIgMTFcXG4gICAgMiAyNCA3IDI4IDIzIDEzIDkgMjUgLTI5IDI1IC0yMiAwIC00MCAtNCAtNDAgLTl6IG01MyAtOSBjLTYgLTQgLTEzIC0yOCAtMTVcXG4gICAgLTUyIGwtMyAtNDUgLTUgNTMgYy01IDQ3IC0zIDUyIDE1IDUyIDEzIDAgMTYgLTMgOCAtOHpcIilcbnZhciBiZWw1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0zMTMgMTY1IGMwIC05IDEwIC0xNSAyNCAtMTUgMTQgMCAyMyA2IDIzIDE1IDAgOSAtOSAxNSAtMjMgMTUgLTE0XFxuICAgIDAgLTI0IC02IC0yNCAtMTV6XCIpXG52YXIgYmVsNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsNi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMTgwIDEwNSBjMCAtMTIgMTcgLTE1IDkwIC0xNSA3MyAwIDkwIDMgOTAgMTUgMCAxMiAtMTcgMTUgLTkwIDE1XFxuICAgIC03MyAwIC05MCAtMyAtOTAgLTE1elwiKVxuYWMoYmVsNywgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gICAgXCIsYmVsMSxcIlxcbiAgICBcIixiZWwyLFwiXFxuICAgIFwiLGJlbDMsXCJcXG4gICAgXCIsYmVsNCxcIlxcbiAgICBcIixiZWw1LFwiXFxuICAgIFwiLGJlbDYsXCJcXG4gICAgXCJdKVxuYWMoYmVsOCwgW1wiXFxuICAgIFwiLGJlbDcsXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDhcbiAgICB9KCkpLFxuICBwb3dlcnBvaW50OiAoKSA9PlxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDE5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDE5LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIxNi4wMDAwMDBwdFwiKVxuYmVsMTkuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCIxNi4wMDAwMDBwdFwiKVxuYmVsMTkuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDE2LjAwMDAwMCAxNi4wMDAwMDBcIilcbmJlbDE5LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLCBcInhNaWRZTWlkIG1lZXRcIilcbmJlbDE5LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDE4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpXG5iZWwxOC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLjAwMDAwMCwxNDQuMDAwMDAwKSBzY2FsZSgwLjEwMDAwMCwtMC4xMDAwMDApXCIpXG5iZWwxOC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCIjNDk0NzQ3XCIpXG5iZWwxOC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZVwiLCBcIm5vbmVcIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0wIDEzOTAgbDAgLTUwIDkzIDAgYzUwIDAgMTA5IC0zIDEzMCAtNiBsMzcgLTcgMCA1NyAwIDU2IC0xMzAgMFxcbiAgICAtMTMwIDAgMCAtNTB6XCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNODcwIDE0MjUgYzAgLTggLTEyIC0xOCAtMjcgLTIyIGwtMjggLTYgMzAgLTkgYzE3IC01IDc1IC0xMCAxMzBcXG4gICAgLTEyIDg2IC0yIDEwMCAtNSA5OSAtMTkgMCAtMTAgLTEgLTgwIC0yIC0xNTcgbC0yIC0xNDAgLTY1IDAgYy02MCAwIC04MCAtOVxcbiAgICAtNTUgLTI1IDggLTUgNyAtMTEgLTEgLTIxIC0xNyAtMjAgMiAtMjUgMTEyIC0yNyBsOTQgLTIgMCA0MCAwIDQwIDEwMCA1IGM1NVxcbiAgICAzIDEwNCAzIDEwOCAtMSA4IC02IDExIC0xMDA4IDQgLTEwMTYgLTIgLTIgLTIzNiAtNCAtNTIwIC02IC0yODMgLTEgLTUxOSAtNVxcbiAgICAtNTIzIC05IC00IC00IC0xIC0xNCA2IC0yMyAxMSAtMTMgODIgLTE1IDU2MSAtMTUgbDU0OSAwIDAgNTcwIGMwIDU0MyAtMSA1NzBcXG4gICAgLTE4IDU3MCAtMTAgMCAtNTYgMzkgLTEwMyA4NiAtNDYgNDcgLTkzIDkwIC0xMDQgOTUgLTExIDYgMjIgLTMxIDczIC04MiA1MFxcbiAgICAtNTAgOTIgLTk1IDkyIC05OSAwIC0xNCAtMjMgLTE2IC0xMzYgLTEyIGwtMTExIDQgLTYgMTI0IGMtNiAxMTkgLTcgMTI2IC0zMlxcbiAgICAxNDUgLTE0IDEyIC0yMyAyNSAtMjAgMzAgNCA1IC0zOCA5IC05OSA5IC04NyAwIC0xMDYgLTMgLTEwNiAtMTV6XCIpXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMTE5MCAxNDI5IGMwIC0xNCAyMjUgLTIzOSAyMzkgLTIzOSA3IDAgMTEgMzAgMTEgODUgMCA3NyAtMiA4NSAtMTlcXG4gICAgODUgLTIxIDAgLTYxIDQ0IC02MSA2NiAwIDExIC0yMCAxNCAtODUgMTQgLTU1IDAgLTg1IC00IC04NSAtMTF6XCIpXG52YXIgYmVsMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMjgxIDEzMzEgYy0yNCAtMTYgNyAtMjMgMTI3IC0zMSAxMDAgLTYgMTA3IC03IDQ3IC05IC0zOCAtMSAtMTQyXFxuICAgIC04IC0yMjkgLTE0IGwtMTYwIC0xMiAtNyAtMjggYy0xMCAtMzcgLTE2IC02ODMgLTYgLTY5MyA0IC00IDEwIC00IDE1IDAgNCA0XFxuICAgIDggMTY2IDkgMzU5IGwyIDM1MiAzNTggLTMgMzU4IC0yIDUgLTM1MyBjMyAtMTkzIDIgLTM1NiAtMiAtMzYxIC0zIC00IC0xMzZcXG4gICAgLTggLTI5NSAtNyAtMjkwIDIgLTQyMyAtNCAtNDIzIC0yMCAwIC01IDMzIC05IDczIC05IDM5IDAgOTAgLTMgMTExIC03IGwzOVxcbiAgICAtNiAtNDUgLTE4IGMtMjYgLTEwIC05MCAtMjAgLTE1MSAtMjUgbC0xMDcgLTcgMCAtMzggYzAgLTM1IDMgLTM5IDI0IC0zOSAzNlxcbiAgICAwIDEyNiAtNDggMTI4IC02OCAxIC05IDIgLTQwIDMgLTY5IDIgLTI5IDYgLTkxIDEwIC0xMzggbDcgLTg1IDQ0IDAgNDQgMCAwXFxuICAgIDIxOSAwIDIyMCAzMTEgMSBjMTcyIDAgMzE0IDIgMzE4IDQgNSA0IDYgMzAxIDIgNzU5IGwtMSAxMzcgLTI5NyAwIGMtMTY0IDBcXG4gICAgLTMwNCAtNCAtMzEyIC05elwiKVxudmFyIGJlbDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTIgODgwIGMtMSAtMjc2IDIgLTM3OCAxMCAtMzYwIDEyIDMwIDExIDY1NyAtMiA3MTAgLTUgMjEgLTggLTEyMVxcbiAgICAtOCAtMzUwelwiKVxudmFyIGJlbDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTE0NSAxMTc4IGMtMyAtOCAtNCAtMTQxIC0zIC0yOTggbDMgLTI4NSAyOTUgMCAyOTUgMCAwIDI5NSAwIDI5NVxcbiAgICAtMjkzIDMgYy0yMzAgMiAtMjk0IDAgLTI5NyAtMTB6IG01NTMgLTI3IGMxMSAtNiAxMyAtNjAgMTEgLTI2MCAtMSAtMTM5IC02XFxuICAgIC0yNTQgLTkgLTI1NiAtNCAtMyAtMTI0IC02IC0yNjYgLTcgbC0yNTkgLTMgLTMgMjU1IGMtMSAxNDAgMCAyNjAgMyAyNjcgMyAxMFxcbiAgICA2MiAxMyAyNTcgMTMgMTM5IDAgMjU5IC00IDI2NiAtOXpcIilcbnZhciBiZWw2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk00NDUgMTA5MCBsLTIxMCAtNSAtMyAtMzcgLTMgLTM4IDIyNSAwIDIyNiAwIDAgMzQgYzAgMTggLTYgMzcgLTEyXFxuICAgIDQyIC03IDUgLTEwNyA3IC0yMjMgNHpcIilcbnZhciBiZWw3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw3LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yOTUgOTQwIGMtMyAtNiAxIC0xMiA5IC0xNSA5IC0zIDIzIC03IDMxIC0xMCAxMCAtMyAxNSAtMTggMTUgLTQ5XFxuICAgIDAgLTI1IDMgLTQ3IDggLTQ5IDE1IC05IDQ3IDExIDUyIDMzIDkgMzggMjggMzQgNDEgLTggMTAgLTM1IDkgLTQzIC03IC02NlxcbiAgICAtMjMgLTMxIC01MSAtMzQgLTU2IC00IC00IDMxIC0yNiAzNCAtMzggNCAtNSAtMTQgLTEyIC0yNiAtMTYgLTI2IC00IDAgLTIyXFxuICAgIDE2IC00MSAzNiAtMzMgMzUgLTM0IDQwIC0yOCA4NiA3IDQ4IDYgNTAgLTE2IDQ2IC0xOCAtMiAtMjMgLTkgLTIxIC0yMyAyIC0xMVxcbiAgICAzIC00OSAzIC04NSAwIC03MiA2IC04MyA2MCAtMTExIDU3IC0yOSA5NSAtMjUgMTQ0IDE1IDM3IDMxIDQ2IDM0IDgzIDI5IDQwXFxuICAgIC01IDQyIC01IDQyIDIxIDAgMjQgLTMgMjcgLTI3IDI0IC0yNCAtMyAtMjggMSAtMzEgMjUgLTMgMjQgMCAyOCAyMCAyNSAxMyAtMlxcbiAgICAyMyAyIDIzIDcgMCA2IC05IDkgLTIwIDggLTEzIC0yIC0yOCA5IC00NCAzMiAtMTMgMTkgLTMxIDM1IC00MSAzNSAtMTAgMCAtMjNcXG4gICAgNyAtMzAgMTUgLTE0IDE3IC0xMDUgMjEgLTExNSA1elwiKVxudmFyIGJlbDggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTUyMiA5MTkgYy0yOCAtMTEgLTIwIC0yOSAxNCAtMjkgMTQgMCAyNCA2IDI0IDE0IDAgMjEgLTExIDI1IC0zOFxcbiAgICAxNXpcIilcbnZhciBiZWw5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw5LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk02MjMgOTIyIGMtNTMgLTUgLTQzIC0zMiAxMiAtMzIgMzIgMCA0NSA0IDQ1IDE0IDAgMTcgLTE2IDIyIC01NyAxOHpcIilcbnZhciBiZWwxMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMTAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTU5NyA4NTQgYy0xMyAtMTQgNiAtMjQgNDQgLTI0IDI4IDAgMzkgNCAzOSAxNSAwIDExIC0xMSAxNSAtMzggMTVcXG4gICAgLTIxIDAgLTQyIC0zIC00NSAtNnpcIilcbnZhciBiZWwxMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMTEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTU5NyA3OTQgYy00IC00IC03IC0xOCAtNyAtMzEgMCAtMjEgNCAtMjMgNDYgLTIzIDQ0IDAgNDUgMSA0MiAyOFxcbiAgICAtMyAyMyAtOCAyNyAtMzggMzAgLTIwIDIgLTM5IDAgLTQzIC00elwiKVxudmFyIGJlbDEyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNOTg5IDg4MyBjLTM0IC00IC0zNyAtNiAtMzcgLTM3IDAgLTMyIDIgLTM0IDQ1IC00MCAyNSAtMyA3MiAtNiAxMDRcXG4gICAgLTYgbDU5IDAgMCA0NSAwIDQ1IC02NyAtMiBjLTM4IC0xIC04NCAtMyAtMTA0IC01elwiKVxudmFyIGJlbDEzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxMy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNOTkzIDcwMyBjLTQyIC00IC01NCAtMTUgLTMzIC0yOCA4IC01IDggLTExIDAgLTIwIC0xNiAtMjAgLTMgLTI0XFxuICAgIDEwNCAtMzEgbDk2IC03IDAgNDcgMCA0NiAtNjIgLTIgYy0zNSAtMSAtODIgLTMgLTEwNSAtNXpcIilcbnZhciBiZWwxNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMTQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTEwMDUgNTIzIGMtNTAgLTYgLTU5IC0xMiAtNDYgLTI2IDggLTEwIDcgLTE3IC0xIC0yNSAtNiAtNiAtOSAtMTRcXG4gICAgLTYgLTE3IDMgLTMgNTEgLTggMTA3IC0xMiBsMTAxIC02IDAgNDYgMCA0NyAtNjIgLTEgYy0zNSAtMSAtNzYgLTQgLTkzIC02elwiKVxudmFyIGJlbDE1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxNS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNNTM3IDM0NCBjLTQgLTQgLTcgLTI1IC03IC00NiBsMCAtMzggNDYgMCA0NSAwIC0zIDQzIGMtMyA0MCAtNCA0MlxcbiAgICAtMzggNDUgLTIwIDIgLTM5IDAgLTQzIC00elwiKVxudmFyIGJlbDE2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxNi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNNzE0IDM0MSBjLTIgLTIgLTQgLTIyIC00IC00MyBsMCAtMzggMjI1IDAgMjI1IDAgMCA0NSAwIDQ2IC0yMjEgLTNcXG4gICAgYy0xMjEgLTIgLTIyMiAtNSAtMjI1IC03elwiKVxudmFyIGJlbDE3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwxNy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMzA0IDIwNSBjMCAtNjYgMSAtOTIgMyAtNTcgMiAzNCAyIDg4IDAgMTIwIC0yIDMxIC0zIDMgLTMgLTYzelwiKVxuYWMoYmVsMTgsIFtcIlxcbiAgICBcIixiZWwwLFwiXFxuICAgIFwiLGJlbDEsXCJcXG4gICAgXCIsYmVsMixcIlxcbiAgICBcIixiZWwzLFwiXFxuICAgIFwiLGJlbDQsXCJcXG4gICAgXCIsYmVsNSxcIlxcbiAgICBcIixiZWw2LFwiXFxuICAgIFwiLGJlbDcsXCJcXG4gICAgXCIsYmVsOCxcIlxcbiAgICBcIixiZWw5LFwiXFxuICAgIFwiLGJlbDEwLFwiXFxuICAgIFwiLGJlbDExLFwiXFxuICAgIFwiLGJlbDEyLFwiXFxuICAgIFwiLGJlbDEzLFwiXFxuICAgIFwiLGJlbDE0LFwiXFxuICAgIFwiLGJlbDE1LFwiXFxuICAgIFwiLGJlbDE2LFwiXFxuICAgIFwiLGJlbDE3LFwiXFxuICAgIFwiXSlcbmFjKGJlbDE5LCBbXCJcXG4gICAgXCIsYmVsMTgsXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDE5XG4gICAgfSgpKSxcbiAgcGFnZV93aGl0ZTogKCkgPT5cbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWw2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIjE2LjAwMDAwMHB0XCIpXG5iZWw2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiMTYuMDAwMDAwcHRcIilcbmJlbDYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIDQ4LjAwMDAwMCA0OC4wMDAwMDBcIilcbmJlbDYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwieE1pZFlNaWQgbWVldFwiKVxuYmVsNi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb25cIilcbnZhciBiZWw1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAuMDAwMDAwLDQ4LjAwMDAwMCkgc2NhbGUoMC4xMDAwMDAsLTAuMTAwMDAwKVwiKVxuYmVsNS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCIjMDAwMDAwXCIpXG5iZWw1LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlXCIsIFwibm9uZVwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTIwIDI0MCBjMSAtMjAyIDMgLTI0MCAxNiAtMjQwIDEyIDAgMTQgMzggMTQgMjQwIDAgMjA4IC0yIDI0MCAtMTVcXG4gICAgMjQwIC0xMyAwIC0xNSAtMzEgLTE1IC0yNDB6XCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNNzUgNDcxIGMtNCAtOCAzMiAtMTEgMTE5IC0xMSBsMTI2IDAgMCAtNTAgMCAtNTAgNTAgMCBjMjggMCA1MCA1XFxuICAgIDUwIDEwIDAgNiAtMTggMTAgLTQwIDEwIGwtNDAgMCAwIDQyIDAgNDIgNDMgLTM5IDQyIC00MCAtNDMgNDUgLTQyIDQ1IC0xMjkgM1xcbiAgICBjLTg1IDIgLTEzMSAwIC0xMzYgLTd6XCIpXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMzk4IDQzNyBsNDIgLTQzIDAgLTE5NyBjMCAtMTY4IDIgLTE5NyAxNSAtMTk3IDEzIDAgMTUgMjkgMTUgMTk4XFxuICAgIGwwIDE5OCAtMzYgNDIgYy0yMSAyNSAtNDQgNDIgLTU3IDQyIC0xOCAwIC0xNiAtNiAyMSAtNDN6XCIpXG52YXIgYmVsMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNOTIgMzUzIGwyIC04OCAzIDc4IDQgNzcgODkgMCA4OSAwIDggLTQyIGM4IC00MyA5IC00MyA1NSAtNDYgNDQgLTNcXG4gICAgNDcgLTUgNTEgLTM1IDQgLTMxIDQgLTMxIDUgNiBsMiAzNyAtNTAgMCAtNTAgMCAwIDUwIDAgNTAgLTEwNSAwIC0xMDUgMCAyXFxuICAgIC04N3pcIilcbnZhciBiZWw0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWw0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk03NSAxMCBjOCAtMTMgMzMyIC0xMyAzNDAgMCA0IDcgLTU1IDEwIC0xNzAgMTAgLTExNSAwIC0xNzQgLTMgLTE3MFxcbiAgICAtMTB6XCIpXG5hYyhiZWw1LCBbXCJcXG4gICAgXCIsYmVsMCxcIlxcbiAgICBcIixiZWwxLFwiXFxuICAgIFwiLGJlbDIsXCJcXG4gICAgXCIsYmVsMyxcIlxcbiAgICBcIixiZWw0LFwiXFxuICAgIFwiXSlcbmFjKGJlbDYsIFtcIlxcbiAgICBcIixiZWw1LFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWw2XG4gICAgfSgpKVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcbmNvbnN0IFBsdWdpbiA9IHJlcXVpcmUoJy4uL1BsdWdpbicpXG5cbmNvbnN0IFByb3ZpZGVyID0gcmVxdWlyZSgnLi4vLi4vdXBweS1iYXNlL3NyYy9wbHVnaW5zL1Byb3ZpZGVyJylcblxuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uLy4uL2dlbmVyaWMtcHJvdmlkZXItdmlld3MvaW5kZXgnKVxuY29uc3QgaWNvbnMgPSByZXF1aXJlKCcuL2ljb25zJylcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBEcm9wYm94IGV4dGVuZHMgUGx1Z2luIHtcbiAgY29uc3RydWN0b3IgKGNvcmUsIG9wdHMpIHtcbiAgICBzdXBlcihjb3JlLCBvcHRzKVxuICAgIHRoaXMudHlwZSA9ICdhY3F1aXJlcidcbiAgICB0aGlzLmlkID0gJ0Ryb3Bib3gnXG4gICAgdGhpcy50aXRsZSA9ICdEcm9wYm94J1xuICAgIHRoaXMuc3RhdGVJZCA9ICdkcm9wYm94J1xuICAgIHRoaXMuaWNvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMTI4XCIpXG5iZWwzLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiMTE4XCIpXG5iZWwzLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAxMjggMTE4XCIpXG5iZWwzLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJVcHB5SWNvblwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDAuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTM4LjE0NS43NzdMMS4xMDggMjQuOTZsMjUuNjA4IDIwLjUwNyAzNy4zNDQtMjMuMDZ6XCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMS4xMDggNjUuOTc1bDM3LjAzNyAyNC4xODNMNjQuMDYgNjguNTI1bC0zNy4zNDMtMjMuMDZ6TTY0LjA2IDY4LjUyNWwyNS45MTcgMjEuNjMzIDM3LjAzNi0yNC4xODMtMjUuNjEtMjAuNTF6XCIpXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMTI3LjAxNCAyNC45Nkw4OS45NzcuNzc2IDY0LjA2IDIyLjQwN2wzNy4zNDUgMjMuMDZ6TTY0LjEzNiA3My4xOGwtMjUuOTkgMjEuNTY3LTExLjEyMi03LjI2MnY4LjE0MmwzNy4xMTIgMjIuMjU2IDM3LjExNC0yMi4yNTZ2LTguMTQybC0xMS4xMiA3LjI2MnpcIilcbmFjKGJlbDMsIFtcIlxcbiAgICAgICAgXCIsYmVsMCxcIlxcbiAgICAgICAgXCIsYmVsMSxcIlxcbiAgICAgICAgXCIsYmVsMixcIlxcbiAgICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwzXG4gICAgfSgpKVxuXG4gICAgLy8gd3JpdGluZyBvdXQgdGhlIGtleSBleHBsaWNpdGx5IGZvciByZWFkYWJpbGl0eSB0aGUga2V5IHVzZWQgdG8gc3RvcmVcbiAgICAvLyB0aGUgcHJvdmlkZXIgaW5zdGFuY2UgbXVzdCBiZSBlcXVhbCB0byB0aGlzLmlkLlxuICAgIHRoaXMuRHJvcGJveCA9IG5ldyBQcm92aWRlcih7XG4gICAgICBob3N0OiB0aGlzLm9wdHMuaG9zdCxcbiAgICAgIHByb3ZpZGVyOiAnZHJvcGJveCdcbiAgICB9KVxuXG4gICAgdGhpcy5maWxlcyA9IFtdXG5cbiAgICB0aGlzLm9uQXV0aCA9IHRoaXMub25BdXRoLmJpbmQodGhpcylcbiAgICAvLyBWaXN1YWxcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcylcblxuICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHt9XG5cbiAgICAvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgb25lcyBzZXQgYnkgdXNlclxuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRzKVxuICB9XG5cbiAgaW5zdGFsbCAoKSB7XG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcodGhpcylcbiAgICAvLyBTZXQgZGVmYXVsdCBzdGF0ZVxuICAgIHRoaXMuY29yZS5zZXRTdGF0ZSh7XG4gICAgICAvLyB3cml0aW5nIG91dCB0aGUga2V5IGV4cGxpY2l0bHkgZm9yIHJlYWRhYmlsaXR5IHRoZSBrZXkgdXNlZCB0byBzdG9yZVxuICAgICAgLy8gdGhlIHBsdWdpbiBzdGF0ZSBtdXN0IGJlIGVxdWFsIHRvIHRoaXMuc3RhdGVJZC5cbiAgICAgIGRyb3Bib3g6IHtcbiAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIGZpbGVzOiBbXSxcbiAgICAgICAgZm9sZGVyczogW10sXG4gICAgICAgIGRpcmVjdG9yaWVzOiBbXSxcbiAgICAgICAgYWN0aXZlUm93OiAtMSxcbiAgICAgICAgZmlsdGVySW5wdXQ6ICcnXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMub3B0cy50YXJnZXRcbiAgICBjb25zdCBwbHVnaW4gPSB0aGlzXG4gICAgdGhpcy50YXJnZXQgPSB0aGlzLm1vdW50KHRhcmdldCwgcGx1Z2luKVxuXG4gICAgdGhpc1t0aGlzLmlkXS5hdXRoKCkudGhlbih0aGlzLm9uQXV0aClcblxuICAgIHJldHVyblxuICB9XG5cbiAgb25BdXRoIChhdXRoZW50aWNhdGVkKSB7XG4gICAgdGhpcy52aWV3LnVwZGF0ZVN0YXRlKHthdXRoZW50aWNhdGVkfSlcbiAgICBpZiAoYXV0aGVudGljYXRlZCkge1xuICAgICAgdGhpcy52aWV3LmdldEZvbGRlcigpXG4gICAgfVxuICB9XG5cbiAgaXNGb2xkZXIgKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5pc19kaXJcbiAgfVxuXG4gIGdldEl0ZW1EYXRhIChpdGVtKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtzaXplOiBpdGVtLmJ5dGVzfSlcbiAgfVxuXG4gIGdldEl0ZW1JY29uIChpdGVtKSB7XG4gICAgdmFyIGljb24gPSBpY29uc1tpdGVtLmljb25dXG5cbiAgICBpZiAoIWljb24pIHtcbiAgICAgIGlmIChpdGVtLmljb24uc3RhcnRzV2l0aCgnZm9sZGVyJykpIHtcbiAgICAgICAgaWNvbiA9IGljb25zWydmb2xkZXInXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWNvbiA9IGljb25zWydwYWdlX3doaXRlJ11cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGljb24oKVxuICB9XG5cbiAgZ2V0SXRlbVN1Ykxpc3QgKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5jb250ZW50c1xuICB9XG5cbiAgZ2V0SXRlbU5hbWUgKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5wYXRoLmxlbmd0aCA+IDEgPyBpdGVtLnBhdGguc3Vic3RyaW5nKDEpIDogaXRlbS5wYXRoXG4gIH1cblxuICBnZXRNaW1lVHlwZSAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLm1pbWVfdHlwZVxuICB9XG5cbiAgZ2V0SXRlbUlkIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0ucmV2XG4gIH1cblxuICBnZXRJdGVtUmVxdWVzdFBhdGggKGl0ZW0pIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZ2V0SXRlbU5hbWUoaXRlbSkpXG4gIH1cblxuICBnZXRJdGVtTW9kaWZpZWREYXRlIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0ubW9kaWZpZWRcbiAgfVxuXG4gIHJlbmRlciAoc3RhdGUpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LnJlbmRlcihzdGF0ZSlcbiAgfVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcbmNvbnN0IFBsdWdpbiA9IHJlcXVpcmUoJy4uL1BsdWdpbicpXG5cbmNvbnN0IFByb3ZpZGVyID0gcmVxdWlyZSgnLi4vLi4vdXBweS1iYXNlL3NyYy9wbHVnaW5zL1Byb3ZpZGVyJylcblxuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uLy4uL2dlbmVyaWMtcHJvdmlkZXItdmlld3MvaW5kZXgnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEdvb2dsZSBleHRlbmRzIFBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yIChjb3JlLCBvcHRzKSB7XG4gICAgc3VwZXIoY29yZSwgb3B0cylcbiAgICB0aGlzLnR5cGUgPSAnYWNxdWlyZXInXG4gICAgdGhpcy5pZCA9ICdHb29nbGVEcml2ZSdcbiAgICB0aGlzLnRpdGxlID0gJ0dvb2dsZSBEcml2ZSdcbiAgICB0aGlzLnN0YXRlSWQgPSAnZ29vZ2xlRHJpdmUnXG4gICAgdGhpcy5pY29uID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCIyOFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjI4XCIpXG5iZWwxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAxNiAxNlwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwiVXBweUljb24gVXBweU1vZGFsVGFiLWljb25cIilcbnZhciBiZWwwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpXG5iZWwwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIk0yLjk1NSAxNC45M2wyLjY2Ny00LjYySDE2bC0yLjY2NyA0LjYySDIuOTU1em0yLjM3OC00LjYybC0yLjY2NiA0LjYyTDAgMTAuMzFsNS4xOS04Ljk5IDIuNjY2IDQuNjItMi41MjMgNC4zN3ptMTAuNTIzLS4yNWgtNS4zMzNsLTUuMTktOC45OWg1LjMzNGw1LjE5IDguOTl6XCIpXG5hYyhiZWwxLCBbXCJcXG4gICAgICAgIFwiLGJlbDAsXCJcXG4gICAgICBcIl0pXG4gICAgICByZXR1cm4gYmVsMVxuICAgIH0oKSlcblxuICAgIC8vIHdyaXRpbmcgb3V0IHRoZSBrZXkgZXhwbGljaXRseSBmb3IgcmVhZGFiaWxpdHkgdGhlIGtleSB1c2VkIHRvIHN0b3JlXG4gICAgLy8gdGhlIHByb3ZpZGVyIGluc3RhbmNlIG11c3QgYmUgZXF1YWwgdG8gdGhpcy5pZC5cbiAgICB0aGlzLkdvb2dsZURyaXZlID0gbmV3IFByb3ZpZGVyKHtcbiAgICAgIGhvc3Q6IHRoaXMub3B0cy5ob3N0LFxuICAgICAgcHJvdmlkZXI6ICdkcml2ZScsXG4gICAgICBhdXRoUHJvdmlkZXI6ICdnb29nbGUnXG4gICAgfSlcblxuICAgIHRoaXMuZmlsZXMgPSBbXVxuXG4gICAgdGhpcy5vbkF1dGggPSB0aGlzLm9uQXV0aC5iaW5kKHRoaXMpXG4gICAgLy8gVmlzdWFsXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpXG5cbiAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7fVxuXG4gICAgLy8gbWVyZ2UgZGVmYXVsdCBvcHRpb25zIHdpdGggdGhlIG9uZXMgc2V0IGJ5IHVzZXJcbiAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cylcbiAgfVxuXG4gIGluc3RhbGwgKCkge1xuICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KHRoaXMpXG4gICAgLy8gU2V0IGRlZmF1bHQgc3RhdGUgZm9yIEdvb2dsZSBEcml2ZVxuICAgIHRoaXMuY29yZS5zZXRTdGF0ZSh7XG4gICAgICAvLyB3cml0aW5nIG91dCB0aGUga2V5IGV4cGxpY2l0bHkgZm9yIHJlYWRhYmlsaXR5IHRoZSBrZXkgdXNlZCB0byBzdG9yZVxuICAgICAgLy8gdGhlIHBsdWdpbiBzdGF0ZSBtdXN0IGJlIGVxdWFsIHRvIHRoaXMuc3RhdGVJZC5cbiAgICAgIGdvb2dsZURyaXZlOiB7XG4gICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBmaWxlczogW10sXG4gICAgICAgIGZvbGRlcnM6IFtdLFxuICAgICAgICBkaXJlY3RvcmllczogW10sXG4gICAgICAgIGFjdGl2ZVJvdzogLTEsXG4gICAgICAgIGZpbHRlcklucHV0OiAnJ1xuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLm9wdHMudGFyZ2V0XG4gICAgY29uc3QgcGx1Z2luID0gdGhpc1xuICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb3VudCh0YXJnZXQsIHBsdWdpbilcblxuICAgIC8vIGNhdGNoIGVycm9yIGhlcmUuXG4gICAgdGhpc1t0aGlzLmlkXS5hdXRoKCkudGhlbih0aGlzLm9uQXV0aClcbiAgICByZXR1cm5cbiAgfVxuXG4gIG9uQXV0aCAoYXV0aGVudGljYXRlZCkge1xuICAgIHRoaXMudmlldy51cGRhdGVTdGF0ZSh7YXV0aGVudGljYXRlZH0pXG4gICAgaWYgKGF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHRoaXMudmlldy5nZXRGb2xkZXIoJ3Jvb3QnKVxuICAgIH1cbiAgfVxuXG4gIGlzRm9sZGVyIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0ubWltZVR5cGUgPT09ICdhcHBsaWNhdGlvbi92bmQuZ29vZ2xlLWFwcHMuZm9sZGVyJ1xuICB9XG5cbiAgZ2V0SXRlbURhdGEgKGl0ZW0pIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge3NpemU6IHBhcnNlRmxvYXQoaXRlbS5maWxlU2l6ZSl9KVxuICB9XG5cbiAgZ2V0SXRlbUljb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIilcbmJlbDAuc2V0QXR0cmlidXRlKFwic3JjXCIsIGFyZ3VtZW50c1swXSlcbiAgICAgIHJldHVybiBiZWwwXG4gICAgfShpdGVtLmljb25MaW5rKSlcbiAgfVxuXG4gIGdldEl0ZW1TdWJMaXN0IChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uaXRlbXNcbiAgfVxuXG4gIGdldEl0ZW1OYW1lIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0udGl0bGUgPyBpdGVtLnRpdGxlIDogJy8nXG4gIH1cblxuICBnZXRNaW1lVHlwZSAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLm1pbWVUeXBlXG4gIH1cblxuICBnZXRJdGVtSWQgKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5pZFxuICB9XG5cbiAgZ2V0SXRlbVJlcXVlc3RQYXRoIChpdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUlkKGl0ZW0pXG4gIH1cblxuICBnZXRJdGVtTW9kaWZpZWREYXRlIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0ubW9kaWZpZWRCeU1lRGF0ZVxuICB9XG5cbiAgcmVuZGVyIChzdGF0ZSkge1xuICAgIHJldHVybiB0aGlzLnZpZXcucmVuZGVyKHN0YXRlKVxuICB9XG59XG4iLCJjb25zdCBQbHVnaW4gPSByZXF1aXJlKCcuL1BsdWdpbicpXG5jb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuXG4vKipcbiAqIEluZm9ybWVyXG4gKiBTaG93cyByYWQgbWVzc2FnZSBidWJibGVzXG4gKiB1c2VkIGxpa2UgdGhpczogYGJ1cy5lbWl0KCdpbmZvcm1lcicsICdoZWxsbyB3b3JsZCcsICdpbmZvJywgNTAwMClgXG4gKiBvciBmb3IgZXJyb3JzOiBgYnVzLmVtaXQoJ2luZm9ybWVyJywgJ0Vycm9yIHVwbG9hZGluZyBpbWcuanBnJywgJ2Vycm9yJywgNTAwMClgXG4gKlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEluZm9ybWVyIGV4dGVuZHMgUGx1Z2luIHtcbiAgY29uc3RydWN0b3IgKGNvcmUsIG9wdHMpIHtcbiAgICBzdXBlcihjb3JlLCBvcHRzKVxuICAgIHRoaXMudHlwZSA9ICdwcm9ncmVzc2luZGljYXRvcidcbiAgICB0aGlzLmlkID0gJ0luZm9ybWVyJ1xuICAgIHRoaXMudGl0bGUgPSAnSW5mb3JtZXInXG4gICAgdGhpcy50aW1lb3V0SUQgPSB1bmRlZmluZWRcblxuICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHt9XG5cbiAgICAvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgb25lcyBzZXQgYnkgdXNlclxuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRzKVxuICB9XG5cbiAgc2hvd0luZm9ybWVyIChtc2csIHR5cGUsIGR1cmF0aW9uKSB7XG4gICAgdGhpcy5jb3JlLnNldFN0YXRlKHtcbiAgICAgIGluZm9ybWVyOiB7XG4gICAgICAgIGlzSGlkZGVuOiBmYWxzZSxcbiAgICAgICAgbXNnOiBtc2dcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJRClcbiAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcbiAgICAgIHRoaXMudGltZW91dElEID0gdW5kZWZpbmVkXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBoaWRlIHRoZSBpbmZvcm1lciBhZnRlciBgZHVyYXRpb25gIG1pbGxpc2Vjb25kc1xuICAgIHRoaXMudGltZW91dElEID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBuZXdJbmZvcm1lciA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29yZS5nZXRTdGF0ZSgpLmluZm9ybWVyLCB7XG4gICAgICAgIGlzSGlkZGVuOiB0cnVlXG4gICAgICB9KVxuICAgICAgdGhpcy5jb3JlLnNldFN0YXRlKHtcbiAgICAgICAgaW5mb3JtZXI6IG5ld0luZm9ybWVyXG4gICAgICB9KVxuICAgIH0sIGR1cmF0aW9uKVxuICB9XG5cbiAgaGlkZUluZm9ybWVyICgpIHtcbiAgICBjb25zdCBuZXdJbmZvcm1lciA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29yZS5nZXRTdGF0ZSgpLmluZm9ybWVyLCB7XG4gICAgICBpc0hpZGRlbjogdHJ1ZVxuICAgIH0pXG4gICAgdGhpcy5jb3JlLnNldFN0YXRlKHtcbiAgICAgIGluZm9ybWVyOiBuZXdJbmZvcm1lclxuICAgIH0pXG4gIH1cblxuICByZW5kZXIgKHN0YXRlKSB7XG4gICAgY29uc3QgbXNnID0gc3RhdGUuaW5mb3JtZXIubXNnXG4gICAgY29uc3QgaXNIaWRkZW4gPSBzdGF0ZS5pbmZvcm1lci5pc0hpZGRlblxuXG4gICAgLy8gQFRPRE8gYWRkIGFyaWEtbGl2ZSBmb3Igc2NyZWVuLXJlYWRlcnNcbiAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDEuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgYXJndW1lbnRzWzFdKVxuYmVsMS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlJbmZvcm1lclwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuYWMoYmVsMCwgW2FyZ3VtZW50c1swXV0pXG5hYyhiZWwxLCBbXCJcXG4gICAgICBcIixiZWwwLFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwxXG4gICAgfShtc2csaXNIaWRkZW4pKVxuICB9XG5cbiAgaW5zdGFsbCAoKSB7XG4gICAgLy8gU2V0IGRlZmF1bHQgc3RhdGUgZm9yIEdvb2dsZSBEcml2ZVxuICAgIHRoaXMuY29yZS5zZXRTdGF0ZSh7XG4gICAgICBpbmZvcm1lcjoge1xuICAgICAgICBpc0hpZGRlbjogdHJ1ZSxcbiAgICAgICAgbXNnOiAnJ1xuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCBidXMgPSB0aGlzLmNvcmUuYnVzXG5cbiAgICBidXMub24oJ2luZm9ybWVyJywgKG1zZywgdHlwZSwgZHVyYXRpb24pID0+IHtcbiAgICAgIHRoaXMuc2hvd0luZm9ybWVyKG1zZywgdHlwZSwgZHVyYXRpb24pXG4gICAgfSlcblxuICAgIGJ1cy5vbignaW5mb3JtZXI6aGlkZScsICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZUluZm9ybWVyKClcbiAgICB9KVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5vcHRzLnRhcmdldFxuICAgIGNvbnN0IHBsdWdpbiA9IHRoaXNcbiAgICB0aGlzLnRhcmdldCA9IHRoaXMubW91bnQodGFyZ2V0LCBwbHVnaW4pXG4gIH1cbn1cbiIsImNvbnN0IFBsdWdpbiA9IHJlcXVpcmUoJy4vUGx1Z2luJylcblxuLyoqXG4gKiBNZXRhIERhdGFcbiAqIEFkZHMgbWV0YWRhdGEgZmllbGRzIHRvIFVwcHlcbiAqXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgTWV0YURhdGEgZXh0ZW5kcyBQbHVnaW4ge1xuICBjb25zdHJ1Y3RvciAoY29yZSwgb3B0cykge1xuICAgIHN1cGVyKGNvcmUsIG9wdHMpXG4gICAgdGhpcy50eXBlID0gJ21vZGlmaWVyJ1xuICAgIHRoaXMuaWQgPSAnTWV0YURhdGEnXG4gICAgdGhpcy50aXRsZSA9ICdNZXRhIERhdGEnXG5cbiAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7fVxuXG4gICAgLy8gbWVyZ2UgZGVmYXVsdCBvcHRpb25zIHdpdGggdGhlIG9uZXMgc2V0IGJ5IHVzZXJcbiAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cylcbiAgfVxuXG4gIGFkZEluaXRpYWxNZXRhICgpIHtcbiAgICBjb25zdCBtZXRhRmllbGRzID0gdGhpcy5vcHRzLmZpZWxkc1xuXG4gICAgdGhpcy5jb3JlLnNldFN0YXRlKHtcbiAgICAgIG1ldGFGaWVsZHM6IG1ldGFGaWVsZHNcbiAgICB9KVxuXG4gICAgdGhpcy5jb3JlLmVtaXR0ZXIub24oJ2ZpbGUtYWRkZWQnLCAoZmlsZUlEKSA9PiB7XG4gICAgICBtZXRhRmllbGRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgb2JqID0ge31cbiAgICAgICAgb2JqW2l0ZW0uaWRdID0gaXRlbS52YWx1ZVxuICAgICAgICB0aGlzLmNvcmUudXBkYXRlTWV0YShvYmosIGZpbGVJRClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGluc3RhbGwgKCkge1xuICAgIHRoaXMuYWRkSW5pdGlhbE1ldGEoKVxuICB9XG59XG4iLCJjb25zdCB5byA9IHJlcXVpcmUoJ3lvLXlvJylcblxuLyoqXG4gKiBCb2lsZXJwbGF0ZSB0aGF0IGFsbCBQbHVnaW5zIHNoYXJlIC0gYW5kIHNob3VsZCBub3QgYmUgdXNlZFxuICogZGlyZWN0bHkuIEl0IGFsc28gc2hvd3Mgd2hpY2ggbWV0aG9kcyBmaW5hbCBwbHVnaW5zIHNob3VsZCBpbXBsZW1lbnQvb3ZlcnJpZGUsXG4gKiB0aGlzIGRlY2lkaW5nIG9uIHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbWFpbiBVcHB5IGNvcmUgb2JqZWN0XG4gKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IHdpdGggcGx1Z2luIG9wdGlvbnNcbiAqIEByZXR1cm4ge2FycmF5IHwgc3RyaW5nfSBmaWxlcyBvciBzdWNjZXNzL2ZhaWwgbWVzc2FnZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBsdWdpbiB7XG5cbiAgY29uc3RydWN0b3IgKGNvcmUsIG9wdHMpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlXG4gICAgdGhpcy5vcHRzID0gb3B0cyB8fCB7fVxuICAgIHRoaXMudHlwZSA9ICdub25lJ1xuXG4gICAgLy8gY2xlYXIgZXZlcnl0aGluZyBpbnNpZGUgdGhlIHRhcmdldCBzZWxlY3RvclxuICAgIHRoaXMub3B0cy5yZXBsYWNlVGFyZ2V0Q29udGVudCA9PT0gdGhpcy5vcHRzLnJlcGxhY2VUYXJnZXRDb250ZW50IHx8IHRydWVcblxuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKVxuICAgIHRoaXMubW91bnQgPSB0aGlzLm1vdW50LmJpbmQodGhpcylcbiAgICB0aGlzLmZvY3VzID0gdGhpcy5mb2N1cy5iaW5kKHRoaXMpXG4gICAgdGhpcy5pbnN0YWxsID0gdGhpcy5pbnN0YWxsLmJpbmQodGhpcylcbiAgfVxuXG4gIHVwZGF0ZSAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBuZXdFbCA9IHRoaXMucmVuZGVyKHN0YXRlKVxuICAgIHlvLnVwZGF0ZSh0aGlzLmVsLCBuZXdFbClcblxuICAgIC8vIG9wdGltaXplcyBwZXJmb3JtYW5jZT9cbiAgICAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIC8vICAgY29uc3QgbmV3RWwgPSB0aGlzLnJlbmRlcihzdGF0ZSlcbiAgICAvLyAgIHlvLnVwZGF0ZSh0aGlzLmVsLCBuZXdFbClcbiAgICAvLyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHN1cHBsaWVkIGB0YXJnZXRgIGlzIGEgYHN0cmluZ2Agb3IgYW4gYG9iamVjdGAuXG4gICAqIElmIGl04oCZcyBhbiBvYmplY3Qg4oCUIHRhcmdldCBpcyBhIHBsdWdpbiwgYW5kIHdlIHNlYXJjaCBgcGx1Z2luc2BcbiAgICogZm9yIGEgcGx1Z2luIHdpdGggc2FtZSBuYW1lIGFuZCByZXR1cm4gaXRzIHRhcmdldC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSB0YXJnZXRcbiAgICpcbiAgICovXG4gIG1vdW50ICh0YXJnZXQsIHBsdWdpbikge1xuICAgIGNvbnN0IGNhbGxlclBsdWdpbk5hbWUgPSBwbHVnaW4uaWRcblxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5jb3JlLmxvZyhgSW5zdGFsbGluZyAke2NhbGxlclBsdWdpbk5hbWV9IHRvICR7dGFyZ2V0fWApXG5cbiAgICAgIC8vIGNsZWFyIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSB0YXJnZXQgY29udGFpbmVyXG4gICAgICBpZiAodGhpcy5vcHRzLnJlcGxhY2VUYXJnZXRDb250ZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KS5pbm5lckhUTUwgPSAnJ1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVsID0gcGx1Z2luLnJlbmRlcih0aGlzLmNvcmUuc3RhdGUpXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCkuYXBwZW5kQ2hpbGQodGhpcy5lbClcblxuICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPOiBpcyBpbnN0YW50aWF0aW5nIHRoZSBwbHVnaW4gcmVhbGx5IHRoZSB3YXkgdG8gcm9sbFxuICAgICAgLy8ganVzdCB0byBnZXQgdGhlIHBsdWdpbiBuYW1lP1xuICAgICAgY29uc3QgVGFyZ2V0ID0gdGFyZ2V0XG4gICAgICBjb25zdCB0YXJnZXRQbHVnaW5OYW1lID0gbmV3IFRhcmdldCgpLmlkXG5cbiAgICAgIHRoaXMuY29yZS5sb2coYEluc3RhbGxpbmcgJHtjYWxsZXJQbHVnaW5OYW1lfSB0byAke3RhcmdldFBsdWdpbk5hbWV9YClcblxuICAgICAgY29uc3QgdGFyZ2V0UGx1Z2luID0gdGhpcy5jb3JlLmdldFBsdWdpbih0YXJnZXRQbHVnaW5OYW1lKVxuICAgICAgY29uc3Qgc2VsZWN0b3JUYXJnZXQgPSB0YXJnZXRQbHVnaW4uYWRkVGFyZ2V0KHBsdWdpbilcblxuICAgICAgcmV0dXJuIHNlbGVjdG9yVGFyZ2V0XG4gICAgfVxuICB9XG5cbiAgZm9jdXMgKCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaW5zdGFsbCAoKSB7XG4gICAgcmV0dXJuXG4gIH1cbn1cbiIsImNvbnN0IFBsdWdpbiA9IHJlcXVpcmUoJy4vUGx1Z2luJylcbmNvbnN0IHR1cyA9IHJlcXVpcmUoJ3R1cy1qcy1jbGllbnQnKVxuY29uc3QgVXBweVNvY2tldCA9IHJlcXVpcmUoJy4uL2NvcmUvVXBweVNvY2tldCcpXG5cbi8qKlxuICogVHVzIHJlc3VtYWJsZSBmaWxlIHVwbG9hZGVyXG4gKlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFR1czEwIGV4dGVuZHMgUGx1Z2luIHtcbiAgY29uc3RydWN0b3IgKGNvcmUsIG9wdHMpIHtcbiAgICBzdXBlcihjb3JlLCBvcHRzKVxuICAgIHRoaXMudHlwZSA9ICd1cGxvYWRlcidcbiAgICB0aGlzLmlkID0gJ1R1cydcbiAgICB0aGlzLnRpdGxlID0gJ1R1cydcblxuICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIHJlc3VtZTogdHJ1ZSxcbiAgICAgIGFsbG93UGF1c2U6IHRydWVcbiAgICB9XG5cbiAgICAvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgb25lcyBzZXQgYnkgdXNlclxuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRzKVxuICB9XG5cbiAgcGF1c2VSZXN1bWUgKGFjdGlvbiwgZmlsZUlEKSB7XG4gICAgY29uc3QgdXBkYXRlZEZpbGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb3JlLmdldFN0YXRlKCkuZmlsZXMpXG4gICAgY29uc3QgaW5Qcm9ncmVzc1VwZGF0ZWRGaWxlcyA9IE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykuZmlsdGVyKChmaWxlKSA9PiB7XG4gICAgICByZXR1cm4gIXVwZGF0ZWRGaWxlc1tmaWxlXS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZSAmJlxuICAgICAgICAgICAgIHVwZGF0ZWRGaWxlc1tmaWxlXS5wcm9ncmVzcy51cGxvYWRTdGFydGVkXG4gICAgfSlcblxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlICd0b2dnbGUnOlxuICAgICAgICBpZiAodXBkYXRlZEZpbGVzW2ZpbGVJRF0udXBsb2FkQ29tcGxldGUpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHdhc1BhdXNlZCA9IHVwZGF0ZWRGaWxlc1tmaWxlSURdLmlzUGF1c2VkIHx8IGZhbHNlXG4gICAgICAgIGNvbnN0IGlzUGF1c2VkID0gIXdhc1BhdXNlZFxuICAgICAgICBsZXQgdXBkYXRlZEZpbGVcbiAgICAgICAgaWYgKHdhc1BhdXNlZCkge1xuICAgICAgICAgIHVwZGF0ZWRGaWxlID0gT2JqZWN0LmFzc2lnbih7fSwgdXBkYXRlZEZpbGVzW2ZpbGVJRF0sIHtcbiAgICAgICAgICAgIGlzUGF1c2VkOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlZEZpbGUgPSBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkRmlsZXNbZmlsZUlEXSwge1xuICAgICAgICAgICAgaXNQYXVzZWQ6IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZWRGaWxlc1tmaWxlSURdID0gdXBkYXRlZEZpbGVcbiAgICAgICAgdGhpcy5jb3JlLnNldFN0YXRlKHtmaWxlczogdXBkYXRlZEZpbGVzfSlcbiAgICAgICAgcmV0dXJuIGlzUGF1c2VkXG4gICAgICBjYXNlICdwYXVzZUFsbCc6XG4gICAgICAgIGluUHJvZ3Jlc3NVcGRhdGVkRmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlID0gT2JqZWN0LmFzc2lnbih7fSwgdXBkYXRlZEZpbGVzW2ZpbGVdLCB7XG4gICAgICAgICAgICBpc1BhdXNlZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdXBkYXRlZEZpbGVzW2ZpbGVdID0gdXBkYXRlZEZpbGVcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5jb3JlLnNldFN0YXRlKHtmaWxlczogdXBkYXRlZEZpbGVzfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICBjYXNlICdyZXN1bWVBbGwnOlxuICAgICAgICBpblByb2dyZXNzVXBkYXRlZEZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkRmlsZSA9IE9iamVjdC5hc3NpZ24oe30sIHVwZGF0ZWRGaWxlc1tmaWxlXSwge1xuICAgICAgICAgICAgaXNQYXVzZWQ6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICB1cGRhdGVkRmlsZXNbZmlsZV0gPSB1cGRhdGVkRmlsZVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNvcmUuc2V0U3RhdGUoe2ZpbGVzOiB1cGRhdGVkRmlsZXN9KVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgVHVzIHVwbG9hZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBmaWxlIGZvciB1c2Ugd2l0aCB1cGxvYWRcbiAqIEBwYXJhbSB7aW50ZWdlcn0gY3VycmVudCBmaWxlIGluIGEgcXVldWVcbiAqIEBwYXJhbSB7aW50ZWdlcn0gdG90YWwgbnVtYmVyIG9mIGZpbGVzIGluIGEgcXVldWVcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG4gIHVwbG9hZCAoZmlsZSwgY3VycmVudCwgdG90YWwpIHtcbiAgICB0aGlzLmNvcmUubG9nKGB1cGxvYWRpbmcgJHtjdXJyZW50fSBvZiAke3RvdGFsfWApXG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgdHVzIHVwbG9hZFxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB1cGxvYWQgPSBuZXcgdHVzLlVwbG9hZChmaWxlLmRhdGEsIHtcblxuICAgICAgICAvLyBUT0RPIG1lcmdlIHRoaXMub3B0cyBvciB0aGlzLm9wdHMudHVzIGhlcmVcbiAgICAgICAgbWV0YWRhdGE6IGZpbGUubWV0YSxcbiAgICAgICAgcmVzdW1lOiB0aGlzLm9wdHMucmVzdW1lLFxuICAgICAgICBlbmRwb2ludDogdGhpcy5vcHRzLmVuZHBvaW50LFxuXG4gICAgICAgIG9uRXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmNvcmUubG9nKGVycilcbiAgICAgICAgICB0aGlzLmNvcmUuZW1pdHRlci5lbWl0KCdjb3JlOnVwbG9hZC1lcnJvcicsIGZpbGUuaWQpXG4gICAgICAgICAgcmVqZWN0KCdGYWlsZWQgYmVjYXVzZTogJyArIGVycilcbiAgICAgICAgfSxcbiAgICAgICAgb25Qcm9ncmVzczogKGJ5dGVzVXBsb2FkZWQsIGJ5dGVzVG90YWwpID0+IHtcbiAgICAgICAgICAvLyBEaXNwYXRjaCBwcm9ncmVzcyBldmVudFxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ5dGVzVXBsb2FkZWQsIGJ5dGVzVG90YWwpXG4gICAgICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTp1cGxvYWQtcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICB1cGxvYWRlcjogdGhpcyxcbiAgICAgICAgICAgIGlkOiBmaWxlLmlkLFxuICAgICAgICAgICAgYnl0ZXNVcGxvYWRlZDogYnl0ZXNVcGxvYWRlZCxcbiAgICAgICAgICAgIGJ5dGVzVG90YWw6IGJ5dGVzVG90YWxcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvcmUuZW1pdHRlci5lbWl0KCdjb3JlOnVwbG9hZC1zdWNjZXNzJywgZmlsZS5pZCwgdXBsb2FkLnVybClcblxuICAgICAgICAgIHRoaXMuY29yZS5sb2coYERvd25sb2FkICR7dXBsb2FkLmZpbGUubmFtZX0gZnJvbSAke3VwbG9hZC51cmx9YClcbiAgICAgICAgICByZXNvbHZlKHVwbG9hZClcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgdGhpcy5vbkZpbGVSZW1vdmUoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZpbmcgZmlsZTogJywgZmlsZS5pZClcbiAgICAgICAgdXBsb2FkLmFib3J0KClcbiAgICAgICAgcmVzb2x2ZShgdXBsb2FkICR7ZmlsZS5pZH0gd2FzIHJlbW92ZWRgKVxuICAgICAgfSlcblxuICAgICAgdGhpcy5vblBhdXNlKGZpbGUuaWQsIChpc1BhdXNlZCkgPT4ge1xuICAgICAgICBpc1BhdXNlZCA/IHVwbG9hZC5hYm9ydCgpIDogdXBsb2FkLnN0YXJ0KClcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMub25QYXVzZUFsbChmaWxlLmlkLCAoKSA9PiB7XG4gICAgICAgIHVwbG9hZC5hYm9ydCgpXG4gICAgICB9KVxuXG4gICAgICB0aGlzLm9uUmVzdW1lQWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgdXBsb2FkLnN0YXJ0KClcbiAgICAgIH0pXG5cbiAgICAgIHVwbG9hZC5zdGFydCgpXG4gICAgICB0aGlzLmNvcmUuZW1pdHRlci5lbWl0KCdjb3JlOnVwbG9hZC1zdGFydGVkJywgZmlsZS5pZCwgdXBsb2FkKVxuICAgIH0pXG4gIH1cblxuICB1cGxvYWRSZW1vdGUgKGZpbGUsIGN1cnJlbnQsIHRvdGFsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuY29yZS5sb2coZmlsZS5yZW1vdGUudXJsKVxuICAgICAgZmV0Y2goZmlsZS5yZW1vdGUudXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oe30sIGZpbGUucmVtb3RlLmJvZHksIHtcbiAgICAgICAgICBlbmRwb2ludDogdGhpcy5vcHRzLmVuZHBvaW50LFxuICAgICAgICAgIHByb3RvY29sOiAndHVzJ1xuICAgICAgICB9KSlcbiAgICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMuc3RhdHVzIDwgMjAwICYmIHJlcy5zdGF0dXMgPiAzMDApIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KHJlcy5zdGF0dXNUZXh0KVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTp1cGxvYWQtc3RhcnRlZCcsIGZpbGUuaWQpXG5cbiAgICAgICAgcmVzLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgLy8gZ2V0IHRoZSBob3N0IGRvbWFpblxuICAgICAgICAgIHZhciByZWdleCA9IC9eKD86aHR0cHM/OlxcL1xcL3xcXC9cXC8pPyg/OlteQFxcL1xcbl0rQCk/KD86d3d3XFwuKT8oW15cXC9cXG5dKykvXG4gICAgICAgICAgdmFyIGhvc3QgPSByZWdleC5leGVjKGZpbGUucmVtb3RlLmhvc3QpWzFdXG4gICAgICAgICAgdmFyIHNvY2tldFByb3RvY29sID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzcycgOiAnd3MnXG5cbiAgICAgICAgICB2YXIgdG9rZW4gPSBkYXRhLnRva2VuXG4gICAgICAgICAgdmFyIHNvY2tldCA9IG5ldyBVcHB5U29ja2V0KHtcbiAgICAgICAgICAgIHRhcmdldDogc29ja2V0UHJvdG9jb2wgKyBgOi8vJHtob3N0fS9hcGkvJHt0b2tlbn1gXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHRoaXMub25GaWxlUmVtb3ZlKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KVxuICAgICAgICAgICAgcmVzb2x2ZShgdXBsb2FkICR7ZmlsZS5pZH0gd2FzIHJlbW92ZWRgKVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aGlzLm9uUGF1c2UoZmlsZS5pZCwgKGlzUGF1c2VkKSA9PiB7XG4gICAgICAgICAgICBpc1BhdXNlZCA/IHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KSA6IHNvY2tldC5zZW5kKCdyZXN1bWUnLCB7fSlcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgdGhpcy5vblBhdXNlQWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aGlzLm9uUmVzdW1lQWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdyZXN1bWUnLCB7fSlcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc29ja2V0Lm9uKCdwcm9ncmVzcycsIChwcm9ncmVzc0RhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtwcm9ncmVzcywgYnl0ZXNVcGxvYWRlZCwgYnl0ZXNUb3RhbH0gPSBwcm9ncmVzc0RhdGFcblxuICAgICAgICAgICAgaWYgKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgIHRoaXMuY29yZS5sb2coYFVwbG9hZCBwcm9ncmVzczogJHtwcm9ncmVzc31gKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlLmlkKVxuXG4gICAgICAgICAgICAgIHRoaXMuY29yZS5lbWl0dGVyLmVtaXQoJ2NvcmU6dXBsb2FkLXByb2dyZXNzJywge1xuICAgICAgICAgICAgICAgIHVwbG9hZGVyOiB0aGlzLFxuICAgICAgICAgICAgICAgIGlkOiBmaWxlLmlkLFxuICAgICAgICAgICAgICAgIGJ5dGVzVXBsb2FkZWQ6IGJ5dGVzVXBsb2FkZWQsXG4gICAgICAgICAgICAgICAgYnl0ZXNUb3RhbDogYnl0ZXNUb3RhbFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzb2NrZXQub24oJ3N1Y2Nlc3MnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnY29yZTp1cGxvYWQtc3VjY2VzcycsIGZpbGUuaWQsIGRhdGEudXJsKVxuICAgICAgICAgICAgc29ja2V0LmNsb3NlKClcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKClcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgb25GaWxlUmVtb3ZlIChmaWxlSUQsIGNiKSB7XG4gICAgdGhpcy5jb3JlLmVtaXR0ZXIub24oJ2NvcmU6ZmlsZS1yZW1vdmUnLCAodGFyZ2V0RmlsZUlEKSA9PiB7XG4gICAgICBpZiAoZmlsZUlEID09PSB0YXJnZXRGaWxlSUQpIGNiKClcbiAgICB9KVxuICB9XG5cbiAgb25QYXVzZSAoZmlsZUlELCBjYikge1xuICAgIHRoaXMuY29yZS5lbWl0dGVyLm9uKCdjb3JlOnVwbG9hZC1wYXVzZScsICh0YXJnZXRGaWxlSUQpID0+IHtcbiAgICAgIGlmIChmaWxlSUQgPT09IHRhcmdldEZpbGVJRCkge1xuICAgICAgICBjb25zdCBpc1BhdXNlZCA9IHRoaXMucGF1c2VSZXN1bWUoJ3RvZ2dsZScsIGZpbGVJRClcbiAgICAgICAgY2IoaXNQYXVzZWQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIG9uUGF1c2VBbGwgKGZpbGVJRCwgY2IpIHtcbiAgICB0aGlzLmNvcmUuZW1pdHRlci5vbignY29yZTpwYXVzZS1hbGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IHRoaXMuY29yZS5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgICBpZiAoIWZpbGVzW2ZpbGVJRF0pIHJldHVyblxuICAgICAgY2IoKVxuICAgIH0pXG4gIH1cblxuICBvblJlc3VtZUFsbCAoZmlsZUlELCBjYikge1xuICAgIHRoaXMuY29yZS5lbWl0dGVyLm9uKCdjb3JlOnJlc3VtZS1hbGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IHRoaXMuY29yZS5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgICBpZiAoIWZpbGVzW2ZpbGVJRF0pIHJldHVyblxuICAgICAgY2IoKVxuICAgIH0pXG4gIH1cblxuICB1cGxvYWRGaWxlcyAoZmlsZXMpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMoZmlsZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5jb3JlLmxvZygnbm8gZmlsZXMgdG8gdXBsb2FkIScpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB1cGxvYWRlcnMgPSBbXVxuICAgIGZpbGVzLmZvckVhY2goKGZpbGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcGFyc2VJbnQoaW5kZXgsIDEwKSArIDFcbiAgICAgIGNvbnN0IHRvdGFsID0gZmlsZXMubGVuZ3RoXG5cbiAgICAgIGlmICghZmlsZS5pc1JlbW90ZSkge1xuICAgICAgICB1cGxvYWRlcnMucHVzaCh0aGlzLnVwbG9hZChmaWxlLCBjdXJyZW50LCB0b3RhbCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGxvYWRlcnMucHVzaCh0aGlzLnVwbG9hZFJlbW90ZShmaWxlLCBjdXJyZW50LCB0b3RhbCkpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBQcm9taXNlLmFsbCh1cGxvYWRlcnMpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuY29yZS5sb2coJ0FsbCBmaWxlcyB1cGxvYWRlZCcpXG4gICAgICAgIHJldHVybiB7IHVwbG9hZGVkQ291bnQ6IGZpbGVzLmxlbmd0aCB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5jb3JlLmxvZygnVXBsb2FkIGVycm9yOiAnICsgZXJyKVxuICAgICAgfSlcbiAgfVxuXG4gIHNlbGVjdEZvclVwbG9hZCAoZmlsZXMpIHtcbiAgICAvLyBUT0RPOiByZXBsYWNlIGZpbGVzW2ZpbGVdLmlzUmVtb3RlIHdpdGggc29tZSBsb2dpY1xuICAgIC8vXG4gICAgLy8gZmlsdGVyIGZpbGVzIHRoYXQgYXJlIG5vdyB5ZXQgYmVpbmcgdXBsb2FkZWQgLyBoYXZlbuKAmXQgYmVlbiB1cGxvYWRlZFxuICAgIC8vIGFuZCByZW1vdGUgdG9vXG4gICAgY29uc3QgZmlsZXNGb3JVcGxvYWQgPSBPYmplY3Qua2V5cyhmaWxlcykuZmlsdGVyKChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGVzW2ZpbGVdLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgfHwgZmlsZXNbZmlsZV0uaXNSZW1vdGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pLm1hcCgoZmlsZSkgPT4ge1xuICAgICAgcmV0dXJuIGZpbGVzW2ZpbGVdXG4gICAgfSlcblxuICAgIHRoaXMudXBsb2FkRmlsZXMoZmlsZXNGb3JVcGxvYWQpXG4gIH1cblxuICBhY3Rpb25zICgpIHtcbiAgICB0aGlzLmNvcmUuZW1pdHRlci5vbignY29yZTpwYXVzZS1hbGwnLCAoKSA9PiB7XG4gICAgICB0aGlzLnBhdXNlUmVzdW1lKCdwYXVzZUFsbCcpXG4gICAgfSlcblxuICAgIHRoaXMuY29yZS5lbWl0dGVyLm9uKCdjb3JlOnJlc3VtZS1hbGwnLCAoKSA9PiB7XG4gICAgICB0aGlzLnBhdXNlUmVzdW1lKCdyZXN1bWVBbGwnKVxuICAgIH0pXG5cbiAgICB0aGlzLmNvcmUuZW1pdHRlci5vbignY29yZTp1cGxvYWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNvcmUubG9nKCdUdXMgaXMgdXBsb2FkaW5nLi4uJylcbiAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5jb3JlLmdldFN0YXRlKCkuZmlsZXNcbiAgICAgIHRoaXMuc2VsZWN0Rm9yVXBsb2FkKGZpbGVzKVxuICAgIH0pXG4gIH1cblxuICBhZGRSZXN1bWFibGVVcGxvYWRzQ2FwYWJpbGl0eUZsYWcgKCkge1xuICAgIGNvbnN0IG5ld0NhcGFiaWxpdGllcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29yZS5nZXRTdGF0ZSgpLmNhcGFiaWxpdGllcylcbiAgICBuZXdDYXBhYmlsaXRpZXMucmVzdW1hYmxlVXBsb2FkcyA9IHRydWVcbiAgICB0aGlzLmNvcmUuc2V0U3RhdGUoe1xuICAgICAgY2FwYWJpbGl0aWVzOiBuZXdDYXBhYmlsaXRpZXNcbiAgICB9KVxuICB9XG5cbiAgaW5zdGFsbCAoKSB7XG4gICAgdGhpcy5hZGRSZXN1bWFibGVVcGxvYWRzQ2FwYWJpbGl0eUZsYWcoKVxuICAgIHRoaXMuYWN0aW9ucygpXG4gIH1cbn1cbiIsImNvbnN0IGh0bWwgPSByZXF1aXJlKCd5by15bycpXG5cbm1vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICB2YXIgYWMgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbGliL2FwcGVuZENoaWxkLmpzJylcbiAgICAgIHZhciBiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIjEwMFwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjc3XCIpXG5iZWwyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCAxMDAgNzdcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNNTAgMzJjLTcuMTY4IDAtMTMgNS44MzItMTMgMTNzNS44MzIgMTMgMTMgMTMgMTMtNS44MzIgMTMtMTMtNS44MzItMTMtMTMtMTN6XCIpXG52YXIgYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNODcgMTNINzJjMC03LjE4LTUuODItMTMtMTMtMTNINDFjLTcuMTggMC0xMyA1LjgyLTEzIDEzSDEzQzUuODIgMTMgMCAxOC44MiAwIDI2djM4YzAgNy4xOCA1LjgyIDEzIDEzIDEzaDc0YzcuMTggMCAxMy01LjgyIDEzLTEzVjI2YzAtNy4xOC01LjgyLTEzLTEzLTEzek01MCA2OGMtMTIuNjgzIDAtMjMtMTAuMzE4LTIzLTIzczEwLjMxNy0yMyAyMy0yMyAyMyAxMC4zMTggMjMgMjMtMTAuMzE3IDIzLTIzIDIzelwiKVxuYWMoYmVsMiwgW1wiXFxuICAgIFwiLGJlbDAsXCJcXG4gICAgXCIsYmVsMSxcIlxcbiAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDJcbiAgICB9KCkpXG59XG4iLCJjb25zdCBodG1sID0gcmVxdWlyZSgneW8teW8nKVxuY29uc3QgQ2FtZXJhSWNvbiA9IHJlcXVpcmUoJy4vQ2FtZXJhSWNvbicpXG5cbm1vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHNyYyA9IHByb3BzLnNyYyB8fCAnJ1xuICBsZXQgdmlkZW9cblxuICBpZiAocHJvcHMudXNlVGhlRmxhc2gpIHtcbiAgICB2aWRlbyA9IHByb3BzLmdldFNXRkhUTUwoKVxuICB9IGVsc2Uge1xuICAgIHZpZGVvID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKVxuYmVsMC5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLCBcImF1dG9wbGF5XCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcInNyY1wiLCBhcmd1bWVudHNbMF0pXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweVdlYmNhbS12aWRlb1wiKVxuICAgICAgcmV0dXJuIGJlbDBcbiAgICB9KHNyYykpXG4gIH1cblxuICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvbmxvYWQgPSByZXF1aXJlKCcvaG9tZS90cmF2aXMvYnVpbGQvdHJhbnNsb2FkaXQvdXBweS9ub2RlX21vZHVsZXMveW8teW9pZnkvbm9kZV9tb2R1bGVzL29uLWxvYWQvaW5kZXguanMnKVxuICAgICAgdmFyIGFjID0gcmVxdWlyZSgnL2hvbWUvdHJhdmlzL2J1aWxkL3RyYW5zbG9hZGl0L3VwcHkvbm9kZV9tb2R1bGVzL3lvLXlvaWZ5L2xpYi9hcHBlbmRDaGlsZC5qcycpXG4gICAgICB2YXIgYmVsNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbnZhciBhcmdzID0gYXJndW1lbnRzXG4gICAgICBvbmxvYWQoYmVsNCwgZnVuY3Rpb24gYmVsX29ubG9hZCAoKSB7XG4gICAgICAgIGFyZ3NbM10oYmVsNClcbiAgICAgIH0sIGZ1bmN0aW9uIGJlbF9vbnVubG9hZCAoKSB7XG4gICAgICAgIGFyZ3NbNF0oYmVsNClcbiAgICAgIH0sIFwibzFcIilcbmJlbDQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5V2ViY2FtLWNvbnRhaW5lclwiKVxudmFyIGJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5iZWwwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiVXBweVdlYmNhbS12aWRlb0NvbnRhaW5lclwiKVxuYWMoYmVsMCwgW1wiXFxuICAgICAgICBcIixhcmd1bWVudHNbMF0sXCJcXG4gICAgICBcIl0pXG52YXIgYmVsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmJlbDIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5V2ViY2FtLWJ1dHRvbkNvbnRhaW5lclwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG5iZWwxLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIilcbmJlbDEuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgXCJUYWtlIGEgc25hcHNob3RcIilcbmJlbDEuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIlRha2UgYSBzbmFwc2hvdFwiKVxuYmVsMVtcIm9uY2xpY2tcIl0gPSBhcmd1bWVudHNbMV1cbmJlbDEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJVcHB5QnV0dG9uLS1jaXJjdWxhciBVcHB5QnV0dG9uLS1yZWQgVXBweUJ1dHRvbi0tc2l6ZU0gVXBweVdlYmNhbS1zdG9wUmVjb3JkQnRuXCIpXG5hYyhiZWwxLCBbXCJcXG4gICAgICAgICAgXCIsYXJndW1lbnRzWzJdLFwiXFxuICAgICAgICBcIl0pXG5hYyhiZWwyLCBbXCJcXG4gICAgICAgIFwiLGJlbDEsXCJcXG4gICAgICBcIl0pXG52YXIgYmVsMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIilcbmJlbDMuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJkaXNwbGF5OiBub25lO1wiKVxuYmVsMy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIlVwcHlXZWJjYW0tY2FudmFzXCIpXG5hYyhiZWw0LCBbXCJcXG4gICAgICBcIixiZWwwLFwiXFxuICAgICAgXCIsYmVsMixcIlxcbiAgICAgIFwiLGJlbDMsXCJcXG4gICAgXCJdKVxuICAgICAgcmV0dXJuIGJlbDRcbiAgICB9KHZpZGVvLHByb3BzLm9uU25hcHNob3QsQ2FtZXJhSWNvbigpLChlbCkgPT4ge1xuICAgICAgcHJvcHMub25Gb2N1cygpXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuVXBweVdlYmNhbS1zdG9wUmVjb3JkQnRuJykuZm9jdXMoKVxuICAgIH0sKGVsKSA9PiB7XG4gICAgICBwcm9wcy5vblN0b3AoKVxuICAgIH0pKVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcblxubW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKVxuYWMoYmVsMCwgW1wiUGxlYXNlIGFsbG93IGFjY2VzcyB0byB5b3VyIGNhbWVyYVwiXSlcbnZhciBiZWwxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbmFjKGJlbDEsIFtcIllvdSBoYXZlIGJlZW4gcHJvbXB0ZWQgdG8gYWxsb3cgY2FtZXJhIGFjY2VzcyBmcm9tIHRoaXMgc2l0ZS4gSW4gb3JkZXIgdG8gdGFrZSBwaWN0dXJlcyB3aXRoIHlvdXIgY2FtZXJhIHlvdSBtdXN0IGFwcHJvdmUgdGhpcyByZXF1ZXN0LlwiXSlcbmFjKGJlbDIsIFtcIlxcbiAgICAgIFwiLGJlbDAsXCJcXG4gICAgICBcIixiZWwxLFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwyXG4gICAgfSgpKVxufVxuIiwiY29uc3QgaHRtbCA9IHJlcXVpcmUoJ3lvLXlvJylcblxubW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIHZhciBhYyA9IHJlcXVpcmUoJy9ob21lL3RyYXZpcy9idWlsZC90cmFuc2xvYWRpdC91cHB5L25vZGVfbW9kdWxlcy95by15b2lmeS9saWIvYXBwZW5kQ2hpbGQuanMnKVxuICAgICAgdmFyIGJlbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMThcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCIyMVwiKVxuYmVsMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgXCIwIDAgMTggMjFcIilcbmJlbDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjbGFzc1wiLCBcIlVwcHlJY29uIFVwcHlNb2RhbFRhYi1pY29uXCIpXG52YXIgYmVsMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuYmVsMC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJNMTQuOCAxNi45YzEuOS0xLjcgMy4yLTQuMSAzLjItNi45IDAtNS00LTktOS05cy05IDQtOSA5YzAgMi44IDEuMiA1LjIgMy4yIDYuOUMxLjkgMTcuOS41IDE5LjQgMCAyMWgzYzEtMS45IDExLTEuOSAxMiAwaDNjLS41LTEuNi0xLjktMy4xLTMuMi00LjF6TTkgNGMzLjMgMCA2IDIuNyA2IDZzLTIuNyA2LTYgNi02LTIuNy02LTYgMi43LTYgNi02elwiKVxudmFyIGJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIilcbmJlbDEuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIFwiTTkgMTRjMi4yIDAgNC0xLjggNC00cy0xLjgtNC00LTQtNCAxLjgtNCA0IDEuOCA0IDQgNHpNOCA4Yy42IDAgMSAuNCAxIDFzLS40IDEtMSAxLTEtLjQtMS0xYzAtLjUuNC0xIDEtMXpcIilcbmFjKGJlbDIsIFtcIlxcbiAgICAgIFwiLGJlbDAsXCJcXG4gICAgICBcIixiZWwxLFwiXFxuICAgIFwiXSlcbiAgICAgIHJldHVybiBiZWwyXG4gICAgfSgpKVxufVxuIiwiY29uc3QgUGx1Z2luID0gcmVxdWlyZSgnLi4vUGx1Z2luJylcbmNvbnN0IFdlYmNhbVByb3ZpZGVyID0gcmVxdWlyZSgnLi4vLi4vdXBweS1iYXNlL3NyYy9wbHVnaW5zL1dlYmNhbScpXG5jb25zdCB7IGV4dGVuZCB9ID0gcmVxdWlyZSgnLi4vLi4vY29yZS9VdGlscycpXG5jb25zdCBXZWJjYW1JY29uID0gcmVxdWlyZSgnLi9XZWJjYW1JY29uJylcbmNvbnN0IENhbWVyYVNjcmVlbiA9IHJlcXVpcmUoJy4vQ2FtZXJhU2NyZWVuJylcbmNvbnN0IFBlcm1pc3Npb25zU2NyZWVuID0gcmVxdWlyZSgnLi9QZXJtaXNzaW9uc1NjcmVlbicpXG5cbi8qKlxuICogV2ViY2FtXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgV2ViY2FtIGV4dGVuZHMgUGx1Z2luIHtcbiAgY29uc3RydWN0b3IgKGNvcmUsIG9wdHMpIHtcbiAgICBzdXBlcihjb3JlLCBvcHRzKVxuICAgIHRoaXMudXNlck1lZGlhID0gdHJ1ZVxuICAgIHRoaXMucHJvdG9jb2wgPSBsb2NhdGlvbi5wcm90b2NvbC5tYXRjaCgvaHR0cHMvaSkgPyAnaHR0cHMnIDogJ2h0dHAnXG4gICAgdGhpcy50eXBlID0gJ2FjcXVpcmVyJ1xuICAgIHRoaXMuaWQgPSAnV2ViY2FtJ1xuICAgIHRoaXMudGl0bGUgPSAnV2ViY2FtJ1xuICAgIHRoaXMuaWNvbiA9IFdlYmNhbUljb24oKVxuXG4gICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgZW5hYmxlRmxhc2g6IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLnBhcmFtcyA9IHtcbiAgICAgIHN3ZlVSTDogJ3dlYmNhbS5zd2YnLFxuICAgICAgd2lkdGg6IDQwMCxcbiAgICAgIGhlaWdodDogMzAwLFxuICAgICAgZGVzdF93aWR0aDogODAwLCAgICAgICAgIC8vIHNpemUgb2YgY2FwdHVyZWQgaW1hZ2VcbiAgICAgIGRlc3RfaGVpZ2h0OiA2MDAsICAgICAgICAvLyB0aGVzZSBkZWZhdWx0IHRvIHdpZHRoL2hlaWdodFxuICAgICAgaW1hZ2VfZm9ybWF0OiAnanBlZycsICAvLyBpbWFnZSBmb3JtYXQgKG1heSBiZSBqcGVnIG9yIHBuZylcbiAgICAgIGpwZWdfcXVhbGl0eTogOTAsICAgICAgLy8ganBlZyBpbWFnZSBxdWFsaXR5IGZyb20gMCAod29yc3QpIHRvIDEwMCAoYmVzdClcbiAgICAgIGVuYWJsZV9mbGFzaDogdHJ1ZSwgICAgLy8gZW5hYmxlIGZsYXNoIGZhbGxiYWNrLFxuICAgICAgZm9yY2VfZmxhc2g6IGZhbHNlLCAgICAvLyBmb3JjZSBmbGFzaCBtb2RlLFxuICAgICAgZmxpcF9ob3JpejogZmFsc2UsICAgICAvLyBmbGlwIGltYWdlIGhvcml6IChtaXJyb3IgbW9kZSlcbiAgICAgIGZwczogMzAsICAgICAgICAgICAgICAgLy8gY2FtZXJhIGZyYW1lcyBwZXIgc2Vjb25kXG4gICAgICB1cGxvYWRfbmFtZTogJ3dlYmNhbScsIC8vIG5hbWUgb2YgZmlsZSBpbiB1cGxvYWQgcG9zdCBkYXRhXG4gICAgICBjb25zdHJhaW50czogbnVsbCwgICAgIC8vIGN1c3RvbSB1c2VyIG1lZGlhIGNvbnN0cmFpbnRzLFxuICAgICAgZmxhc2hOb3REZXRlY3RlZFRleHQ6ICdFUlJPUjogTm8gQWRvYmUgRmxhc2ggUGxheWVyIGRldGVjdGVkLiAgV2ViY2FtLmpzIHJlbGllcyBvbiBGbGFzaCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBnZXRVc2VyTWVkaWEgKGxpa2UgeW91cnMpLicsXG4gICAgICBub0ludGVyZmFjZUZvdW5kVGV4dDogJ05vIHN1cHBvcnRlZCB3ZWJjYW0gaW50ZXJmYWNlIGZvdW5kLicsXG4gICAgICB1bmZyZWV6ZV9zbmFwOiB0cnVlICAgIC8vIFdoZXRoZXIgdG8gdW5mcmVlemUgdGhlIGNhbWVyYSBhZnRlciBzbmFwIChkZWZhdWx0cyB0byB0cnVlKVxuICAgIH1cblxuICAgIC8vIG1lcmdlIGRlZmF1bHQgb3B0aW9ucyB3aXRoIHRoZSBvbmVzIHNldCBieSB1c2VyXG4gICAgdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdHMpXG5cbiAgICB0aGlzLmluc3RhbGwgPSB0aGlzLmluc3RhbGwuYmluZCh0aGlzKVxuICAgIHRoaXMudXBkYXRlU3RhdGUgPSB0aGlzLnVwZGF0ZVN0YXRlLmJpbmQodGhpcylcblxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKVxuXG4gICAgLy8gQ2FtZXJhIGNvbnRyb2xzXG4gICAgdGhpcy5zdGFydCA9IHRoaXMuc3RhcnQuYmluZCh0aGlzKVxuICAgIHRoaXMuc3RvcCA9IHRoaXMuc3RvcC5iaW5kKHRoaXMpXG4gICAgdGhpcy50YWtlU25hcHNob3QgPSB0aGlzLnRha2VTbmFwc2hvdC5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLndlYmNhbSA9IG5ldyBXZWJjYW1Qcm92aWRlcih0aGlzLm9wdHMsIHRoaXMucGFyYW1zKVxuICAgIHRoaXMud2ViY2FtQWN0aXZlID0gZmFsc2VcbiAgfVxuXG4gIHN0YXJ0ICgpIHtcbiAgICB0aGlzLndlYmNhbUFjdGl2ZSA9IHRydWVcblxuICAgIHRoaXMud2ViY2FtLnN0YXJ0KClcbiAgICAgIC50aGVuKChzdHJlYW0pID0+IHtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW1cbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSh7XG4gICAgICAgICAgLy8gdmlkZW9TdHJlYW06IHN0cmVhbSxcbiAgICAgICAgICBjYW1lcmFSZWFkeTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgICAgICAgIGNhbWVyYUVycm9yOiBlcnJcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gIH1cblxuICBzdG9wICgpIHtcbiAgICB0aGlzLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLnN0b3AoKVxuICAgIHRoaXMud2ViY2FtQWN0aXZlID0gZmFsc2VcbiAgICB0aGlzLnN0cmVhbSA9IG51bGxcbiAgICB0aGlzLnN0cmVhbVNyYyA9IG51bGxcbiAgfVxuXG4gIHRha2VTbmFwc2hvdCAoKSB7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIG5hbWU6IGB3ZWJjYW0tJHtEYXRlLm5vdygpfS5qcGdgLFxuICAgICAgbWltZVR5cGU6ICdpbWFnZS9qcGVnJ1xuICAgIH1cblxuICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlVwcHlXZWJjYW0tdmlkZW8nKVxuXG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLndlYmNhbS5nZXRJbWFnZSh2aWRlbywgb3B0cylcblxuICAgIGNvbnN0IHRhZ0ZpbGUgPSB7XG4gICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICBuYW1lOiBvcHRzLm5hbWUsXG4gICAgICBkYXRhOiBpbWFnZS5kYXRhLFxuICAgICAgdHlwZTogb3B0cy5taW1lVHlwZVxuICAgIH1cblxuICAgIHRoaXMuY29yZS5lbWl0dGVyLmVtaXQoJ2NvcmU6ZmlsZS1hZGQnLCB0YWdGaWxlKVxuICB9XG5cbiAgcmVuZGVyIChzdGF0ZSkge1xuICAgIGlmICghdGhpcy53ZWJjYW1BY3RpdmUpIHtcbiAgICAgIHRoaXMuc3RhcnQoKVxuICAgIH1cblxuICAgIGlmICghc3RhdGUud2ViY2FtLmNhbWVyYVJlYWR5ICYmICFzdGF0ZS53ZWJjYW0udXNlVGhlRmxhc2gpIHtcbiAgICAgIHJldHVybiBQZXJtaXNzaW9uc1NjcmVlbihzdGF0ZS53ZWJjYW0pXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0cmVhbVNyYykge1xuICAgICAgdGhpcy5zdHJlYW1TcmMgPSB0aGlzLnN0cmVhbSA/IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5zdHJlYW0pIDogbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBDYW1lcmFTY3JlZW4oZXh0ZW5kKHN0YXRlLndlYmNhbSwge1xuICAgICAgb25TbmFwc2hvdDogdGhpcy50YWtlU25hcHNob3QsXG4gICAgICBvbkZvY3VzOiB0aGlzLmZvY3VzLFxuICAgICAgb25TdG9wOiB0aGlzLnN0b3AsXG4gICAgICBnZXRTV0ZIVE1MOiB0aGlzLndlYmNhbS5nZXRTV0ZIVE1MLFxuICAgICAgc3JjOiB0aGlzLnN0cmVhbVNyY1xuICAgIH0pKVxuICB9XG5cbiAgZm9jdXMgKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jb3JlLmVtaXR0ZXIuZW1pdCgnaW5mb3JtZXInLCAnU21pbGUhJywgJ2luZm8nLCAyMDAwKVxuICAgIH0sIDEwMDApXG4gIH1cblxuICBpbnN0YWxsICgpIHtcbiAgICB0aGlzLndlYmNhbS5pbml0KClcbiAgICB0aGlzLmNvcmUuc2V0U3RhdGUoe1xuICAgICAgd2ViY2FtOiB7XG4gICAgICAgIGNhbWVyYVJlYWR5OiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLm9wdHMudGFyZ2V0XG4gICAgY29uc3QgcGx1Z2luID0gdGhpc1xuICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb3VudCh0YXJnZXQsIHBsdWdpbilcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXR0bGUgc2hvcnRoYW5kIHRvIHVwZGF0ZSB0aGUgc3RhdGUgd2l0aCBteSBuZXcgc3RhdGVcbiAgICovXG4gIHVwZGF0ZVN0YXRlIChuZXdTdGF0ZSkge1xuICAgIGNvbnN0IHtzdGF0ZX0gPSB0aGlzLmNvcmVcbiAgICBjb25zdCB3ZWJjYW0gPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS53ZWJjYW0sIG5ld1N0YXRlKVxuXG4gICAgdGhpcy5jb3JlLnNldFN0YXRlKHt3ZWJjYW19KVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxucmVxdWlyZSgnd2hhdHdnLWZldGNoJylcblxuY29uc3QgX2dldE5hbWUgPSAoaWQpID0+IHtcbiAgcmV0dXJuIGlkLnNwbGl0KCctJykubWFwKChzKSA9PiBzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKSkuam9pbignICcpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUHJvdmlkZXIge1xuICBjb25zdHJ1Y3RvciAob3B0cykge1xuICAgIHRoaXMub3B0cyA9IG9wdHNcbiAgICB0aGlzLnByb3ZpZGVyID0gb3B0cy5wcm92aWRlclxuICAgIHRoaXMuaWQgPSB0aGlzLnByb3ZpZGVyXG4gICAgdGhpcy5hdXRoUHJvdmlkZXIgPSBvcHRzLmF1dGhQcm92aWRlciB8fCB0aGlzLnByb3ZpZGVyXG4gICAgdGhpcy5uYW1lID0gdGhpcy5vcHRzLm5hbWUgfHwgX2dldE5hbWUodGhpcy5pZClcbiAgfVxuXG4gIGF1dGggKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLm9wdHMuaG9zdH0vJHt0aGlzLmlkfS9hdXRoYCwge1xuICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24uanNvbidcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgICAudGhlbigocGF5bG9hZCkgPT4ge1xuICAgICAgICByZXR1cm4gcGF5bG9hZC5hdXRoZW50aWNhdGVkXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBsaXN0IChkaXJlY3RvcnkpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5vcHRzLmhvc3R9LyR7dGhpcy5pZH0vbGlzdC8ke2RpcmVjdG9yeSB8fCAnJ31gLCB7XG4gICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgfVxuXG4gIGxvZ291dCAocmVkaXJlY3QgPSBsb2NhdGlvbi5ocmVmKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMub3B0cy5ob3N0fS8ke3RoaXMuaWR9L2xvZ291dD9yZWRpcmVjdD0ke3JlZGlyZWN0fWAsIHtcbiAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRhdGFVUkl0b0ZpbGUgPSByZXF1aXJlKCcuLi91dGlscy9kYXRhVVJJdG9GaWxlJylcblxuLyoqXG4gKiBXZWJjYW0gUGx1Z2luXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgV2ViY2FtIHtcbiAgY29uc3RydWN0b3IgKG9wdHMgPSB7fSwgcGFyYW1zID0ge30pIHtcbiAgICB0aGlzLl91c2VyTWVkaWFcbiAgICB0aGlzLnVzZXJNZWRpYSA9IHRydWVcbiAgICB0aGlzLnByb3RvY29sID0gbG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL2h0dHBzL2kpID8gJ2h0dHBzJyA6ICdodHRwJ1xuXG4gICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgZW5hYmxlRmxhc2g6IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBkZWZhdWx0UGFyYW1zID0ge1xuICAgICAgc3dmVVJMOiAnd2ViY2FtLnN3ZicsXG4gICAgICB3aWR0aDogNDAwLFxuICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgICBkZXN0X3dpZHRoOiA4MDAsICAgICAgICAgLy8gc2l6ZSBvZiBjYXB0dXJlZCBpbWFnZVxuICAgICAgZGVzdF9oZWlnaHQ6IDYwMCwgICAgICAgIC8vIHRoZXNlIGRlZmF1bHQgdG8gd2lkdGgvaGVpZ2h0XG4gICAgICBpbWFnZV9mb3JtYXQ6ICdqcGVnJywgIC8vIGltYWdlIGZvcm1hdCAobWF5IGJlIGpwZWcgb3IgcG5nKVxuICAgICAganBlZ19xdWFsaXR5OiA5MCwgICAgICAvLyBqcGVnIGltYWdlIHF1YWxpdHkgZnJvbSAwICh3b3JzdCkgdG8gMTAwIChiZXN0KVxuICAgICAgZW5hYmxlX2ZsYXNoOiB0cnVlLCAgICAvLyBlbmFibGUgZmxhc2ggZmFsbGJhY2ssXG4gICAgICBmb3JjZV9mbGFzaDogZmFsc2UsICAgIC8vIGZvcmNlIGZsYXNoIG1vZGUsXG4gICAgICBmbGlwX2hvcml6OiBmYWxzZSwgICAgIC8vIGZsaXAgaW1hZ2UgaG9yaXogKG1pcnJvciBtb2RlKVxuICAgICAgZnBzOiAzMCwgICAgICAgICAgICAgICAvLyBjYW1lcmEgZnJhbWVzIHBlciBzZWNvbmRcbiAgICAgIHVwbG9hZF9uYW1lOiAnd2ViY2FtJywgLy8gbmFtZSBvZiBmaWxlIGluIHVwbG9hZCBwb3N0IGRhdGFcbiAgICAgIGNvbnN0cmFpbnRzOiBudWxsLCAgICAgLy8gY3VzdG9tIHVzZXIgbWVkaWEgY29uc3RyYWludHMsXG4gICAgICBmbGFzaE5vdERldGVjdGVkVGV4dDogJ0VSUk9SOiBObyBBZG9iZSBGbGFzaCBQbGF5ZXIgZGV0ZWN0ZWQuICBXZWJjYW0uanMgcmVsaWVzIG9uIEZsYXNoIGZvciBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IGdldFVzZXJNZWRpYSAobGlrZSB5b3VycykuJyxcbiAgICAgIG5vSW50ZXJmYWNlRm91bmRUZXh0OiAnTm8gc3VwcG9ydGVkIHdlYmNhbSBpbnRlcmZhY2UgZm91bmQuJyxcbiAgICAgIHVuZnJlZXplX3NuYXA6IHRydWUgICAgLy8gV2hldGhlciB0byB1bmZyZWV6ZSB0aGUgY2FtZXJhIGFmdGVyIHNuYXAgKGRlZmF1bHRzIHRvIHRydWUpXG4gICAgfVxuXG4gICAgdGhpcy5wYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UGFyYW1zLCBwYXJhbXMpXG5cbiAgICAvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgb25lcyBzZXQgYnkgdXNlclxuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRzKVxuXG4gICAgLy8gQ2FtZXJhIGNvbnRyb2xzXG4gICAgdGhpcy5zdGFydCA9IHRoaXMuc3RhcnQuYmluZCh0aGlzKVxuICAgIHRoaXMuaW5pdCA9IHRoaXMuaW5pdC5iaW5kKHRoaXMpXG4gICAgdGhpcy5zdG9wID0gdGhpcy5zdG9wLmJpbmQodGhpcylcbiAgICAvLyB0aGlzLnN0YXJ0UmVjb3JkaW5nID0gdGhpcy5zdGFydFJlY29yZGluZy5iaW5kKHRoaXMpXG4gICAgLy8gdGhpcy5zdG9wUmVjb3JkaW5nID0gdGhpcy5zdG9wUmVjb3JkaW5nLmJpbmQodGhpcylcbiAgICB0aGlzLnRha2VTbmFwc2hvdCA9IHRoaXMudGFrZVNuYXBzaG90LmJpbmQodGhpcylcbiAgICB0aGlzLmdldEltYWdlID0gdGhpcy5nZXRJbWFnZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5nZXRTV0ZIVE1MID0gdGhpcy5nZXRTV0ZIVE1MLmJpbmQodGhpcylcbiAgICB0aGlzLmRldGVjdEZsYXNoID0gdGhpcy5kZXRlY3RGbGFzaC5iaW5kKHRoaXMpXG4gICAgdGhpcy5nZXRVc2VyTWVkaWEgPSB0aGlzLmdldFVzZXJNZWRpYS5iaW5kKHRoaXMpXG4gICAgdGhpcy5nZXRNZWRpYURldmljZXMgPSB0aGlzLmdldE1lZGlhRGV2aWNlcy5iaW5kKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGZvciBnZXRVc2VyTWVkaWEgc3VwcG9ydFxuICAgKi9cbiAgaW5pdCAoKSB7XG4gICAgLy8gaW5pdGlhbGl6ZSwgY2hlY2sgZm9yIGdldFVzZXJNZWRpYSBzdXBwb3J0XG4gICAgdGhpcy5tZWRpYURldmljZXMgPSB0aGlzLmdldE1lZGlhRGV2aWNlcygpXG5cbiAgICB0aGlzLnVzZXJNZWRpYSA9IHRoaXMuZ2V0VXNlck1lZGlhKHRoaXMubWVkaWFEZXZpY2VzKVxuXG4gICAgLy8gTWFrZSBzdXJlIG1lZGlhIHN0cmVhbSBpcyBjbG9zZWQgd2hlbiBuYXZpZ2F0aW5nIGF3YXkgZnJvbSBwYWdlXG4gICAgaWYgKHRoaXMudXNlck1lZGlhKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWVkaWFEZXZpY2VzOiB0aGlzLm1lZGlhRGV2aWNlcyxcbiAgICAgIHVzZXJNZWRpYTogdGhpcy51c2VyTWVkaWFcbiAgICB9XG4gIH1cblxuICAvLyBTZXR1cCBnZXRVc2VyTWVkaWEsIHdpdGggcG9seWZpbGwgZm9yIG9sZGVyIGJyb3dzZXJzXG4gIC8vIEFkYXB0ZWQgZnJvbTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhRGV2aWNlcy9nZXRVc2VyTWVkaWFcbiAgZ2V0TWVkaWFEZXZpY2VzICgpIHtcbiAgICByZXR1cm4gKG5hdmlnYXRvci5tZWRpYURldmljZXMgJiYgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpXG4gICAgICA/IG5hdmlnYXRvci5tZWRpYURldmljZXMgOiAoKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSkgPyB7XG4gICAgICAgIGdldFVzZXJNZWRpYTogZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEgfHxcbiAgICAgICAgICAgIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEpLmNhbGwobmF2aWdhdG9yLCBvcHRzLCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSA6IG51bGwpXG4gIH1cblxuICBnZXRVc2VyTWVkaWEgKG1lZGlhRGV2aWNlcykge1xuICAgIGNvbnN0IHVzZXJNZWRpYSA9IHRydWVcbiAgICAvLyBPbGRlciB2ZXJzaW9ucyBvZiBmaXJlZm94ICg8IDIxKSBhcHBhcmVudGx5IGNsYWltIHN1cHBvcnQgYnV0IHVzZXIgbWVkaWEgZG9lcyBub3QgYWN0dWFsbHkgd29ya1xuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFxEKyhcXGQrKS8pKSB7XG4gICAgICBpZiAocGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPCAyMSkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5VUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93Lm1velVSTCB8fCB3aW5kb3cubXNVUkxcbiAgICByZXR1cm4gdXNlck1lZGlhICYmICEhbWVkaWFEZXZpY2VzICYmICEhd2luZG93LlVSTFxuICB9XG5cbiAgc3RhcnQgKCkge1xuICAgIHRoaXMudXNlck1lZGlhID0gdGhpcy5fdXNlck1lZGlhID09PSB1bmRlZmluZWQgPyB0aGlzLnVzZXJNZWRpYSA6IHRoaXMuX3VzZXJNZWRpYVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy51c2VyTWVkaWEpIHtcbiAgICAgICAgLy8gYXNrIHVzZXIgZm9yIGFjY2VzcyB0byB0aGVpciBjYW1lcmFcbiAgICAgICAgdGhpcy5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICBhdWRpbzogZmFsc2UsXG4gICAgICAgICAgdmlkZW86IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKHN0cmVhbSlcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdHMgaWYgYnJvd3NlciBzdXBwb3J0cyBmbGFzaFxuICAgKiBDb2RlIHNuaXBwZXQgYm9ycm93ZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL3N3Zm9iamVjdC9zd2ZvYmplY3RcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbH0gZmxhc2ggc3VwcG9ydGVkXG4gICAqL1xuICBkZXRlY3RGbGFzaCAoKSB7XG4gICAgY29uc3QgU0hPQ0tXQVZFX0ZMQVNIID0gJ1Nob2Nrd2F2ZSBGbGFzaCdcbiAgICBjb25zdCBTSE9DS1dBVkVfRkxBU0hfQVggPSAnU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2gnXG4gICAgY29uc3QgRkxBU0hfTUlNRV9UWVBFID0gJ2FwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoJ1xuICAgIGNvbnN0IHdpbiA9IHdpbmRvd1xuICAgIGNvbnN0IG5hdiA9IG5hdmlnYXRvclxuICAgIGxldCBoYXNGbGFzaCA9IGZhbHNlXG5cbiAgICBpZiAodHlwZW9mIG5hdi5wbHVnaW5zICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbmF2LnBsdWdpbnNbU0hPQ0tXQVZFX0ZMQVNIXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBkZXNjID0gbmF2LnBsdWdpbnNbU0hPQ0tXQVZFX0ZMQVNIXS5kZXNjcmlwdGlvblxuICAgICAgaWYgKGRlc2MgJiYgKHR5cGVvZiBuYXYubWltZVR5cGVzICE9PSAndW5kZWZpbmVkJyAmJiBuYXYubWltZVR5cGVzW0ZMQVNIX01JTUVfVFlQRV0gJiYgbmF2Lm1pbWVUeXBlc1tGTEFTSF9NSU1FX1RZUEVdLmVuYWJsZWRQbHVnaW4pKSB7XG4gICAgICAgIGhhc0ZsYXNoID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbi5BY3RpdmVYT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGF4ID0gbmV3IHdpbi5BY3RpdmVYT2JqZWN0KFNIT0NLV0FWRV9GTEFTSF9BWClcbiAgICAgICAgaWYgKGF4KSB7XG4gICAgICAgICAgdmFyIHZlciA9IGF4LkdldFZhcmlhYmxlKCckdmVyc2lvbicpXG4gICAgICAgICAgaWYgKHZlcikgaGFzRmxhc2ggPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhc0ZsYXNoXG4gIH1cblxuICByZXNldCAoKSB7XG4gICAgLy8gc2h1dGRvd24gY2FtZXJhLCByZXNldCB0byBwb3RlbnRpYWxseSBhdHRhY2ggYWdhaW5cbiAgICBpZiAodGhpcy5wcmV2aWV3X2FjdGl2ZSkgdGhpcy51bmZyZWV6ZSgpXG5cbiAgICBpZiAodGhpcy51c2VyTWVkaWEpIHtcbiAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICBpZiAodGhpcy5zdHJlYW0uZ2V0VmlkZW9UcmFja3MpIHtcbiAgICAgICAgICAvLyBnZXQgdmlkZW8gdHJhY2sgdG8gY2FsbCBzdG9wIG9uIGl0XG4gICAgICAgICAgdmFyIHRyYWNrcyA9IHRoaXMuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClcbiAgICAgICAgICBpZiAodHJhY2tzICYmIHRyYWNrc1swXSAmJiB0cmFja3NbMF0uc3RvcCkgdHJhY2tzWzBdLnN0b3AoKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RyZWFtLnN0b3ApIHtcbiAgICAgICAgICAvLyBkZXByZWNhdGVkLCBtYXkgYmUgcmVtb3ZlZCBpbiBmdXR1cmVcbiAgICAgICAgICB0aGlzLnN0cmVhbS5zdG9wKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGVsZXRlIHRoaXMuc3RyZWFtXG4gICAgICBkZWxldGUgdGhpcy52aWRlb1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVzZXJNZWRpYSAhPT0gdHJ1ZSkge1xuICAgICAgLy8gY2FsbCBmb3IgdHVybiBvZmYgY2FtZXJhIGluIGZsYXNoXG4gICAgICB0aGlzLmdldE1vdmllKCkuX3JlbGVhc2VDYW1lcmEoKVxuICAgIH1cbiAgfVxuXG4gIGdldFNXRkhUTUwgKCkge1xuICAgIC8vIFJldHVybiBIVE1MIGZvciBlbWJlZGRpbmcgZmxhc2ggYmFzZWQgd2ViY2FtIGNhcHR1cmUgbW92aWVcbiAgICB2YXIgc3dmVVJMID0gdGhpcy5wYXJhbXMuc3dmVVJMXG5cbiAgICAvLyBtYWtlIHN1cmUgd2UgYXJlbid0IHJ1bm5pbmcgbG9jYWxseSAoZmxhc2ggZG9lc24ndCB3b3JrKVxuICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbC5tYXRjaCgvZmlsZS8pKSB7XG4gICAgICByZXR1cm4gJzxoMyBzdHlsZT1cImNvbG9yOnJlZFwiPkVSUk9SOiB0aGUgV2ViY2FtLmpzIEZsYXNoIGZhbGxiYWNrIGRvZXMgbm90IHdvcmsgZnJvbSBsb2NhbCBkaXNrLiAgUGxlYXNlIHJ1biBpdCBmcm9tIGEgd2ViIHNlcnZlci48L2gzPidcbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZSBmbGFzaFxuICAgIGlmICghdGhpcy5kZXRlY3RGbGFzaCgpKSB7XG4gICAgICByZXR1cm4gJzxoMyBzdHlsZT1cImNvbG9yOnJlZFwiPk5vIGZsYXNoPC9oMz4nXG4gICAgfVxuXG4gICAgLy8gc2V0IGRlZmF1bHQgc3dmVVJMIGlmIG5vdCBleHBsaWNpdGx5IHNldFxuICAgIGlmICghc3dmVVJMKSB7XG4gICAgICAvLyBmaW5kIG91ciBzY3JpcHQgdGFnLCBhbmQgdXNlIHRoYXQgYmFzZSBVUkxcbiAgICAgIHZhciBiYXNlX3VybCA9ICcnXG4gICAgICB2YXIgc2NwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylcbiAgICAgIGZvciAodmFyIGlkeCA9IDAsIGxlbiA9IHNjcHRzLmxlbmd0aDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgICAgICB2YXIgc3JjID0gc2NwdHNbaWR4XS5nZXRBdHRyaWJ1dGUoJ3NyYycpXG4gICAgICAgIGlmIChzcmMgJiYgc3JjLm1hdGNoKC9cXC93ZWJjYW0oXFwubWluKT9cXC5qcy8pKSB7XG4gICAgICAgICAgYmFzZV91cmwgPSBzcmMucmVwbGFjZSgvXFwvd2ViY2FtKFxcLm1pbik/XFwuanMuKiQvLCAnJylcbiAgICAgICAgICBpZHggPSBsZW5cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJhc2VfdXJsKSBzd2ZVUkwgPSBiYXNlX3VybCArICcvd2ViY2FtLnN3ZidcbiAgICAgIGVsc2Ugc3dmVVJMID0gJ3dlYmNhbS5zd2YnXG4gICAgfVxuXG4gICAgLy8gLy8gaWYgdGhpcyBpcyB0aGUgdXNlcidzIGZpcnN0IHZpc2l0LCBzZXQgZmxhc2h2YXIgc28gZmxhc2ggcHJpdmFjeSBzZXR0aW5ncyBwYW5lbCBpcyBzaG93biBmaXJzdFxuICAgIC8vIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlICYmICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmlzaXRlZCcpKSB7XG4gICAgLy8gICAvLyB0aGlzLnBhcmFtcy5uZXdfdXNlciA9IDFcbiAgICAvLyAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aXNpdGVkJywgMSlcbiAgICAvLyB9XG4gICAgLy8gdGhpcy5wYXJhbXMubmV3X3VzZXIgPSAxXG4gICAgLy8gY29uc3RydWN0IGZsYXNodmFycyBzdHJpbmdcbiAgICB2YXIgZmxhc2h2YXJzID0gJydcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wYXJhbXMpIHtcbiAgICAgIGlmIChmbGFzaHZhcnMpIGZsYXNodmFycyArPSAnJidcbiAgICAgIGZsYXNodmFycyArPSBrZXkgKyAnPScgKyBlc2NhcGUodGhpcy5wYXJhbXNba2V5XSlcbiAgICB9XG5cbiAgICAvLyBjb25zdHJ1Y3Qgb2JqZWN0L2VtYmVkIHRhZ1xuXG4gICAgcmV0dXJuIGA8b2JqZWN0IGNsYXNzaWQ9XCJjbHNpZDpkMjdjZGI2ZS1hZTZkLTExY2YtOTZiOC00NDQ1NTM1NDAwMDBcIiB0eXBlPVwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIiBjb2RlYmFzZT1cIiR7dGhpcy5wcm90b2NvbH06Ly9kb3dubG9hZC5tYWNyb21lZGlhLmNvbS9wdWIvc2hvY2t3YXZlL2NhYnMvZmxhc2gvc3dmbGFzaC5jYWIjdmVyc2lvbj05LDAsMCwwXCIgd2lkdGg9XCIke3RoaXMucGFyYW1zLndpZHRofVwiIGhlaWdodD1cIiR7dGhpcy5wYXJhbXMuaGVpZ2h0fVwiIGlkPVwid2ViY2FtX21vdmllX29ialwiIGFsaWduPVwibWlkZGxlXCI+PHBhcmFtIG5hbWU9XCJ3bW9kZVwiIHZhbHVlPVwib3BhcXVlXCIgLz48cGFyYW0gbmFtZT1cImFsbG93U2NyaXB0QWNjZXNzXCIgdmFsdWU9XCJhbHdheXNcIiAvPjxwYXJhbSBuYW1lPVwiYWxsb3dGdWxsU2NyZWVuXCIgdmFsdWU9XCJmYWxzZVwiIC8+PHBhcmFtIG5hbWU9XCJtb3ZpZVwiIHZhbHVlPVwiJHtzd2ZVUkx9XCIgLz48cGFyYW0gbmFtZT1cImxvb3BcIiB2YWx1ZT1cImZhbHNlXCIgLz48cGFyYW0gbmFtZT1cIm1lbnVcIiB2YWx1ZT1cImZhbHNlXCIgLz48cGFyYW0gbmFtZT1cInF1YWxpdHlcIiB2YWx1ZT1cImJlc3RcIiAvPjxwYXJhbSBuYW1lPVwiYmdjb2xvclwiIHZhbHVlPVwiI2ZmZmZmZlwiIC8+PHBhcmFtIG5hbWU9XCJmbGFzaHZhcnNcIiB2YWx1ZT1cIiR7Zmxhc2h2YXJzfVwiLz48ZW1iZWQgaWQ9XCJ3ZWJjYW1fbW92aWVfZW1iZWRcIiBzcmM9XCIke3N3ZlVSTH1cIiB3bW9kZT1cIm9wYXF1ZVwiIGxvb3A9XCJmYWxzZVwiIG1lbnU9XCJmYWxzZVwiIHF1YWxpdHk9XCJiZXN0XCIgYmdjb2xvcj1cIiNmZmZmZmZcIiB3aWR0aD1cIiR7dGhpcy5wYXJhbXMud2lkdGh9XCIgaGVpZ2h0PVwiJHt0aGlzLnBhcmFtcy5oZWlnaHR9XCIgbmFtZT1cIndlYmNhbV9tb3ZpZV9lbWJlZFwiIGFsaWduPVwibWlkZGxlXCIgYWxsb3dTY3JpcHRBY2Nlc3M9XCJhbHdheXNcIiBhbGxvd0Z1bGxTY3JlZW49XCJmYWxzZVwiIHR5cGU9XCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiIHBsdWdpbnNwYWdlPVwiaHR0cDovL3d3dy5tYWNyb21lZGlhLmNvbS9nby9nZXRmbGFzaHBsYXllclwiIGZsYXNodmFycz1cIiR7Zmxhc2h2YXJzfVwiPjwvZW1iZWQ+PC9vYmplY3Q+YFxuICB9XG5cbiAgZ2V0TW92aWUgKCkge1xuICAgIC8vIGdldCByZWZlcmVuY2UgdG8gbW92aWUgb2JqZWN0L2VtYmVkIGluIERPTVxuICAgIHZhciBtb3ZpZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJjYW1fbW92aWVfb2JqJylcbiAgICBpZiAoIW1vdmllIHx8ICFtb3ZpZS5fc25hcCkgbW92aWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViY2FtX21vdmllX2VtYmVkJylcbiAgICBpZiAoIW1vdmllKSBjb25zb2xlLmxvZygnZ2V0TW92aWUgZXJyb3InKVxuICAgIHJldHVybiBtb3ZpZVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSB3ZWJjYW0gY2FwdHVyZSBhbmQgdmlkZW8gcGxheWJhY2suXG4gICAqL1xuICBzdG9wICgpIHtcbiAgICBsZXQgeyB2aWRlbywgdmlkZW9TdHJlYW0gfSA9IHRoaXNcblxuICAgIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgICAgY2FtZXJhUmVhZHk6IGZhbHNlXG4gICAgfSlcblxuICAgIGlmICh2aWRlb1N0cmVhbSkge1xuICAgICAgaWYgKHZpZGVvU3RyZWFtLnN0b3ApIHtcbiAgICAgICAgdmlkZW9TdHJlYW0uc3RvcCgpXG4gICAgICB9IGVsc2UgaWYgKHZpZGVvU3RyZWFtLm1zU3RvcCkge1xuICAgICAgICB2aWRlb1N0cmVhbS5tc1N0b3AoKVxuICAgICAgfVxuXG4gICAgICB2aWRlb1N0cmVhbS5vbmVuZGVkID0gbnVsbFxuICAgICAgdmlkZW9TdHJlYW0gPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKHZpZGVvKSB7XG4gICAgICB2aWRlby5vbmVycm9yID0gbnVsbFxuICAgICAgdmlkZW8ucGF1c2UoKVxuXG4gICAgICBpZiAodmlkZW8ubW96U3JjT2JqZWN0KSB7XG4gICAgICAgIHZpZGVvLm1velNyY09iamVjdCA9IG51bGxcbiAgICAgIH1cblxuICAgICAgdmlkZW8uc3JjID0gJydcbiAgICB9XG5cbiAgICB0aGlzLnZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlVwcHlXZWJjYW0tdmlkZW8nKVxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlVwcHlXZWJjYW0tY2FudmFzJylcbiAgfVxuXG4gIGZsYXNoTm90aWZ5ICh0eXBlLCBtc2cpIHtcbiAgICAvLyByZWNlaXZlIG5vdGlmaWNhdGlvbiBmcm9tIGZsYXNoIGFib3V0IGV2ZW50XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdmbGFzaExvYWRDb21wbGV0ZSc6XG4gICAgICAgIC8vIG1vdmllIGxvYWRlZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnY2FtZXJhTGl2ZSc6XG4gICAgICAgIC8vIGNhbWVyYSBpcyBsaXZlIGFuZCByZWFkeSB0byBzbmFwXG4gICAgICAgIHRoaXMubGl2ZSA9IHRydWVcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAvLyBGbGFzaCBlcnJvclxuICAgICAgICBjb25zb2xlLmxvZygnVGhlcmUgd2FzIGEgZmxhc2ggZXJyb3InLCBtc2cpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGNhdGNoLWFsbCBldmVudCwganVzdCBpbiBjYXNlXG4gICAgICAgIGNvbnNvbGUubG9nKCd3ZWJjYW0gZmxhc2hfbm90aWZ5OiAnICsgdHlwZSArICc6ICcgKyBtc2cpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgY29uZmlndXJlIChwYW5lbCkge1xuICAgIC8vIG9wZW4gZmxhc2ggY29uZmlndXJhdGlvbiBwYW5lbCAtLSBzcGVjaWZ5IHRhYiBuYW1lOlxuICAgIC8vICdjYW1lcmEnLCAncHJpdmFjeScsICdkZWZhdWx0JywgJ2xvY2FsU3RvcmFnZScsICdtaWNyb3Bob25lJywgJ3NldHRpbmdzTWFuYWdlcidcbiAgICBpZiAoIXBhbmVsKSBwYW5lbCA9ICdjYW1lcmEnXG4gICAgdGhpcy5nZXRNb3ZpZSgpLl9jb25maWd1cmUocGFuZWwpXG4gIH1cblxuICAvKipcbiAgICogVGFrZXMgYSBzbmFwc2hvdCBhbmQgZGlzcGxheXMgaXQgaW4gYSBjYW52YXMuXG4gICAqL1xuICBnZXRJbWFnZSAodmlkZW8sIG9wdHMpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICBjYW52YXMud2lkdGggPSB2aWRlby52aWRlb1dpZHRoXG4gICAgY2FudmFzLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0XG4gICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKHZpZGVvLCAwLCAwKVxuXG4gICAgdmFyIGRhdGFVcmwgPSBjYW52YXMudG9EYXRhVVJMKG9wdHMubWltZVR5cGUpXG5cbiAgICB2YXIgZmlsZSA9IGRhdGFVUkl0b0ZpbGUoZGF0YVVybCwge1xuICAgICAgbmFtZTogb3B0cy5uYW1lXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhVXJsOiBkYXRhVXJsLFxuICAgICAgZGF0YTogZmlsZSxcbiAgICAgIHR5cGU6IG9wdHMubWltZVR5cGVcbiAgICB9XG4gIH1cblxuICB0YWtlU25hcHNob3QgKHZpZGVvLCBjYW52YXMpIHtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgbmFtZTogYHdlYmNhbS0ke0RhdGUubm93KCl9LmpwZ2AsXG4gICAgICBtaW1lVHlwZTogJ2ltYWdlL2pwZWcnXG4gICAgfVxuXG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLmdldEltYWdlKHZpZGVvLCBjYW52YXMsIG9wdHMpXG5cbiAgICBjb25zdCB0YWdGaWxlID0ge1xuICAgICAgc291cmNlOiB0aGlzLmlkLFxuICAgICAgbmFtZTogb3B0cy5uYW1lLFxuICAgICAgZGF0YTogaW1hZ2UuZGF0YSxcbiAgICAgIHR5cGU6IG9wdHMudHlwZVxuICAgIH1cblxuICAgIHJldHVybiB0YWdGaWxlXG4gIH1cbn1cbiIsImZ1bmN0aW9uIGRhdGFVUkl0b0Jsb2IgKGRhdGFVUkksIG9wdHMsIHRvRmlsZSkge1xuICAvLyBnZXQgdGhlIGJhc2U2NCBkYXRhXG4gIHZhciBkYXRhID0gZGF0YVVSSS5zcGxpdCgnLCcpWzFdXG5cbiAgLy8gdXNlciBtYXkgcHJvdmlkZSBtaW1lIHR5cGUsIGlmIG5vdCBnZXQgaXQgZnJvbSBkYXRhIFVSSVxuICB2YXIgbWltZVR5cGUgPSBvcHRzLm1pbWVUeXBlIHx8IGRhdGFVUkkuc3BsaXQoJywnKVswXS5zcGxpdCgnOicpWzFdLnNwbGl0KCc7JylbMF1cblxuICAvLyBkZWZhdWx0IHRvIHBsYWluL3RleHQgaWYgZGF0YSBVUkkgaGFzIG5vIG1pbWVUeXBlXG4gIGlmIChtaW1lVHlwZSA9PSBudWxsKSB7XG4gICAgbWltZVR5cGUgPSAncGxhaW4vdGV4dCdcbiAgfVxuXG4gIHZhciBiaW5hcnkgPSBhdG9iKGRhdGEpXG4gIHZhciBhcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYmluYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgYXJyYXkucHVzaChiaW5hcnkuY2hhckNvZGVBdChpKSlcbiAgfVxuXG4gIC8vIENvbnZlcnQgdG8gYSBGaWxlP1xuICBpZiAodG9GaWxlKSB7XG4gICAgcmV0dXJuIG5ldyBGaWxlKFtuZXcgVWludDhBcnJheShhcnJheSldLCBvcHRzLm5hbWUgfHwgJycsIHt0eXBlOiBtaW1lVHlwZX0pXG4gIH1cblxuICByZXR1cm4gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KGFycmF5KV0sIHt0eXBlOiBtaW1lVHlwZX0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRhdGFVUkksIG9wdHMpIHtcbiAgcmV0dXJuIGRhdGFVUkl0b0Jsb2IoZGF0YVVSSSwgb3B0cywgdHJ1ZSlcbn1cbiIsIiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJjb25zdCBVcHB5ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL2NvcmUnKVxuY29uc3QgRGFzaGJvYXJkID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3BsdWdpbnMvRGFzaGJvYXJkJylcbmNvbnN0IEdvb2dsZURyaXZlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3BsdWdpbnMvR29vZ2xlRHJpdmUnKVxuY29uc3QgRHJvcGJveCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3NyYy9wbHVnaW5zL0Ryb3Bib3gnKVxuY29uc3QgV2ViY2FtID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3BsdWdpbnMvV2ViY2FtJylcbmNvbnN0IFR1czEwID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3BsdWdpbnMvVHVzMTAnKVxuY29uc3QgTWV0YURhdGEgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zcmMvcGx1Z2lucy9NZXRhRGF0YScpXG5jb25zdCBJbmZvcm1lciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3NyYy9wbHVnaW5zL0luZm9ybWVyJylcblxuY29uc3QgVVBQWV9TRVJWRVIgPSByZXF1aXJlKCcuLi9lbnYnKVxuXG5jb25zdCBQUk9UT0NPTCA9IGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyA/ICdodHRwcycgOiAnaHR0cCdcbmNvbnN0IFRVU19FTkRQT0lOVCA9IFBST1RPQ09MICsgJzovL21hc3Rlci50dXMuaW8vZmlsZXMvJ1xuXG5mdW5jdGlvbiB1cHB5SW5pdCAoKSB7XG4gIGNvbnN0IG9wdHMgPSB3aW5kb3cudXBweU9wdGlvbnNcbiAgY29uc3QgZGFzaGJvYXJkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuVXBweURhc2hib2FyZCcpXG4gIGlmIChkYXNoYm9hcmRFbCkge1xuICAgIGNvbnN0IGRhc2hib2FyZEVsUGFyZW50ID0gZGFzaGJvYXJkRWwucGFyZW50Tm9kZVxuICAgIGRhc2hib2FyZEVsUGFyZW50LnJlbW92ZUNoaWxkKGRhc2hib2FyZEVsKVxuICB9XG5cbiAgY29uc3QgdXBweSA9IFVwcHkoe2RlYnVnOiB0cnVlLCBhdXRvUHJvY2VlZDogb3B0cy5hdXRvUHJvY2VlZH0pXG4gIHVwcHkudXNlKERhc2hib2FyZCwge1xuICAgIHRyaWdnZXI6ICcuVXBweU1vZGFsT3BlbmVyQnRuJyxcbiAgICBpbmxpbmU6IG9wdHMuRGFzaGJvYXJkSW5saW5lLFxuICAgIHRhcmdldDogb3B0cy5EYXNoYm9hcmRJbmxpbmUgPyAnLkRhc2hib2FyZENvbnRhaW5lcicgOiAnYm9keSdcbiAgfSlcblxuICBpZiAob3B0cy5Hb29nbGVEcml2ZSkge1xuICAgIHVwcHkudXNlKEdvb2dsZURyaXZlLCB7dGFyZ2V0OiBEYXNoYm9hcmQsIGhvc3Q6IFVQUFlfU0VSVkVSfSlcbiAgfVxuXG4gIGlmIChvcHRzLkRyb3Bib3gpIHtcbiAgICB1cHB5LnVzZShEcm9wYm94LCB7dGFyZ2V0OiBEYXNoYm9hcmQsIGhvc3Q6IFVQUFlfU0VSVkVSfSlcbiAgfVxuXG4gIGlmIChvcHRzLldlYmNhbSkge1xuICAgIHVwcHkudXNlKFdlYmNhbSwge3RhcmdldDogRGFzaGJvYXJkfSlcbiAgfVxuXG4gIHVwcHkudXNlKFR1czEwLCB7ZW5kcG9pbnQ6IFRVU19FTkRQT0lOVCwgcmVzdW1lOiB0cnVlfSlcbiAgdXBweS51c2UoSW5mb3JtZXIsIHt0YXJnZXQ6IERhc2hib2FyZH0pXG4gIHVwcHkudXNlKE1ldGFEYXRhLCB7XG4gICAgZmllbGRzOiBbXG4gICAgICB7IGlkOiAncmVzaXplVG8nLCBuYW1lOiAnUmVzaXplIHRvJywgdmFsdWU6IDEyMDAsIHBsYWNlaG9sZGVyOiAnc3BlY2lmeSBmdXR1cmUgaW1hZ2Ugc2l6ZScgfSxcbiAgICAgIHsgaWQ6ICdkZXNjcmlwdGlvbicsIG5hbWU6ICdEZXNjcmlwdGlvbicsIHZhbHVlOiAnbm9uZScsIHBsYWNlaG9sZGVyOiAnZGVzY3JpYmUgd2hhdCB0aGUgZmlsZSBpcyBmb3InIH1cbiAgICBdXG4gIH0pXG4gIHVwcHkucnVuKClcblxuICB1cHB5Lm9uKCdjb3JlOnN1Y2Nlc3MnLCAoZmlsZUNvdW50KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1lvLCB1cGxvYWRlZDogJyArIGZpbGVDb3VudClcbiAgfSlcbn1cblxudXBweUluaXQoKVxud2luZG93LnVwcHlJbml0ID0gdXBweUluaXRcbiIsImxldCB1cHB5U2VydmVyRW5kcG9pbnQgPSAnaHR0cDovL2xvY2FsaG9zdDozMDIwJ1xuXG5pZiAobG9jYXRpb24uaG9zdG5hbWUgPT09ICd1cHB5LmlvJykge1xuICB1cHB5U2VydmVyRW5kcG9pbnQgPSAnLy9zZXJ2ZXIudXBweS5pbydcbn1cblxuY29uc3QgVVBQWV9TRVJWRVIgPSB1cHB5U2VydmVyRW5kcG9pbnRcbm1vZHVsZS5leHBvcnRzID0gVVBQWV9TRVJWRVJcbiJdfQ==
